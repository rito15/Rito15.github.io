<!DOCTYPE html>



<html lang="en" 
  
    mode="dark"
  
>

  <!--
  The Head
  v2.0
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2017-2019 Cotes Chung
  MIT License
-->

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="theme" content="Chirpy v2.7.2">

  <!-- Begin Jekyll SEO tag v2.7.1 -->
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="유니티 - 트리 구조 데이터 직렬화하기" />
<meta name="author" content="Rito15" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="트리(Tree) 자료구조" />
<meta property="og:description" content="트리(Tree) 자료구조" />
<link rel="canonical" href="https://rito15.github.io/posts/unity-serialize-tree-object/" />
<meta property="og:url" content="https://rito15.github.io/posts/unity-serialize-tree-object/" />
<meta property="og:site_name" content="Rito15" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-09-06T23:23:00+09:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="유니티 - 트리 구조 데이터 직렬화하기" />
<meta name="google-site-verification" content="google_meta_tag_verification" />
<script type="application/ld+json">
{"headline":"유니티 - 트리 구조 데이터 직렬화하기","description":"트리(Tree) 자료구조","dateModified":"2021-09-17T04:13:36+09:00","datePublished":"2021-09-06T23:23:00+09:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://rito15.github.io/posts/unity-serialize-tree-object/"},"url":"https://rito15.github.io/posts/unity-serialize-tree-object/","author":{"@type":"Person","name":"Rito15"},"@type":"BlogPosting","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  <title>유니티 - 트리 구조 데이터 직렬화하기 | Rito15
  </title>

  <!--
  The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps
  Generated by: https://www.favicon-generator.org/
  v2.0
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2019 Cotes Chung
  Published under the MIT license
-->



<link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon">
<link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon">

<link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png">
<link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png">
<link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png">

<link rel="icon" type="image/png" sizes="192x192"  href="/assets/img/favicons/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png">

<link rel="manifest" href="/assets/img/favicons/manifest.json">
<meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'>
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">


  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous">
  <link rel="dns-prefetch" href="https://fonts.gstatic.com">

  <!-- GA -->
  

  <!-- jsDelivr CDN -->
  <link rel="preconnect" href="cdn.jsdelivr.net">
  <link rel="dns-prefetch" href="cdn.jsdelivr.net">

  <!-- Bootstrap -->
  <link rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
    integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous">

  <!-- Font Awesome -->
  <link rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"
    integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ="
    crossorigin="anonymous">

  <!--
  CSS selector for site.
  Chirpy v2.3
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2020 Cotes Chung
  MIT Licensed
-->






<link rel="preload" href="/assets/css/post.css" as="style">
<link rel="stylesheet" href="/assets/css/post.css">


  
    <link rel="preload" as="style" href="/assets/css/lib/bootstrap-toc.min.css">
    <link rel="stylesheet" href="/assets/css/lib/bootstrap-toc.min.css" />
  



  <!-- JavaScripts -->

  <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>

  <script defer
    src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script>

  <!--
  JS selector for site.
  Chirpy v2.3
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2020 Cotes Chung
  MIT Licensed
-->





<script async src="/assets/js/post.min.js"></script>


  <!-- MathJax -->
  <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>





</head>


  <body data-spy="scroll" data-target="#toc">

    <!--
  The Side Bar
  v2.0
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2017-2019 Cotes Chung
  MIT License
-->

<div id="sidebar" class="d-flex flex-column align-items-end">

  <div class="profile-wrapper text-center">
    <div id="avatar">
      <a href="/" alt="avatar" class="mx-auto">
        
        <img src="/assets/img/favicons/android-icon-192x192.png" alt="avatar" onerror="this.style.display='none'">
      </a>
    </div>

    <div class="site-title mt-3">
      <a href="/">Rito15</a>
    </div>

    <div class="site-subtitle font-italic">Game Programmer</div>

  </div><!-- .profile-wrapper -->

  <ul class="w-100">
    <!-- home -->
    <li class="nav-item">
      <a href="/" class="nav-link">
        <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i>
        <span>HOME</span>
      </a>
    </li>
    <!-- the real tabs -->
    
    <li class="nav-item">
      <a href="/tabs/categories/" class="nav-link">
        <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i>
        <span>CATEGORIES</span>
      </a>
    </li> <!-- .nav-item -->
    
    <li class="nav-item">
      <a href="/tabs/tags/" class="nav-link">
        <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i>
        <span>TAGS</span>
      </a>
    </li> <!-- .nav-item -->
    
    <li class="nav-item">
      <a href="/tabs/archives/" class="nav-link">
        <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i>
        <span>ARCHIVES</span>
      </a>
    </li> <!-- .nav-item -->
    
    <li class="nav-item">
      <a href="/tabs/about/" class="nav-link">
        <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i>
        <span>ABOUT</span>
      </a>
    </li> <!-- .nav-item -->
    

  </ul> <!-- ul.nav.flex-column -->

  <div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center">

    
      

      
      <a href="https://github.com/rito15" aria-label="github"
        
        target="_blank" rel="noopener">
        <i class="fab fa-github-alt"></i>
      </a>
      

    
      

      
      <a href="
          javascript:location.href = 'mailto:' + ['ghdtkals15','gmail.com'].join('@')" aria-label="email"
        
        >
        <i class="fas fa-envelope"></i>
      </a>
      

    
      

      
      <a href="/feed.xml" aria-label="rss"
        
        >
        <i class="fas fa-rss"></i>
      </a>
      

    

    

  </div> <!-- .sidebar-bottom -->

</div><!-- #sidebar -->


    <!--
  The Top Bar
  v2.0
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2017-2019 Cotes Chung
  MIT License
-->
<div id="topbar-wrapper" class="row justify-content-center topbar-down">
  <div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between">
    <span id="breadcrumb">
      
        
        <span>
          <a href="/">
            Posts
          </a>
        </span>
        
      

      
        <span>유니티 - 트리 구조 데이터 직렬화하기</span>
      

    </span><!-- endof #breadcrumb -->

    <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i>

    <div id="topbar-title">
      Post
    </div>

    <i id="search-trigger" class="fas fa-search fa-fw"></i>
    <span id="search-wrapper" class="align-items-center">
      <i class="fas fa-search fa-fw"></i>
      <input class="form-control" id="search-input" type="search"
        aria-label="search" placeholder="Search...">
      <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i>
    </span>
    <span id="search-cancel" >Cancel</span>
  </div>

</div>


    <div id="main-wrapper">
      <div id="main">

        <!--
  Refactor the HTML structure.
-->



<!--
  In order to allow a wide table to scroll horizontally,
  we suround the markdown table with `<div class="table-wrapper">` and `</div>`
-->


<!--
  Fixed kramdown code highlight rendering:
  https://github.com/penibelst/jekyll-compress-html/issues/101
  https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901
-->


<!-- Add attribute 'hide-bullet' to the checkbox list -->




  

  

  <!-- lazy-load images <https://github.com/ApoorvSaxena/lozad.js#usage> -->
  
  

  

  



<!-- return -->
<div class="row">

  <div id="post-wrapper" class="col-12 col-lg-11 col-xl-8">

    <div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4">

      <h1 data-toc-skip>유니티 - 트리 구조 데이터 직렬화하기</h1>

      <div class="post-meta text-muted d-flex flex-column">
        <!-- Published date and author -->
        <div>
          <!--
  Date format snippet

  v2.4.1
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2020 Cotes Chung
  MIT License
-->
<span class="timeago "
  
    data-toggle="tooltip"
    data-placement="bottom"
    title="Mon, Sep  6, 2021, 11:23 PM +0900"
  >

  
  

  
    Sep  6, 2021
  

  <i class="unloaded">2021-09-06T23:23:00+09:00</i>

</span>
          by
          <span class="author">
            Rito15
          </span>
        </div>

        <div>
          <!-- lastmod -->
          
          <span>
            Updated
            <!--
  Date format snippet

  v2.4.1
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2020 Cotes Chung
  MIT License
-->
<span class="timeago lastmod"
  
    data-toggle="tooltip"
    data-placement="bottom"
    title="Fri, Sep 17, 2021,  4:13 AM +0900"
  >

  
  

  
    Sep 17, 2021
  

  <i class="unloaded">2021-09-17T04:13:36+09:00</i>

</span>
          </span>
          

          <!-- read time -->
          <!--
  Calculate the post's reading time, and display the word count in tooltip
 -->






<!-- return element -->
<span class="readtime" data-toggle="tooltip" data-placement="bottom" title="4469 words">24 min</span>


          <!-- page views -->
          

          <!-- HITS -->
          &nbsp;
          <a href="https://hits.seeyoufarm.com"><img min-width="94" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https://rito15.github.io/posts/unity-serialize-tree-object/%2F&count_bg=%23AC58FA&title_bg=%23555555&icon=&icon_color=%23E7E7E7&title=views&edge_flat=false"/></a> 

        </div>

      </div> <!-- .post-meta -->

      <div class="post-content">

        

        <h1 id="트리tree-자료구조">트리(Tree) 자료구조</h1>
<hr />

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">TreeNode</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="n">TreeNode</span><span class="p">[]</span> <span class="n">children</span><span class="p">;</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>위와 같이 자기 타입의 배열 또는 컬렉션을 필드로 갖는 구조를 트리 자료구조라고 한다.</p>

<p>자식 및 하위 노드들을 순회하기 위해 재귀적 호출을 많이 사용한다.</p>

<p><br /></p>

<!-- --------------------------------------------------------------------------- -->

<h1 id="직렬화serialization">직렬화(Serialization)</h1>
<hr />

<p>데이터를 저장 또는 통신하기 위한 목적으로 변형하는 것을 의미한다.</p>

<p>직렬화 결과의 형태로는 대표적으로 <code class="language-plaintext highlighter-rouge">JSON</code>, <code class="language-plaintext highlighter-rouge">XML</code>, <code class="language-plaintext highlighter-rouge">byte[]</code>, <code class="language-plaintext highlighter-rouge">string</code> 등이 있다.</p>

<p>그리고 유니티 엔진에서는 <code class="language-plaintext highlighter-rouge">SerializedObject</code>가 있다.</p>

<p>단어 의미 그대로 직렬화된 오브젝트라는 뜻이다.</p>

<p><br /></p>

<p><code class="language-plaintext highlighter-rouge">MonoBahaviour</code> 내의 <code class="language-plaintext highlighter-rouge">public</code>, 혹은 직렬화 가능한 필드는</p>

<p>인스펙트에 그냥 그대로 보이는 것이 아니라,</p>

<p><code class="language-plaintext highlighter-rouge">MonoBehaviour</code> 객체는 <code class="language-plaintext highlighter-rouge">SerializedObject</code>로 직렬화 되고</p>

<p>직렬화 가능한 필드는 <code class="language-plaintext highlighter-rouge">SerializedProperty</code>로 직렬화되며 현재 상태를 저장하고,</p>

<p>그 상태의 값이 인스펙터에 표시되는 것이다.</p>

<p>그리고 그 뿐만 아니라 직렬화된 값은 그대로 저장되어</p>

<p>유니티 에디터를 종료하고 다시 시작하거나 플레이모드에 진입, 해제해도</p>

<p>저장된 값이 그대로 유지된다.</p>

<p><br /></p>

<p>만약 각각의 필드가 기본 타입이 아닌 클래스 혹은 구조체 타입이라면</p>

<p>해당 타입의 필드, 그리고 필드의 필드… 이렇게 재귀적으로 모두 확인하면서 직렬화된다.</p>

<p>사용자 정의 타입의 경우</p>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="p">[</span><span class="n">System</span><span class="p">.</span><span class="n">Serializable</span><span class="p">]</span>
<span class="k">public</span> <span class="k">class</span> <span class="nc">MyClass</span> <span class="p">{}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>이렇게 <code class="language-plaintext highlighter-rouge">[System.Serializable]</code> 애트리뷰트를 사용해야 직렬화 대상이 된다.</p>

<p><br /></p>

<p>기본적으로 <code class="language-plaintext highlighter-rouge">public</code> 필드는 자동으로 직렬화되고,</p>

<p><code class="language-plaintext highlighter-rouge">private</code>, <code class="language-plaintext highlighter-rouge">protected</code> 필드는 <code class="language-plaintext highlighter-rouge">[UnityEngine.SerializeField]</code> 애트리뷰트를 필드 위에 작성하면 직렬화 대상이 된다.</p>

<p>프로퍼티와 읽기 전용 필드, 상수 필드는 직렬화되지 않지만</p>

<p>자동 구현 프로퍼티의 경우 <code class="language-plaintext highlighter-rouge">[field: UnityEngine.SerializeField]</code>를 붙이면 직렬화된다.</p>

<p><br />
<!-- --------------------------------------------------------------------------- --></p>

<h1 id="트리-구조의-재귀적-직렬화-문제">트리 구조의 재귀적 직렬화 문제</h1>
<hr />

<p>트리 구조는 자기 타입과 동일한 필드가 존재하기 때문에</p>

<p>직렬화를 위해 필드를 확인하고, 다시 해당 필드 타입의 필드를 확인하고 …</p>

<p>이렇게 재귀적으로 이어나갈 경우 무한히 재귀가 이어지게 된다.</p>

<p>따라서 트리 구조 그대로의 직렬화는 불가능하며,</p>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="p">[</span><span class="n">System</span><span class="p">.</span><span class="n">Serializable</span><span class="p">]</span>
<span class="k">class</span> <span class="nc">TreeNode</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="n">TreeNode</span><span class="p">[]</span> <span class="n">children</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">public</span> <span class="n">TreeNode</span> <span class="n">treeRoot</span><span class="p">;</span>
</pre></td></tr></tbody></table></code></div></div>

<p>인스펙터에 표시하기 위해 위와 같이 작성하기만 해도</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td><td class="rouge-code"><pre>Serialization depth limit 10 exceeded at 'TreeNode.children'.
There may be an object composition cycle in one or more of your serialized classes.

Serialization hierarchy:
11: TreeNode.children
10: TreeNode.children
9: TreeNode.children
8: TreeNode.children
7: TreeNode.children
6: TreeNode.children
5: TreeNode.children
4: TreeNode.children
3: TreeNode.children
2: TreeNode.children
1: TreeNode.children
0: treeRoot
</pre></td></tr></tbody></table></code></div></div>

<p>이런 경고를 확인할 수 있다.</p>

<p>각 노드마다 자식을 하나씩 생성해서 하이라키에서 확인해보면</p>

<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/42164422/132127025-a74b7f4c-8159-4191-8b70-8b009a3309aa.png" alt="image" /></p>

<p>이렇게 깊이 10까지만 나타나고, 그 이후로는 보이지 않는다.</p>

<p>만약 범용 트리 구조를 만들려고 한다면 절대 이대로는 사용할 수 없다.</p>

<p><br />
<!-- --------------------------------------------------------------------------- --></p>

<h1 id="직렬화-전용-타입-정의">직렬화 전용 타입 정의</h1>
<hr />

<p>위에서 살펴본 재귀적 직렬화 문제 때문에,</p>

<p>트리와 같은 재귀적 구조는 직렬화가 필요할 경우</p>

<p>직렬화를 위한 타입을 따로 정의해야 한다.</p>

<p><br /></p>

<h2 id="트리-노드-클래스-정의"><strong>트리 노드 클래스 정의</strong></h2>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="k">public</span> <span class="k">class</span> <span class="nc">TreeNode</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="n">name</span><span class="p">;</span>
    <span class="k">public</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">TreeNode</span><span class="p">&gt;</span> <span class="n">children</span><span class="p">;</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>위와 같이 각 노드마다 간단히 이름만 저장하는 트리 노드 클래스를 정의한다.</p>

<p>하지만 범용성을 위해, 여러 개의 필드가 있는 경우를 가정하여</p>

<p>내부 데이터를 하나의 데이터 클래스로 묶어준다.</p>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
</pre></td><td class="rouge-code"><pre><span class="k">public</span> <span class="k">class</span> <span class="nc">TreeNode</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="n">NodeData</span> <span class="n">data</span><span class="p">;</span>
    <span class="k">public</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">TreeNode</span><span class="p">&gt;</span> <span class="n">children</span><span class="p">;</span>
    
    <span class="k">public</span> <span class="nf">TreeNode</span><span class="p">(</span><span class="n">NodeData</span> <span class="n">data</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="n">children</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">TreeNode</span><span class="p">&gt;();</span>
        <span class="k">this</span><span class="p">.</span><span class="n">data</span> <span class="p">=</span> <span class="n">data</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="nf">TreeNode</span><span class="p">(</span><span class="kt">string</span> <span class="n">name</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="n">children</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">TreeNode</span><span class="p">&gt;();</span>
        <span class="k">this</span><span class="p">.</span><span class="n">data</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">NodeData</span><span class="p">(</span><span class="n">name</span><span class="p">);</span>
    <span class="p">}</span>
    
    <span class="k">public</span> <span class="k">void</span> <span class="nf">AddChild</span><span class="p">(</span><span class="n">TreeNode</span> <span class="n">child</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">children</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">child</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="p">[</span><span class="n">System</span><span class="p">.</span><span class="n">Serializable</span><span class="p">]</span>
<span class="k">public</span> <span class="k">class</span> <span class="nc">NodeData</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="n">name</span><span class="p">;</span>

    <span class="k">public</span> <span class="nf">NodeData</span><span class="p">(</span><span class="kt">string</span> <span class="n">name</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="n">name</span> <span class="p">=</span> <span class="n">name</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><br /></p>

<h2 id="직렬화-가능한-타입-정의"><strong>직렬화 가능한 타입 정의</strong></h2>

<p>노드 내부의 데이터를 <code class="language-plaintext highlighter-rouge">NodeData</code>로 묶었기 때문에</p>

<p>직렬화 가능한 타입을 정의할 때 아주 간편하게 정의할 수 있다.</p>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td><td class="rouge-code"><pre><span class="p">[</span><span class="n">System</span><span class="p">.</span><span class="n">Serializable</span><span class="p">]</span>
<span class="k">public</span> <span class="k">class</span> <span class="nc">SerializableTreeNode</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="n">NodeData</span> <span class="n">data</span><span class="p">;</span>
    <span class="k">public</span> <span class="kt">int</span> <span class="n">childCount</span><span class="p">;</span>

    <span class="k">public</span> <span class="nf">SerializableTreeNode</span><span class="p">(</span><span class="n">TreeNode</span> <span class="n">node</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="n">data</span> <span class="p">=</span> <span class="n">node</span><span class="p">.</span><span class="n">data</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="n">childCount</span> <span class="p">=</span> <span class="n">node</span><span class="p">.</span><span class="n">children</span><span class="p">.</span><span class="n">Count</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="n">TreeNode</span> <span class="nf">Deserialize</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nf">TreeNode</span><span class="p">(</span><span class="n">data</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><code class="language-plaintext highlighter-rouge">childCount</code> 필드는 역직렬화를 위해 필요하다.</p>

<p><br />
<!-- --------------------------------------------------------------------------- --></p>

<h1 id="직렬화-및-역직렬화">직렬화 및 역직렬화</h1>
<hr />

<h2 id="직렬화된-데이터-리스트-컨테이너-정의"><strong>직렬화된 데이터 리스트 컨테이너 정의</strong></h2>

<p><code class="language-plaintext highlighter-rouge">TreeNode</code>의 하위 트리를 모두 직렬화하여</p>

<p><code class="language-plaintext highlighter-rouge">SerializableTreeNode[]</code> 또는 <code class="language-plaintext highlighter-rouge">List&lt;SerializableTreeNode&gt;</code> 타입으로 저장하고</p>

<p>여기에 대해 바로 직렬화/역직렬화 기능을 작성할 수도 있지만,</p>

<p>이렇게 되면 해당 기능들은 이를 관리하는 외부 클래스에 작성해야 한다.</p>

<p>따라서 재사용성을 위해 이를 감싸는 컨테이너 클래스를 정의한다.</p>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre><span class="p">[</span><span class="n">System</span><span class="p">.</span><span class="n">Serializable</span><span class="p">]</span>
<span class="k">public</span> <span class="k">class</span> <span class="nc">SerializedTree</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">SerializableTreeNode</span><span class="p">&gt;</span> <span class="n">nodeList</span><span class="p">;</span>

    <span class="k">public</span> <span class="nf">SerializedTree</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">nodeList</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">SerializableTreeNode</span><span class="p">&gt;();</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><br /></p>

<h2 id="노드-순회-방식-결정"><strong>노드 순회 방식 결정</strong></h2>

<p>직렬화 구현 시 노드를 모두 순회하여 리스트에 담고,</p>

<p>역직렬화 시 리스트로부터 트리를 재구성한다.</p>

<p>이 때 노드 순회 방식을 일치시켜줄 필요가 있으며,</p>

<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/42164422/132195808-13d0394f-a544-468e-b029-5218f101254f.png" alt="image" /></p>

<p>위와 같이 공통적으로 DFS(깊이 우선 탐색) 방식을 사용한다.</p>

<p><br /></p>

<h2 id="직렬화-메소드-작성"><strong>직렬화 메소드 작성</strong></h2>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre></td><td class="rouge-code"><pre><span class="cm">/* SerializedTree class */</span>

<span class="k">public</span> <span class="k">void</span> <span class="nf">SerializeFromTree</span><span class="p">(</span><span class="n">TreeNode</span> <span class="n">source</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">nodeList</span><span class="p">.</span><span class="nf">Clear</span><span class="p">();</span>
    <span class="nf">Local_SerializeAll</span><span class="p">(</span><span class="n">source</span><span class="p">);</span>

    <span class="c1">// 재귀 : 지정한 노드와 그 하위 노드를 모두 직렬화</span>
    <span class="k">void</span> <span class="nf">Local_SerializeAll</span><span class="p">(</span><span class="n">TreeNode</span> <span class="n">current</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// 직렬화용 노드 생성, 리스트에 추가</span>
        <span class="n">nodeList</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="k">new</span> <span class="nf">SerializableTreeNode</span><span class="p">(</span><span class="n">current</span><span class="p">));</span>

        <span class="c1">// 자식 순회</span>
        <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">child</span> <span class="k">in</span> <span class="n">current</span><span class="p">.</span><span class="n">children</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="nf">Local_SerializeAll</span><span class="p">(</span><span class="n">child</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><code class="language-plaintext highlighter-rouge">TreeNode</code> 루트 객체를 입력받아 해당 트리를 순회하여</p>

<p>노드를 모두 리스트에 직렬화하는 직렬화 메소드를 작성한다.</p>

<p>노드 하나를 직렬화하고 리스트에 추가하며, 자식이 존재할 경우 순회하는 재귀 메소드를</p>

<p>위와 같이 직렬화 메소드 내에 로컬 메소드로 정의한다.</p>

<p><br /></p>

<h2 id="역직렬화-메소드-작성"><strong>역직렬화 메소드 작성</strong></h2>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
</pre></td><td class="rouge-code"><pre><span class="cm">/* SerializedTree class */</span>

<span class="k">public</span> <span class="n">TreeNode</span> <span class="nf">Deserialize</span><span class="p">()</span>
<span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">nodeList</span><span class="p">.</span><span class="n">Count</span> <span class="p">==</span> <span class="m">0</span><span class="p">)</span> <span class="k">return</span> <span class="k">null</span><span class="p">;</span>

    <span class="kt">int</span> <span class="n">index</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
    <span class="n">TreeNode</span> <span class="n">root</span> <span class="p">=</span> <span class="nf">Local_DeserializeAll</span><span class="p">();</span>

    <span class="k">return</span> <span class="n">root</span><span class="p">;</span>

    <span class="c1">// 재귀 : 루트로부터 모든 자식들 역직렬화 및 트리 생성</span>
    <span class="n">TreeNode</span> <span class="nf">Local_DeserializeAll</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="kt">int</span> <span class="n">currentIndex</span> <span class="p">=</span> <span class="n">index</span><span class="p">;</span>
        <span class="n">TreeNode</span> <span class="n">current</span> <span class="p">=</span> <span class="n">nodeList</span><span class="p">[</span><span class="n">currentIndex</span><span class="p">].</span><span class="nf">Deserialize</span><span class="p">();</span>

        <span class="n">index</span><span class="p">++;</span>

        <span class="c1">// 자식이 있을 경우, 자식을 역직렬화해서 자식목록에 추가</span>
        <span class="c1">// 그리고 다시 그 자식에서 재귀</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">nodeList</span><span class="p">[</span><span class="n">currentIndex</span><span class="p">].</span><span class="n">childCount</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span>
        <span class="p">{</span>
            <span class="n">current</span><span class="p">.</span><span class="nf">AddChild</span><span class="p">(</span><span class="nf">Local_DeserializeAll</span><span class="p">());</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="n">current</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>역직렬화 시, 리스트의 <code class="language-plaintext highlighter-rouge">0</code>번 인덱스에 위치한 노드를 루트로 가정하고</p>

<p>직렬화 메소드와 마찬가지로 재귀를 위한 로컬 메소드를 정의한다.</p>

<p>로컬 메소드에서는 리스트의 현재 인덱스에 위치한 노드를 역직렬화하여 노드 객체를 생성하고,</p>

<p><code class="language-plaintext highlighter-rouge">childCount</code>를 확인하여 자식 개수만큼 순회하며 해당 노드들을 자신의 자식으로 추가한다.</p>

<p>그리고 그 자식 노드에서 재귀를 이어나가며 인덱스를 증가시킨다.</p>

<p><br /></p>

<h2 id="새로운-생성자-작성"><strong>새로운 생성자 작성</strong></h2>

<p>이미 존재하는 트리로부터 곧바로 직렬화된 노드 배열을 생성할 수 있도록, 생성자를 작성한다.</p>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="cm">/* SerializedTree class */</span>

<span class="k">public</span> <span class="nf">SerializedTree</span><span class="p">(</span><span class="n">TreeNode</span> <span class="n">rootNode</span><span class="p">)</span> <span class="p">:</span> <span class="k">this</span><span class="p">()</span>
<span class="p">{</span>
    <span class="nf">SerializeFromTree</span><span class="p">(</span><span class="n">rootNode</span><span class="p">);</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><br /></p>

<h2 id="데이터-존재-확인-메소드-작성"><strong>데이터 존재 확인 메소드 작성</strong></h2>

<p>내부 리스트가 노드를 갖고 있는지 여부를 확인할 수 있는 간단한 메소드를 작성한다.</p>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="cm">/* SerializedTree class */</span>

<span class="k">public</span> <span class="kt">bool</span> <span class="nf">HasData</span><span class="p">()</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">nodeList</span><span class="p">.</span><span class="n">Count</span> <span class="p">&gt;</span> <span class="m">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><br />
<!-- --------------------------------------------------------------------------- --></p>

<h1 id="테스트">테스트</h1>
<hr />

<h2 id="출력-메소드-작성"><strong>출력 메소드 작성</strong></h2>

<p>테스트를 위해, 노드를 모두 순회하면서 내용을 출력하는 메소드를 작성한다.</p>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre></td><td class="rouge-code"><pre><span class="k">public</span> <span class="k">class</span> <span class="nc">TreeNode</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="n">NodeData</span> <span class="n">data</span><span class="p">;</span>
    <span class="k">public</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">TreeNode</span><span class="p">&gt;</span> <span class="n">children</span><span class="p">;</span>

    <span class="c1">// 테스트용 출력 메소드(DFS)</span>
    <span class="k">public</span> <span class="k">void</span> <span class="nf">PrintNode</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nf">Local_PrintNode</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>

        <span class="k">void</span> <span class="nf">Local_PrintNode</span><span class="p">(</span><span class="n">TreeNode</span> <span class="n">node</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">Debug</span><span class="p">.</span><span class="nf">Log</span><span class="p">(</span><span class="s">$"Data : </span><span class="p">{</span><span class="n">node</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="n">name</span><span class="p">}</span><span class="s">, ChildCount : </span><span class="p">{</span><span class="n">node</span><span class="p">.</span><span class="n">children</span><span class="p">.</span><span class="n">Count</span><span class="p">}</span><span class="s">"</span><span class="p">);</span>

            <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">child</span> <span class="k">in</span> <span class="n">node</span><span class="p">.</span><span class="n">children</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="nf">Local_PrintNode</span><span class="p">(</span><span class="n">child</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><br /></p>

<h2 id="샘플-데이터-생성"><strong>샘플 데이터 생성</strong></h2>

<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/42164422/132195808-13d0394f-a544-468e-b029-5218f101254f.png" alt="image" /></p>

<p>위 그림대로 테스트를 위한 샘플 데이터를 정의한다.</p>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre></td><td class="rouge-code"><pre><span class="n">TreeNode</span><span class="p">[]</span> <span class="n">nodes</span> <span class="p">=</span> <span class="k">new</span> <span class="n">TreeNode</span><span class="p">[</span><span class="m">15</span><span class="p">];</span>
<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">nodes</span><span class="p">.</span><span class="n">Length</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span>
    <span class="n">nodes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">TreeNode</span><span class="p">(</span><span class="s">$"</span><span class="p">{</span><span class="n">i</span><span class="p">}</span><span class="s">"</span><span class="p">);</span>

<span class="n">nodes</span><span class="p">[</span><span class="m">0</span><span class="p">].</span><span class="nf">AddChild</span><span class="p">(</span><span class="n">nodes</span><span class="p">[</span><span class="m">1</span><span class="p">]);</span>
<span class="n">nodes</span><span class="p">[</span><span class="m">0</span><span class="p">].</span><span class="nf">AddChild</span><span class="p">(</span><span class="n">nodes</span><span class="p">[</span><span class="m">5</span><span class="p">]);</span>
<span class="n">nodes</span><span class="p">[</span><span class="m">0</span><span class="p">].</span><span class="nf">AddChild</span><span class="p">(</span><span class="n">nodes</span><span class="p">[</span><span class="m">8</span><span class="p">]);</span>
<span class="n">nodes</span><span class="p">[</span><span class="m">1</span><span class="p">].</span><span class="nf">AddChild</span><span class="p">(</span><span class="n">nodes</span><span class="p">[</span><span class="m">2</span><span class="p">]);</span>
<span class="n">nodes</span><span class="p">[</span><span class="m">1</span><span class="p">].</span><span class="nf">AddChild</span><span class="p">(</span><span class="n">nodes</span><span class="p">[</span><span class="m">3</span><span class="p">]);</span>
<span class="n">nodes</span><span class="p">[</span><span class="m">1</span><span class="p">].</span><span class="nf">AddChild</span><span class="p">(</span><span class="n">nodes</span><span class="p">[</span><span class="m">4</span><span class="p">]);</span>
<span class="n">nodes</span><span class="p">[</span><span class="m">5</span><span class="p">].</span><span class="nf">AddChild</span><span class="p">(</span><span class="n">nodes</span><span class="p">[</span><span class="m">6</span><span class="p">]);</span>
<span class="n">nodes</span><span class="p">[</span><span class="m">5</span><span class="p">].</span><span class="nf">AddChild</span><span class="p">(</span><span class="n">nodes</span><span class="p">[</span><span class="m">7</span><span class="p">]);</span>
<span class="n">nodes</span><span class="p">[</span><span class="m">8</span><span class="p">].</span><span class="nf">AddChild</span><span class="p">(</span><span class="n">nodes</span><span class="p">[</span><span class="m">9</span><span class="p">]);</span>
<span class="n">nodes</span><span class="p">[</span><span class="m">8</span><span class="p">].</span><span class="nf">AddChild</span><span class="p">(</span><span class="n">nodes</span><span class="p">[</span><span class="m">13</span><span class="p">]);</span>
<span class="n">nodes</span><span class="p">[</span><span class="m">9</span><span class="p">].</span><span class="nf">AddChild</span><span class="p">(</span><span class="n">nodes</span><span class="p">[</span><span class="m">10</span><span class="p">]);</span>
<span class="n">nodes</span><span class="p">[</span><span class="m">9</span><span class="p">].</span><span class="nf">AddChild</span><span class="p">(</span><span class="n">nodes</span><span class="p">[</span><span class="m">12</span><span class="p">]);</span>
<span class="n">nodes</span><span class="p">[</span><span class="m">10</span><span class="p">].</span><span class="nf">AddChild</span><span class="p">(</span><span class="n">nodes</span><span class="p">[</span><span class="m">11</span><span class="p">]);</span>
<span class="n">nodes</span><span class="p">[</span><span class="m">13</span><span class="p">].</span><span class="nf">AddChild</span><span class="p">(</span><span class="n">nodes</span><span class="p">[</span><span class="m">14</span><span class="p">]);</span>

<span class="n">TreeNode</span> <span class="n">root</span> <span class="p">=</span> <span class="n">nodes</span><span class="p">[</span><span class="m">0</span><span class="p">];</span>
</pre></td></tr></tbody></table></code></div></div>

<p><br /></p>

<h2 id="직렬화-및-역직렬화-테스트"><strong>직렬화 및 역직렬화 테스트</strong></h2>

<p>위의 샘플 트리를 직렬화하여 저장하고, 직렬화된 데이터로부터 다시 역직렬화하여</p>

<p>원본과 정확히 일치하는지 확인한다.</p>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre><span class="c1">// 1. 원본 트리 내용 출력</span>
<span class="n">root</span><span class="p">.</span><span class="nf">PrintNode</span><span class="p">();</span>

<span class="c1">// 2. 직렬화</span>
<span class="n">SerializedTree</span> <span class="n">sBucket</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">SerializedTree</span><span class="p">(</span><span class="n">root</span><span class="p">);</span>

<span class="c1">// 3. 역직렬화</span>
<span class="n">TreeNode</span> <span class="n">restoredTreeRoot</span> <span class="p">=</span> <span class="n">sBucket</span><span class="p">.</span><span class="nf">Deserialize</span><span class="p">();</span>

<span class="c1">// 4. 역직렬화된 트리 내용 출력</span>
<span class="n">restoredTreeRoot</span><span class="p">.</span><span class="nf">PrintNode</span><span class="p">();</span>
</pre></td></tr></tbody></table></code></div></div>

<p>테스트 결과, 원본 트리와 복원된 트리 모두 <code class="language-plaintext highlighter-rouge">0</code> ~ <code class="language-plaintext highlighter-rouge">15</code>까지의 내용이</p>

<p>순서대로 출력되는 것을 확인할 수 있다.</p>

<p><br />
<!-- --------------------------------------------------------------------------- --></p>

<h1 id="최종-트리-클래스-작성">최종 트리 클래스 작성</h1>
<hr />

<p>원본 트리와 직렬화된 트리를 한 번에 보관할 수 있는 클래스를 작성한다.</p>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
</pre></td><td class="rouge-code"><pre><span class="p">[</span><span class="n">System</span><span class="p">.</span><span class="n">Serializable</span><span class="p">]</span>
<span class="k">public</span> <span class="k">class</span> <span class="nc">Tree</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="n">TreeNode</span> <span class="n">root</span><span class="p">;</span>
    <span class="k">public</span> <span class="n">SerializedTree</span> <span class="n">serializedTree</span><span class="p">;</span>

    <span class="k">public</span> <span class="nf">Tree</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="n">serializedTree</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">SerializedTree</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="nf">Tree</span><span class="p">(</span><span class="n">TreeNode</span> <span class="n">rootNode</span><span class="p">)</span> <span class="p">:</span> <span class="k">this</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="n">root</span> <span class="p">=</span> <span class="n">rootNode</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">/// &lt;summary&gt; 트리 복원 필요 여부 확인 &lt;/summary&gt;</span>
    <span class="k">public</span> <span class="kt">bool</span> <span class="nf">IsRestorationRequired</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="n">root</span> <span class="p">==</span> <span class="k">null</span> <span class="p">&amp;&amp;</span> <span class="n">serializedTree</span><span class="p">.</span><span class="nf">HasData</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="c1">/// &lt;summary&gt; 현재 트리의 노드들을 직렬 트리에 저장 &lt;/summary&gt;</span>
    <span class="k">public</span> <span class="k">void</span> <span class="nf">Save</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">root</span> <span class="p">==</span> <span class="k">null</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>
        <span class="n">serializedTree</span><span class="p">.</span><span class="nf">SerializeFromTree</span><span class="p">(</span><span class="n">root</span><span class="p">);</span>

        <span class="n">Debug</span><span class="p">.</span><span class="nf">Log</span><span class="p">(</span><span class="s">"Tree Saved"</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="c1">/// &lt;summary&gt; 직렬 트리로부터 트리 복원 &lt;/summary&gt;</span>
    <span class="k">public</span> <span class="k">void</span> <span class="nf">Restore</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(!</span><span class="n">serializedTree</span><span class="p">.</span><span class="nf">HasData</span><span class="p">())</span> <span class="k">return</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="n">root</span> <span class="p">=</span> <span class="n">serializedTree</span><span class="p">.</span><span class="nf">Deserialize</span><span class="p">();</span>

        <span class="n">Debug</span><span class="p">.</span><span class="nf">Log</span><span class="p">(</span><span class="s">"Tree Restored"</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><br /></p>

<h2 id="고려사항"><strong>고려사항</strong></h2>

<p>플레이모드 진입 시, 직렬화 되지 못한 원본 트리는 <code class="language-plaintext highlighter-rouge">null</code>이 되므로</p>

<p>반드시 <code class="language-plaintext highlighter-rouge">Awake()</code> 메소드 내에서 복원해주어야 한다.</p>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="k">public</span> <span class="n">Tree</span> <span class="n">tree</span><span class="p">;</span>

<span class="k">private</span> <span class="k">void</span> <span class="nf">Awake</span><span class="p">()</span>
<span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">tree</span> <span class="p">!=</span> <span class="k">null</span> <span class="p">&amp;&amp;</span> <span class="n">tree</span><span class="p">.</span><span class="nf">IsRestorationRequired</span><span class="p">())</span>
        <span class="n">tree</span><span class="p">.</span><span class="nf">Restore</span><span class="p">();</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><br />
<!-- --------------------------------------------------------------------------- --></p>

<h1 id="imgui-커스텀-에디터-작성">IMGUI 커스텀 에디터 작성</h1>
<hr />

<h2 id="커스텀-에디터-작성-목적"><strong>커스텀 에디터 작성 목적</strong></h2>

<ul>
  <li>
    <p>트리 필드를 접고 펼칠 수 있는 재귀적 구조로 인스펙터에 표시한다.</p>
  </li>
  <li>
    <p>직렬화된 트리는 존재하지만 원본 트리가 값을 잃어버렸을 때(플레이모드 전환 등)<br />
직렬화된 트리로부터 원본 트리를 자동으로 복원해준다.</p>
  </li>
</ul>

<p><br /></p>

<h2 id="nodedata-클래스-수정"><strong>NodeData 클래스 수정</strong></h2>

<p>커스텀 에디터에서 <code class="language-plaintext highlighter-rouge">Foldout</code>으로 각 노드를 접고 펼칠 수 있도록,</p>

<p><code class="language-plaintext highlighter-rouge">Foldout</code> 상태를 저장하기 위한 필드를 에디터 전용으로 정의한다.</p>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="rouge-code"><pre><span class="p">[</span><span class="n">System</span><span class="p">.</span><span class="n">Serializable</span><span class="p">]</span>
<span class="k">public</span> <span class="k">class</span> <span class="nc">NodeData</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="n">name</span><span class="p">;</span>

<span class="cp">#if UNITY_EDITOR
</span>    <span class="k">public</span> <span class="kt">bool</span> <span class="n">foldout</span><span class="p">;</span>
<span class="cp">#endif
</span>
    <span class="k">public</span> <span class="nf">NodeData</span><span class="p">(</span><span class="kt">string</span> <span class="n">name</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="n">name</span> <span class="p">=</span> <span class="n">name</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><br /></p>

<h2 id="커스텀-에디터-작성"><strong>커스텀 에디터 작성</strong></h2>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
</pre></td><td class="rouge-code"><pre><span class="cp">#if UNITY_EDITOR
</span><span class="p">[</span><span class="nf">CustomEditor</span><span class="p">(</span><span class="k">typeof</span><span class="p">(</span><span class="n">Test_TreeSerialization</span><span class="p">))]</span>
<span class="k">private</span> <span class="k">class</span> <span class="nc">CE</span> <span class="p">:</span> <span class="n">UnityEditor</span><span class="p">.</span><span class="n">Editor</span>
<span class="p">{</span>
    <span class="k">private</span> <span class="n">Test_TreeSerialization</span> <span class="n">m</span><span class="p">;</span>

    <span class="k">private</span> <span class="k">void</span> <span class="nf">OnEnable</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">m</span> <span class="p">=</span> <span class="n">target</span> <span class="k">as</span> <span class="n">Test_TreeSerialization</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnInspectorGUI</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="c1">// 변경사항을 인식하고 저장하기 위해 Undo 등록</span>
        <span class="n">Undo</span><span class="p">.</span><span class="nf">RecordObject</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="k">nameof</span><span class="p">(</span><span class="n">Test_TreeSerialization</span><span class="p">));</span>
        
        <span class="nf">BuildTree</span><span class="p">(</span><span class="n">m</span><span class="p">.</span><span class="n">tree</span><span class="p">);</span>
        <span class="nf">DrawTree</span><span class="p">(</span><span class="n">m</span><span class="p">.</span><span class="n">tree</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="c1">/// &lt;summary&gt; 에디터 작업을 위해 원본 트리 복원 &lt;/summary&gt;</span>
    <span class="k">private</span> <span class="k">void</span> <span class="nf">BuildTree</span><span class="p">(</span><span class="n">Tree</span> <span class="n">tree</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">tree</span> <span class="p">==</span> <span class="k">null</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">Event</span><span class="p">.</span><span class="n">current</span><span class="p">.</span><span class="n">type</span> <span class="p">!=</span> <span class="n">EventType</span><span class="p">.</span><span class="n">Layout</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">tree</span><span class="p">.</span><span class="nf">IsRestorationRequired</span><span class="p">())</span>
        <span class="p">{</span>
            <span class="n">tree</span><span class="p">.</span><span class="nf">Restore</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="c1">/// &lt;summary&gt; 재귀적 Foldout 형태로 트리 그려주기 &lt;/summary&gt;</span>
    <span class="k">private</span> <span class="k">void</span> <span class="nf">DrawTree</span><span class="p">(</span><span class="n">Tree</span> <span class="n">tree</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">tree</span> <span class="p">==</span> <span class="k">null</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">tree</span><span class="p">.</span><span class="n">root</span> <span class="p">==</span> <span class="k">null</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>

        <span class="nf">Local_DrawTreeNode</span><span class="p">(</span><span class="n">tree</span><span class="p">.</span><span class="n">root</span><span class="p">,</span> <span class="m">0</span><span class="p">);</span>

        <span class="k">void</span> <span class="nf">Local_DrawTreeNode</span><span class="p">(</span><span class="n">TreeNode</span> <span class="n">node</span><span class="p">,</span> <span class="kt">int</span> <span class="n">depth</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">EditorGUI</span><span class="p">.</span><span class="n">indentLevel</span> <span class="p">=</span> <span class="n">depth</span><span class="p">;</span>
            <span class="n">node</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="n">foldout</span> <span class="p">=</span> <span class="n">EditorGUILayout</span><span class="p">.</span><span class="nf">Foldout</span><span class="p">(</span><span class="n">node</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="n">foldout</span><span class="p">,</span> <span class="n">node</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="n">name</span><span class="p">);</span>

            <span class="k">if</span> <span class="p">(</span><span class="n">node</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="n">foldout</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">node</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="n">name</span> <span class="p">=</span> <span class="n">EditorGUILayout</span><span class="p">.</span><span class="nf">TextField</span><span class="p">(</span><span class="s">"Data"</span><span class="p">,</span> <span class="n">node</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="n">name</span><span class="p">);</span>
                <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">child</span> <span class="k">in</span> <span class="n">node</span><span class="p">.</span><span class="n">children</span><span class="p">)</span>
                <span class="p">{</span>
                    <span class="nf">Local_DrawTreeNode</span><span class="p">(</span><span class="n">child</span><span class="p">,</span> <span class="n">depth</span> <span class="p">+</span> <span class="m">1</span><span class="p">);</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="cp">#endif
</span></pre></td></tr></tbody></table></code></div></div>

<p><br /></p>

<h2 id="future-works"><strong>Future Works</strong></h2>

<ul>
  <li>커스텀 에디터를 통해 트리의 노드를 원하는 위치에 추가하고 제거할 수 있는 기능 구현</li>
</ul>

<p><br />
<!-- --------------------------------------------------------------------------- --></p>

<h1 id="구현-결과">구현 결과</h1>
<hr />

<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/42164422/132232837-54cd32b5-f621-48e0-b0cf-5e16abc7cff0.png" alt="image" /></p>

<p>위와 같이 재귀적 <code class="language-plaintext highlighter-rouge">Foldout</code>을 통해 에디터에 표시되며,</p>

<p>플레이모드에 진입하거나 빠져나와도 직렬화된 트리로부터 변경사항이 복원되고 유지된다.</p>

<p>또한, 씬 파일을 확인해보면</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td><td class="rouge-code"><pre>  tree:
    serializedTree:
      nodeList:
      - data:
          name: 0
          foldout: 1
        childCount: 3
      - data:
          name: 1
          foldout: 0
        childCount: 3
      - data:
          name: 2
          foldout: 0
        childCount: 0

      ...
</pre></td></tr></tbody></table></code></div></div>

<p>이렇게 정상적으로 저장되는 것을 확인할 수 있다.</p>

<p><br />
<!-- --------------------------------------------------------------------------- --></p>

<h1 id="전체-소스-코드">전체 소스 코드</h1>
<hr />

<details>
  <summary> 
…
</summary>

  <div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
</pre></td><td class="rouge-code"><pre><span class="k">using</span> <span class="nn">System.Collections</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">UnityEngine</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">UnityEditor</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System</span><span class="p">;</span>

<span class="c1">/// &lt;summary&gt; </span>
<span class="c1">/// 트리 자료구조 직렬화 예제</span>
<span class="c1">/// &lt;/summary&gt;</span>
<span class="k">public</span> <span class="k">class</span> <span class="nc">Test_TreeSerialization</span> <span class="p">:</span> <span class="n">MonoBehaviour</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="n">Tree</span> <span class="n">tree</span><span class="p">;</span>

    <span class="k">private</span> <span class="k">void</span> <span class="nf">Awake</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">tree</span> <span class="p">!=</span> <span class="k">null</span> <span class="p">&amp;&amp;</span> <span class="n">tree</span><span class="p">.</span><span class="nf">IsRestorationRequired</span><span class="p">())</span>
        <span class="p">{</span>
            <span class="n">tree</span><span class="p">.</span><span class="nf">Restore</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">private</span> <span class="k">void</span> <span class="nf">Update</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">Input</span><span class="p">.</span><span class="nf">GetKeyDown</span><span class="p">(</span><span class="n">KeyCode</span><span class="p">.</span><span class="n">Space</span><span class="p">))</span>
            <span class="nf">MakeSampleTree</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="k">private</span> <span class="k">void</span> <span class="nf">MakeSampleTree</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">Debug</span><span class="p">.</span><span class="nf">Log</span><span class="p">(</span><span class="s">"Sample Tree Generated"</span><span class="p">);</span>

        <span class="n">TreeNode</span><span class="p">[]</span> <span class="n">nodes</span> <span class="p">=</span> <span class="k">new</span> <span class="n">TreeNode</span><span class="p">[</span><span class="m">15</span><span class="p">];</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">nodes</span><span class="p">.</span><span class="n">Length</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span>
            <span class="n">nodes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">TreeNode</span><span class="p">(</span><span class="s">$"</span><span class="p">{</span><span class="n">i</span><span class="p">}</span><span class="s">"</span><span class="p">);</span>

        <span class="n">nodes</span><span class="p">[</span><span class="m">0</span><span class="p">].</span><span class="nf">AddChild</span><span class="p">(</span><span class="n">nodes</span><span class="p">[</span><span class="m">1</span><span class="p">]);</span>
        <span class="n">nodes</span><span class="p">[</span><span class="m">0</span><span class="p">].</span><span class="nf">AddChild</span><span class="p">(</span><span class="n">nodes</span><span class="p">[</span><span class="m">5</span><span class="p">]);</span>
        <span class="n">nodes</span><span class="p">[</span><span class="m">0</span><span class="p">].</span><span class="nf">AddChild</span><span class="p">(</span><span class="n">nodes</span><span class="p">[</span><span class="m">8</span><span class="p">]);</span>
        <span class="n">nodes</span><span class="p">[</span><span class="m">1</span><span class="p">].</span><span class="nf">AddChild</span><span class="p">(</span><span class="n">nodes</span><span class="p">[</span><span class="m">2</span><span class="p">]);</span>
        <span class="n">nodes</span><span class="p">[</span><span class="m">1</span><span class="p">].</span><span class="nf">AddChild</span><span class="p">(</span><span class="n">nodes</span><span class="p">[</span><span class="m">3</span><span class="p">]);</span>
        <span class="n">nodes</span><span class="p">[</span><span class="m">1</span><span class="p">].</span><span class="nf">AddChild</span><span class="p">(</span><span class="n">nodes</span><span class="p">[</span><span class="m">4</span><span class="p">]);</span>
        <span class="n">nodes</span><span class="p">[</span><span class="m">5</span><span class="p">].</span><span class="nf">AddChild</span><span class="p">(</span><span class="n">nodes</span><span class="p">[</span><span class="m">6</span><span class="p">]);</span>
        <span class="n">nodes</span><span class="p">[</span><span class="m">5</span><span class="p">].</span><span class="nf">AddChild</span><span class="p">(</span><span class="n">nodes</span><span class="p">[</span><span class="m">7</span><span class="p">]);</span>
        <span class="n">nodes</span><span class="p">[</span><span class="m">8</span><span class="p">].</span><span class="nf">AddChild</span><span class="p">(</span><span class="n">nodes</span><span class="p">[</span><span class="m">9</span><span class="p">]);</span>
        <span class="n">nodes</span><span class="p">[</span><span class="m">8</span><span class="p">].</span><span class="nf">AddChild</span><span class="p">(</span><span class="n">nodes</span><span class="p">[</span><span class="m">13</span><span class="p">]);</span>
        <span class="n">nodes</span><span class="p">[</span><span class="m">9</span><span class="p">].</span><span class="nf">AddChild</span><span class="p">(</span><span class="n">nodes</span><span class="p">[</span><span class="m">10</span><span class="p">]);</span>
        <span class="n">nodes</span><span class="p">[</span><span class="m">9</span><span class="p">].</span><span class="nf">AddChild</span><span class="p">(</span><span class="n">nodes</span><span class="p">[</span><span class="m">12</span><span class="p">]);</span>
        <span class="n">nodes</span><span class="p">[</span><span class="m">10</span><span class="p">].</span><span class="nf">AddChild</span><span class="p">(</span><span class="n">nodes</span><span class="p">[</span><span class="m">11</span><span class="p">]);</span>
        <span class="n">nodes</span><span class="p">[</span><span class="m">13</span><span class="p">].</span><span class="nf">AddChild</span><span class="p">(</span><span class="n">nodes</span><span class="p">[</span><span class="m">14</span><span class="p">]);</span>

        <span class="n">tree</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Tree</span><span class="p">(</span><span class="n">nodes</span><span class="p">[</span><span class="m">0</span><span class="p">]);</span>
        <span class="n">tree</span><span class="p">.</span><span class="nf">Save</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="cm">/***********************************************************************
    *                           Tree Node Definition
    ***********************************************************************/</span>
    <span class="err">#</span><span class="n">region</span> <span class="p">.</span>
    <span class="k">public</span> <span class="k">class</span> <span class="nc">TreeNode</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="n">NodeData</span> <span class="n">data</span><span class="p">;</span>
        <span class="k">public</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">TreeNode</span><span class="p">&gt;</span> <span class="n">children</span><span class="p">;</span>

        <span class="k">public</span> <span class="nf">TreeNode</span><span class="p">(</span><span class="n">NodeData</span> <span class="n">data</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="n">children</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">TreeNode</span><span class="p">&gt;();</span>
            <span class="k">this</span><span class="p">.</span><span class="n">data</span> <span class="p">=</span> <span class="n">data</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="nf">TreeNode</span><span class="p">(</span><span class="kt">string</span> <span class="n">name</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="n">children</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">TreeNode</span><span class="p">&gt;();</span>
            <span class="k">this</span><span class="p">.</span><span class="n">data</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">NodeData</span><span class="p">(</span><span class="n">name</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="k">void</span> <span class="nf">AddChild</span><span class="p">(</span><span class="n">TreeNode</span> <span class="n">child</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">children</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">child</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="k">void</span> <span class="nf">PrintNode</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="kt">int</span> <span class="n">depth</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
            <span class="k">const</span> <span class="kt">int</span> <span class="n">MAX_DEPTH</span> <span class="p">=</span> <span class="m">100</span><span class="p">;</span>

            <span class="nf">Local_PrintNode</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>

            <span class="k">void</span> <span class="nf">Local_PrintNode</span><span class="p">(</span><span class="n">TreeNode</span> <span class="n">node</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">Debug</span><span class="p">.</span><span class="nf">Log</span><span class="p">(</span><span class="s">$"Data : </span><span class="p">{</span><span class="n">node</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="n">name</span><span class="p">}</span><span class="s">, ChildCount : </span><span class="p">{</span><span class="n">node</span><span class="p">.</span><span class="n">children</span><span class="p">.</span><span class="n">Count</span><span class="p">}</span><span class="s">"</span><span class="p">);</span>
                <span class="k">if</span> <span class="p">(++</span><span class="n">depth</span> <span class="p">&gt;</span> <span class="n">MAX_DEPTH</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>

                <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">child</span> <span class="k">in</span> <span class="n">node</span><span class="p">.</span><span class="n">children</span><span class="p">)</span>
                <span class="p">{</span>
                    <span class="nf">Local_PrintNode</span><span class="p">(</span><span class="n">child</span><span class="p">);</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="err">#</span><span class="n">endregion</span>
    <span class="cm">/***********************************************************************
    *                           Node Data Definition
    ***********************************************************************/</span>
    <span class="err">#</span><span class="n">region</span> <span class="p">.</span>
    <span class="p">[</span><span class="n">System</span><span class="p">.</span><span class="n">Serializable</span><span class="p">]</span>
    <span class="k">public</span> <span class="k">class</span> <span class="nc">NodeData</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="kt">string</span> <span class="n">name</span><span class="p">;</span>

<span class="cp">#if UNITY_EDITOR
</span>        <span class="k">public</span> <span class="kt">bool</span> <span class="n">foldout</span><span class="p">;</span>
<span class="cp">#endif
</span>
        <span class="k">public</span> <span class="nf">NodeData</span><span class="p">(</span><span class="kt">string</span> <span class="n">name</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="n">name</span> <span class="p">=</span> <span class="n">name</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="err">#</span><span class="n">endregion</span>
    <span class="cm">/***********************************************************************
    *                           Serializable Tree Node Definition
    ***********************************************************************/</span>
    <span class="err">#</span><span class="n">region</span> <span class="p">.</span>
    <span class="p">[</span><span class="n">System</span><span class="p">.</span><span class="n">Serializable</span><span class="p">]</span>
    <span class="k">public</span> <span class="k">class</span> <span class="nc">SerializableTreeNode</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="n">NodeData</span> <span class="n">data</span><span class="p">;</span>
        <span class="k">public</span> <span class="kt">int</span> <span class="n">childCount</span><span class="p">;</span>

        <span class="k">public</span> <span class="nf">SerializableTreeNode</span><span class="p">(</span><span class="n">TreeNode</span> <span class="n">node</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="n">data</span> <span class="p">=</span> <span class="n">node</span><span class="p">.</span><span class="n">data</span><span class="p">;</span>
            <span class="k">this</span><span class="p">.</span><span class="n">childCount</span> <span class="p">=</span> <span class="n">node</span><span class="p">.</span><span class="n">children</span><span class="p">.</span><span class="n">Count</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="n">TreeNode</span> <span class="nf">Deserialize</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="k">new</span> <span class="nf">TreeNode</span><span class="p">(</span><span class="n">data</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="p">[</span><span class="n">System</span><span class="p">.</span><span class="n">Serializable</span><span class="p">]</span>
    <span class="k">public</span> <span class="k">class</span> <span class="nc">SerializedTree</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">SerializableTreeNode</span><span class="p">&gt;</span> <span class="n">nodeList</span><span class="p">;</span>

        <span class="k">public</span> <span class="nf">SerializedTree</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">nodeList</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">SerializableTreeNode</span><span class="p">&gt;();</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="nf">SerializedTree</span><span class="p">(</span><span class="n">TreeNode</span> <span class="n">rootNode</span><span class="p">)</span> <span class="p">:</span> <span class="k">this</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="nf">SerializeFromTree</span><span class="p">(</span><span class="n">rootNode</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="kt">bool</span> <span class="nf">HasData</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="n">nodeList</span><span class="p">.</span><span class="n">Count</span> <span class="p">&gt;</span> <span class="m">0</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="k">void</span> <span class="nf">SerializeFromTree</span><span class="p">(</span><span class="n">TreeNode</span> <span class="n">source</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">nodeList</span><span class="p">.</span><span class="nf">Clear</span><span class="p">();</span>
            <span class="nf">Local_SerializeAll</span><span class="p">(</span><span class="n">source</span><span class="p">);</span>

            <span class="c1">// 재귀 : 지정한 노드와 그 하위 노드를 모두 직렬화</span>
            <span class="k">void</span> <span class="nf">Local_SerializeAll</span><span class="p">(</span><span class="n">TreeNode</span> <span class="n">current</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="c1">// 직렬화용 노드 생성, 리스트에 추가</span>
                <span class="n">nodeList</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="k">new</span> <span class="nf">SerializableTreeNode</span><span class="p">(</span><span class="n">current</span><span class="p">));</span>

                <span class="c1">// 자식 순회</span>
                <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">child</span> <span class="k">in</span> <span class="n">current</span><span class="p">.</span><span class="n">children</span><span class="p">)</span>
                <span class="p">{</span>
                    <span class="nf">Local_SerializeAll</span><span class="p">(</span><span class="n">child</span><span class="p">);</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="n">TreeNode</span> <span class="nf">Deserialize</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">nodeList</span><span class="p">.</span><span class="n">Count</span> <span class="p">==</span> <span class="m">0</span><span class="p">)</span> <span class="k">return</span> <span class="k">null</span><span class="p">;</span>

            <span class="kt">int</span> <span class="n">index</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
            <span class="n">TreeNode</span> <span class="n">root</span> <span class="p">=</span> <span class="nf">Local_DeserializeAll</span><span class="p">();</span>

            <span class="k">return</span> <span class="n">root</span><span class="p">;</span>

            <span class="c1">// 재귀 : 루트로부터 모든 자식들 역직렬화 및 트리 생성</span>
            <span class="n">TreeNode</span> <span class="nf">Local_DeserializeAll</span><span class="p">()</span>
            <span class="p">{</span>
                <span class="c1">//Debug.Log($"Deserialize : {index}");</span>

                <span class="kt">int</span> <span class="n">currentIndex</span> <span class="p">=</span> <span class="n">index</span><span class="p">;</span>
                <span class="n">TreeNode</span> <span class="n">current</span> <span class="p">=</span> <span class="n">nodeList</span><span class="p">[</span><span class="n">currentIndex</span><span class="p">].</span><span class="nf">Deserialize</span><span class="p">();</span>

                <span class="n">index</span><span class="p">++;</span>

                <span class="c1">// 자식이 있을 경우, 자식을 역직렬화해서 자식목록에 추가</span>
                <span class="c1">// 그리고 다시 그 자식에서 재귀</span>
                <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">nodeList</span><span class="p">[</span><span class="n">currentIndex</span><span class="p">].</span><span class="n">childCount</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span>
                <span class="p">{</span>
                    <span class="n">current</span><span class="p">.</span><span class="nf">AddChild</span><span class="p">(</span><span class="nf">Local_DeserializeAll</span><span class="p">());</span>
                <span class="p">}</span>

                <span class="k">return</span> <span class="n">current</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="err">#</span><span class="n">endregion</span>
    <span class="cm">/***********************************************************************
    *                           Tree Definition
    ***********************************************************************/</span>
    <span class="err">#</span><span class="n">region</span> <span class="p">.</span>

    <span class="p">[</span><span class="n">System</span><span class="p">.</span><span class="n">Serializable</span><span class="p">]</span>
    <span class="k">public</span> <span class="k">class</span> <span class="nc">Tree</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="n">TreeNode</span> <span class="n">root</span><span class="p">;</span>
        <span class="k">public</span> <span class="n">SerializedTree</span> <span class="n">serializedTree</span><span class="p">;</span>

        <span class="k">public</span> <span class="nf">Tree</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="n">serializedTree</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">SerializedTree</span><span class="p">();</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="nf">Tree</span><span class="p">(</span><span class="n">TreeNode</span> <span class="n">rootNode</span><span class="p">)</span> <span class="p">:</span> <span class="k">this</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="n">root</span> <span class="p">=</span> <span class="n">rootNode</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="c1">/// &lt;summary&gt; 트리 복원 필요 여부 확인 &lt;/summary&gt;</span>
        <span class="k">public</span> <span class="kt">bool</span> <span class="nf">IsRestorationRequired</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="n">root</span> <span class="p">==</span> <span class="k">null</span> <span class="p">&amp;&amp;</span> <span class="n">serializedTree</span><span class="p">.</span><span class="nf">HasData</span><span class="p">();</span>
        <span class="p">}</span>

        <span class="c1">/// &lt;summary&gt; 현재 트리의 노드들을 직렬 트리에 저장 &lt;/summary&gt;</span>
        <span class="k">public</span> <span class="k">void</span> <span class="nf">Save</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">root</span> <span class="p">==</span> <span class="k">null</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>
            <span class="n">serializedTree</span><span class="p">.</span><span class="nf">SerializeFromTree</span><span class="p">(</span><span class="n">root</span><span class="p">);</span>

            <span class="n">Debug</span><span class="p">.</span><span class="nf">Log</span><span class="p">(</span><span class="s">"Tree Saved"</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="c1">/// &lt;summary&gt; 직렬 트리로부터 트리 복원 &lt;/summary&gt;</span>
        <span class="k">public</span> <span class="k">void</span> <span class="nf">Restore</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="k">if</span> <span class="p">(!</span><span class="n">serializedTree</span><span class="p">.</span><span class="nf">HasData</span><span class="p">())</span> <span class="k">return</span><span class="p">;</span>
            <span class="k">this</span><span class="p">.</span><span class="n">root</span> <span class="p">=</span> <span class="n">serializedTree</span><span class="p">.</span><span class="nf">Deserialize</span><span class="p">();</span>

            <span class="n">Debug</span><span class="p">.</span><span class="nf">Log</span><span class="p">(</span><span class="s">"Tree Restored"</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="err">#</span><span class="n">endregion</span>
    <span class="cm">/***********************************************************************
    *                           Custom Editor
    ***********************************************************************/</span>
    <span class="err">#</span><span class="n">region</span> <span class="p">.</span>
<span class="cp">#if UNITY_EDITOR
</span>    <span class="p">[</span><span class="nf">CustomEditor</span><span class="p">(</span><span class="k">typeof</span><span class="p">(</span><span class="n">Test_TreeSerialization</span><span class="p">))]</span>
    <span class="k">private</span> <span class="k">class</span> <span class="nc">CE</span> <span class="p">:</span> <span class="n">UnityEditor</span><span class="p">.</span><span class="n">Editor</span>
    <span class="p">{</span>
        <span class="k">private</span> <span class="n">Test_TreeSerialization</span> <span class="n">m</span><span class="p">;</span>

        <span class="k">private</span> <span class="k">void</span> <span class="nf">OnEnable</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">m</span> <span class="p">=</span> <span class="n">target</span> <span class="k">as</span> <span class="n">Test_TreeSerialization</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnInspectorGUI</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">GUILayout</span><span class="p">.</span><span class="nf">Button</span><span class="p">(</span><span class="s">"Reset Tree"</span><span class="p">))</span>
            <span class="p">{</span>
                <span class="n">m</span><span class="p">.</span><span class="n">tree</span><span class="p">.</span><span class="n">root</span> <span class="p">=</span> <span class="k">null</span><span class="p">;</span>
                <span class="n">m</span><span class="p">.</span><span class="n">tree</span><span class="p">.</span><span class="n">serializedTree</span> <span class="p">=</span> <span class="k">null</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">GUILayout</span><span class="p">.</span><span class="nf">Button</span><span class="p">(</span><span class="s">"Generate Sample Tree"</span><span class="p">))</span>
            <span class="p">{</span>
                <span class="nf">GenerateSampleTree</span><span class="p">();</span>
            <span class="p">}</span>

            <span class="nf">BuildTree</span><span class="p">(</span><span class="n">m</span><span class="p">.</span><span class="n">tree</span><span class="p">);</span>
            <span class="nf">DrawTree</span><span class="p">(</span><span class="n">m</span><span class="p">.</span><span class="n">tree</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="k">private</span> <span class="k">void</span> <span class="nf">GenerateSampleTree</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">m</span><span class="p">.</span><span class="nf">MakeSampleTree</span><span class="p">();</span>
        <span class="p">}</span>

        <span class="c1">/// &lt;summary&gt; 에디터 작업을 위해 원본 트리 복원 &lt;/summary&gt;</span>
        <span class="k">private</span> <span class="k">void</span> <span class="nf">BuildTree</span><span class="p">(</span><span class="n">Tree</span> <span class="n">tree</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">tree</span> <span class="p">==</span> <span class="k">null</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">Event</span><span class="p">.</span><span class="n">current</span><span class="p">.</span><span class="n">type</span> <span class="p">!=</span> <span class="n">EventType</span><span class="p">.</span><span class="n">Layout</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>

            <span class="k">if</span> <span class="p">(</span><span class="n">tree</span><span class="p">.</span><span class="nf">IsRestorationRequired</span><span class="p">())</span>
            <span class="p">{</span>
                <span class="n">tree</span><span class="p">.</span><span class="nf">Restore</span><span class="p">();</span>
                <span class="n">Debug</span><span class="p">.</span><span class="nf">Log</span><span class="p">(</span><span class="s">$"Build Tree From Serialized Tree Bucket - </span><span class="p">{</span><span class="n">Event</span><span class="p">.</span><span class="n">current</span><span class="p">.</span><span class="n">type</span><span class="p">}</span><span class="s">"</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="c1">/// &lt;summary&gt; 재귀적 Foldout 형태로 트리 그려주기 &lt;/summary&gt;</span>
        <span class="k">private</span> <span class="k">void</span> <span class="nf">DrawTree</span><span class="p">(</span><span class="n">Tree</span> <span class="n">tree</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">tree</span> <span class="p">==</span> <span class="k">null</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">tree</span><span class="p">.</span><span class="n">root</span> <span class="p">==</span> <span class="k">null</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>

            <span class="nf">Local_DrawTreeNode</span><span class="p">(</span><span class="n">tree</span><span class="p">.</span><span class="n">root</span><span class="p">,</span> <span class="m">0</span><span class="p">);</span>

            <span class="k">void</span> <span class="nf">Local_DrawTreeNode</span><span class="p">(</span><span class="n">TreeNode</span> <span class="n">node</span><span class="p">,</span> <span class="kt">int</span> <span class="n">depth</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">EditorGUI</span><span class="p">.</span><span class="n">indentLevel</span> <span class="p">=</span> <span class="n">depth</span><span class="p">;</span>
                <span class="n">node</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="n">foldout</span> <span class="p">=</span> <span class="n">EditorGUILayout</span><span class="p">.</span><span class="nf">Foldout</span><span class="p">(</span><span class="n">node</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="n">foldout</span><span class="p">,</span> <span class="n">node</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="n">name</span><span class="p">);</span>

                <span class="k">if</span> <span class="p">(</span><span class="n">node</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="n">foldout</span><span class="p">)</span>
                <span class="p">{</span>
                    <span class="n">node</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="n">name</span> <span class="p">=</span> <span class="n">EditorGUILayout</span><span class="p">.</span><span class="nf">TextField</span><span class="p">(</span><span class="s">"Data"</span><span class="p">,</span> <span class="n">node</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="n">name</span><span class="p">);</span>
                    <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">child</span> <span class="k">in</span> <span class="n">node</span><span class="p">.</span><span class="n">children</span><span class="p">)</span>
                    <span class="p">{</span>
                        <span class="nf">Local_DrawTreeNode</span><span class="p">(</span><span class="n">child</span><span class="p">,</span> <span class="n">depth</span> <span class="p">+</span> <span class="m">1</span><span class="p">);</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="cp">#endif
</span>    <span class="err">#</span><span class="n">endregion</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div>  </div>

</details>

<p><br />
<!-- --------------------------------------------------------------------------- --></p>

<h1 id="references">References</h1>
<hr />
<ul>
  <li><a href="https://docs.unity3d.com/kr/530/Manual/script-Serialization.html">https://docs.unity3d.com/kr/530/Manual/script-Serialization.html</a></li>
</ul>



      </div>

      <div class="post-tail-wrapper text-muted">

        <!-- categories -->
        
        <div class="post-meta mb-3">
          <i class="far fa-folder-open fa-fw mr-1"></i>
          
            <a href='/categories/unity/'>Unity</a>,
            <a href='/categories/unity-study/'>Unity Study</a>
        </div>
        

        <!-- tags -->
        
        <div class="post-tags">
          <i class="fa fa-tags fa-fw mr-1"></i>
          
          <a href="/tags/unity/"
            class="post-tag no-text-decoration" >unity</a>
          
          <a href="/tags/csharp/"
            class="post-tag no-text-decoration" >csharp</a>
          
          </div>
        

        <div class="post-tail-bottom
          d-flex justify-content-between align-items-center mt-3 pt-5 pb-2">
          
          <div class="license-wrapper">
            This post is licensed under
            <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a>
            by the author.
          </div>
          

          <!--
 Post sharing snippet

 v2.1
 https://github.com/cotes2020/jekyll-theme-chirpy
 © 2019 Cotes Chung
 Published under the MIT License
-->

<div class="share-wrapper">
  <span class="share-label text-muted mr-1">Share</span>
  <span class="share-icons">
    
    

    
      
        <a href="https://twitter.com/intent/tweet?text=유니티 - 트리 구조 데이터 직렬화하기 - Rito15&url=https://rito15.github.io/posts/unity-serialize-tree-object/" data-toggle="tooltip" data-placement="top"
          title="Twitter" target="_blank" rel="noopener" aria-label="Twitter">
          <i class="fa-fw fab fa-twitter"></i>
        </a>
    
      
        <a href="https://www.facebook.com/sharer/sharer.php?title=유니티 - 트리 구조 데이터 직렬화하기 - Rito15&u=https://rito15.github.io/posts/unity-serialize-tree-object/" data-toggle="tooltip" data-placement="top"
          title="Facebook" target="_blank" rel="noopener" aria-label="Facebook">
          <i class="fa-fw fab fa-facebook-square"></i>
        </a>
    
      
        <a href="https://telegram.me/share?text=유니티 - 트리 구조 데이터 직렬화하기 - Rito15&url=https://rito15.github.io/posts/unity-serialize-tree-object/" data-toggle="tooltip" data-placement="top"
          title="Telegram" target="_blank" rel="noopener" aria-label="Telegram">
          <i class="fa-fw fab fa-telegram"></i>
        </a>
    

    <i class="fa-fw fas fa-link small" onclick="copyLink()"
        data-toggle="tooltip" data-placement="top" title="Copy link"></i>

  </span>
</div>


        </div><!-- .post-tail-bottom -->

      </div><!-- div.post-tail -->

    </div> <!-- .post -->


  </div> <!-- #post-wrapper -->

  

  

  <!--
  The Pannel on right side (Desktop views)
  v2.0
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2017-2019 Cotes Chung
  MIT License
-->

<div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down">

  <div class="access">

  














  

    <div id="access-lastmod" class="post">
      <span>Recent Update</span>
      <ul class="post-content pl-0 pb-1 ml-1 mt-2">

      
        
        
        
        <li><a href="/posts/memo-useful-links-and-tools/">★ 알아두면 좋은 유용한 링크 모음</a></li>
      
        
        
        
        <li><a href="/posts/install-docker-on-windows-10/">Docker - 2. Windows 10 환경에서 도커 설치하기</a></li>
      
        
        
        
        <li><a href="/posts/unity-deltatime-and-fixeddeltatime/">유니티 - Time.deltaTime과 Time.fixedDeltaTime</a></li>
      
        
        
        
        <li><a href="/posts/unity-update-vs-coroutine-every-frame/">유니티 - 매 프레임 처리 성능 테스트 - Update() vs 코루틴</a></li>
      
        
        
        
        <li><a href="/posts/memo-git-command-1-basic/">Git - 명령어 - 1. 기본</a></li>
      

      </ul>
    </div> <!-- #access-lastmod -->

  

  















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        



  
    <div id="access-tags">
      <span>Trending Tags</span>
      <div class="d-flex flex-wrap mt-3 mb-1 mr-3">

      
        
        <a class="post-tag" href="/tags/csharp/">csharp</a>
      
        
        <a class="post-tag" href="/tags/unity/">unity</a>
      
        
        <a class="post-tag" href="/tags/editor/">editor</a>
      
        
        <a class="post-tag" href="/tags/shader/">shader</a>
      
        
        <a class="post-tag" href="/tags/memo/">memo</a>
      
        
        <a class="post-tag" href="/tags/graphics/">graphics</a>
      
        
        <a class="post-tag" href="/tags/opengl/">opengl</a>
      
        
        <a class="post-tag" href="/tags/amplify/">amplify</a>
      
        
        <a class="post-tag" href="/tags/thread/">thread</a>
      
        
        <a class="post-tag" href="/tags/particle/">particle</a>
      

      </div>
    </div>
  
  </div> <!-- .access -->

  
    <div id="toc-wrapper" class="pl-0 pr-4 mb-5">
      <span class="pl-3 pt-2 mb-2">Contents</span>
      <nav id="toc" data-toggle="toc"></nav>
    </div>
  

</div> <!-- #panel-wrapper -->


</div> <!-- .row -->

<div class="row">
  <div class="col-12 col-lg-11 col-xl-8">
    <div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4">

    <!--
 Recommend the other 3 posts according to the tags and categories of the current post,
 if the number is not enough, use the other latest posts to supplement.

 v2.0
 https://github.com/cotes2020/jekyll-theme-chirpy
 © 2019 Cotes Chung
 Published under the MIT License
-->

<!-- The total size of related posts  -->


<!-- An random integer that bigger than 0  -->


<!-- Equals to TAG_SCORE / {max_categories_hierarchy}  -->








  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  
    
  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  








<!-- Fill with the other newlest posts  -->






  <div id="related-posts" class="mt-5 mb-2 mb-sm-4">
    <h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3>
    <div class="card-deck mb-4">
    
      
      
      <div class="card">
        <a href="/posts/unity-million-dust-simulation/">
          <div class="card-body">
            <!--
  Date format snippet

  v2.4.1
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2020 Cotes Chung
  MIT License
-->
<span class="timeago small"
  >

  
  

  
    Sep 27, 2021
  

  <i class="unloaded">2021-09-27T17:00:00+09:00</i>

</span>
            <h3 class="pt-0 mt-1 mb-3" data-toc-skip>유니티 - 물리 기반 먼지 시뮬레이션</h3>
            <div class="text-muted small">
              <p>
                





                목표


  수십만 ~ 백만 개의 먼지를 렌더링한다.
  먼지들의 움직임을 물리 기반으로 직접 구현하여 시뮬레이션한다.
  진공 청소기로 먼지들을 예쁘게 빨아들인다.






주요 개념


Compute Buffer

  큰 병렬 데이터를 GPU에 전달하거나 쉐이더끼리 공유하기 위해 사용한다.
  Vert/Frag, Compute Shader에서 S...
              </p>
            </div>
          </div>
        </a>
      </div>
    
      
      
      <div class="card">
        <a href="/posts/behavior-tree/">
          <div class="card-body">
            <!--
  Date format snippet

  v2.4.1
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2020 Cotes Chung
  MIT License
-->
<span class="timeago small"
  >

  
  

  
    Jan  5, 2021
  

  <i class="unloaded">2021-01-05T00:26:00+09:00</i>

</span>
            <h3 class="pt-0 mt-1 mb-3" data-toc-skip>유니티 - 비헤이비어 트리(Behavior Tree)</h3>
            <div class="text-muted small">
              <p>
                





                개념



  FSM (Finite State Machine)의 단점을 보완하기 위해 만들어진 기법
  FSM에서는 상태 전이 조건을 모두 각각의 상태에서 검사하지만, BT에서는 상태 동작 뿐만 아니라 전이 조건도 노드로 관리한다.
  노드 그래프를 통해 시각화하거나 params, 빌더 패턴 등을 활용하여 스크립트 내에서도 가독성 좋게 구성할 수 있다...
              </p>
            </div>
          </div>
        </a>
      </div>
    
      
      
      <div class="card">
        <a href="/posts/ray-marching/">
          <div class="card-body">
            <!--
  Date format snippet

  v2.4.1
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2020 Cotes Chung
  MIT License
-->
<span class="timeago small"
  >

  
  

  
    Jan 19, 2021
  

  <i class="unloaded">2021-01-19T23:15:00+09:00</i>

</span>
            <h3 class="pt-0 mt-1 mb-3" data-toc-skip>레이 마칭(Ray Marching)</h3>
            <div class="text-muted small">
              <p>
                





                레이 마칭이란?



  
    메시 데이터를 이용하는 기존의 3D 렌더링 방식과는 달리, 거리 함수(SDF)를 통해 오브젝트의 표면을 정의한다.
  
  
    카메라로부터 스크린 픽셀들을 향해 레이를 전진시키고(Ray Marching), 해당 픽셀의 레이가 오브젝트 표면에 닿으면 그 픽셀에 오브젝트 표면을 렌더링하는 방식을 사용한다.
  


...
              </p>
            </div>
          </div>
        </a>
      </div>
    
    </div> <!-- .card-deck -->
  </div> <!-- #related-posts -->



    <!--
  Navigation buttons at the bottom of the post.

  v2.1
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2020 Cotes Chung
  MIT License
-->

<div class="post-navigation d-flex justify-content-between">
  
  <a href="/posts/cs-null-check-trick/" class="btn btn-outline-primary">
    <p>C# - 간단한 트릭 - 널 체크</p>
  </a>
  

  
  <a href="/posts/unity-android-usb-debugging/" class="btn btn-outline-primary">
    <p>유니티 안드로이드 USB 디버깅하기</p>
  </a>
  

</div>

    

    </div> <!-- #post-extend-wrapper -->

  </div> <!-- .col-* -->

</div> <!-- .row -->



<script>
/* 코드 블록 우측 상단 Copy 버튼 */
const codes = document.querySelectorAll('.code-button-header + .highlighter-rouge .rouge-code');
const copyCodeButtons = document.querySelectorAll('.copy-code-button');

copyCodeButtons.forEach((copyCodeButton, index) => {
  copyCodeButton.addEventListener('click', () => {
    window.navigator.clipboard.writeText(codes[index].innerText.slice(0, -1));
    copyCodeButton.classList.add('copied');

    setTimeout(() => {
      copyCodeButton.classList.remove('copied');
    }, 2000);
  });
});
</script>


  <!-- image lazy load: https://github.com/ApoorvSaxena/lozad.js -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script>

<script type="text/javascript">
  const imgs = document.querySelectorAll('.post-content img');
  const observer = lozad(imgs);
  observer.observe();
</script>




        <!--
  The Footer
  v2.0
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2017-2019 Cotes Chung
  MIT License
-->

<footer class="d-flex w-100 justify-content-center">
  <div class="d-flex justify-content-between align-items-center">
    <div class="footer-left">
      <p class="mb-0">
        © 2023
        <a href="https://github.com/rito15">Rito15</a>.
        
        <span data-toggle="tooltip" data-placement="top"
          title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span>
        
      </p>
    </div>

    <div class="footer-right">
      <p class="mb-0">
        Powered by
        <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>
        with
        <a href="https://github.com/cotes2020/jekyll-theme-chirpy/" target="_blank" rel="noopener">Chirpy</a>
        theme.
      </p>
    </div>

  </div> <!-- div.d-flex -->
</footer>


      </div>

      <!--
  The Search results
  v2.0
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2017-2019 Cotes Chung
  MIT License
-->
<div id="search-result-wrapper" class="d-flex justify-content-center unloaded">
  <div class="col-12 col-xl-11 post-content">
    <div id="search-hints">
      <h4 class="text-muted mb-4">Trending Tags</h4>

      















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        



      
        
        <a class="post-tag" href="/tags/csharp/">csharp</a>
      
        
        <a class="post-tag" href="/tags/unity/">unity</a>
      
        
        <a class="post-tag" href="/tags/editor/">editor</a>
      
        
        <a class="post-tag" href="/tags/shader/">shader</a>
      
        
        <a class="post-tag" href="/tags/memo/">memo</a>
      
        
        <a class="post-tag" href="/tags/graphics/">graphics</a>
      
        
        <a class="post-tag" href="/tags/opengl/">opengl</a>
      
        
        <a class="post-tag" href="/tags/amplify/">amplify</a>
      
        
        <a class="post-tag" href="/tags/thread/">thread</a>
      
        
        <a class="post-tag" href="/tags/particle/">particle</a>
      

    </div>
    <div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div>
  </div>
</div>


    </div> <!-- #main-wrapper -->

    
      <!--
  mermaid-js loader
-->
<script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
<script>
  $(function() {
    let initTheme = "default";

    if ($("html[mode=dark]").length > 0
      || ($("html[mode]").length == 0
        && window.matchMedia("(prefers-color-scheme: dark)").matches ) ) {
      initTheme = "dark";
    }

    let mermaidConf = {
      theme: initTheme  /* <default|dark|forest|neutral> */
    };

    /* Markdown converts to HTML */
    $("pre").has("code.language-mermaid").each(function() {
      let svgCode = $(this).children().html();
      $(this).addClass("unloaded");
      $(this).after(`<div class=\"mermaid\">${svgCode}</div>`);
    });

    mermaid.initialize(mermaidConf);
  });
</script>

    

    <div id="mask"></div>

    <a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button">
      <i class="fas fa-angle-up"></i>
    </a>

    <!--
  Jekyll Simple Search loader
  v2.0
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2017-2019 Cotes Chung
  MIT License
-->





<script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script>

<script>
SimpleJekyllSearch({
  searchInput: document.getElementById('search-input'),
  resultsContainer: document.getElementById('search-results'),
  json: '/assets/js/data/search.json',
  searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0">  <a href="https://rito15.github.io{url}">{title}</a>  <div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1">    <div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>{categories}</div>    <div><i class="fa fa-tag fa-fw"></i>{tags}</div>  </div>  <p>{snippet}</p></div>',
  noResultsText: '<p class="mt-5">Oops! No result founds.</p>'
});
</script>


    <!-- 2021-06-29 추가 : 애널리틱스 적용 -->
    <!--
  The GA snippet
  v2.0
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2017-2019 Cotes Chung
  MIT License
-->
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-200391565-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-200391565-1');
</script>


  </body>

</html>

