<!DOCTYPE html>



<html lang="en" 
  
    mode="dark"
  
>

  <!--
  The Head
  v2.0
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2017-2019 Cotes Chung
  MIT License
-->

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="theme" content="Chirpy v2.7.2">

  <!-- Begin Jekyll SEO tag v2.7.1 -->
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="TCP 비동기 소켓으로 간단한 콘솔 채팅 구현하기" />
<meta name="author" content="Rito15" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="이전 포스팅에서 이어집니다." />
<meta property="og:description" content="이전 포스팅에서 이어집니다." />
<link rel="canonical" href="https://rito15.github.io/posts/cs-tcp-async-socket-chatting/" />
<meta property="og:url" content="https://rito15.github.io/posts/cs-tcp-async-socket-chatting/" />
<meta property="og:site_name" content="Rito15" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-08-03T03:33:00+09:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="TCP 비동기 소켓으로 간단한 콘솔 채팅 구현하기" />
<meta name="google-site-verification" content="google_meta_tag_verification" />
<script type="application/ld+json">
{"description":"이전 포스팅에서 이어집니다.","datePublished":"2021-08-03T03:33:00+09:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://rito15.github.io/posts/cs-tcp-async-socket-chatting/"},"url":"https://rito15.github.io/posts/cs-tcp-async-socket-chatting/","author":{"@type":"Person","name":"Rito15"},"headline":"TCP 비동기 소켓으로 간단한 콘솔 채팅 구현하기","dateModified":"2021-08-06T18:31:06+09:00","@type":"BlogPosting","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  <title>TCP 비동기 소켓으로 간단한 콘솔 채팅 구현하기 | Rito15
  </title>

  <!--
  The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps
  Generated by: https://www.favicon-generator.org/
  v2.0
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2019 Cotes Chung
  Published under the MIT license
-->



<link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon">
<link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon">

<link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png">
<link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png">
<link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png">

<link rel="icon" type="image/png" sizes="192x192"  href="/assets/img/favicons/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png">

<link rel="manifest" href="/assets/img/favicons/manifest.json">
<meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'>
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">


  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous">
  <link rel="dns-prefetch" href="https://fonts.gstatic.com">

  <!-- GA -->
  

  <!-- jsDelivr CDN -->
  <link rel="preconnect" href="cdn.jsdelivr.net">
  <link rel="dns-prefetch" href="cdn.jsdelivr.net">

  <!-- Bootstrap -->
  <link rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
    integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous">

  <!-- Font Awesome -->
  <link rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"
    integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ="
    crossorigin="anonymous">

  <!--
  CSS selector for site.
  Chirpy v2.3
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2020 Cotes Chung
  MIT Licensed
-->






<link rel="preload" href="/assets/css/post.css" as="style">
<link rel="stylesheet" href="/assets/css/post.css">


  
    <link rel="preload" as="style" href="/assets/css/lib/bootstrap-toc.min.css">
    <link rel="stylesheet" href="/assets/css/lib/bootstrap-toc.min.css" />
  



  <!-- JavaScripts -->

  <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>

  <script defer
    src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script>

  <!--
  JS selector for site.
  Chirpy v2.3
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2020 Cotes Chung
  MIT Licensed
-->





<script async src="/assets/js/post.min.js"></script>


  <!-- MathJax -->
  <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>





</head>


  <body data-spy="scroll" data-target="#toc">

    <!--
  The Side Bar
  v2.0
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2017-2019 Cotes Chung
  MIT License
-->

<div id="sidebar" class="d-flex flex-column align-items-end">

  <div class="profile-wrapper text-center">
    <div id="avatar">
      <a href="/" alt="avatar" class="mx-auto">
        
        <img src="/assets/img/favicons/android-icon-192x192.png" alt="avatar" onerror="this.style.display='none'">
      </a>
    </div>

    <div class="site-title mt-3">
      <a href="/">Rito15</a>
    </div>

    <div class="site-subtitle font-italic">Game Programmer</div>

  </div><!-- .profile-wrapper -->

  <ul class="w-100">
    <!-- home -->
    <li class="nav-item">
      <a href="/" class="nav-link">
        <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i>
        <span>HOME</span>
      </a>
    </li>
    <!-- the real tabs -->
    
    <li class="nav-item">
      <a href="/tabs/categories/" class="nav-link">
        <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i>
        <span>CATEGORIES</span>
      </a>
    </li> <!-- .nav-item -->
    
    <li class="nav-item">
      <a href="/tabs/tags/" class="nav-link">
        <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i>
        <span>TAGS</span>
      </a>
    </li> <!-- .nav-item -->
    
    <li class="nav-item">
      <a href="/tabs/archives/" class="nav-link">
        <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i>
        <span>ARCHIVES</span>
      </a>
    </li> <!-- .nav-item -->
    
    <li class="nav-item">
      <a href="/tabs/about/" class="nav-link">
        <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i>
        <span>ABOUT</span>
      </a>
    </li> <!-- .nav-item -->
    

  </ul> <!-- ul.nav.flex-column -->

  <div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center">

    
      

      
      <a href="https://github.com/rito15" aria-label="github"
        
        target="_blank" rel="noopener">
        <i class="fab fa-github-alt"></i>
      </a>
      

    
      

      
      <a href="
          javascript:location.href = 'mailto:' + ['ghdtkals15','gmail.com'].join('@')" aria-label="email"
        
        >
        <i class="fas fa-envelope"></i>
      </a>
      

    
      

      
      <a href="/feed.xml" aria-label="rss"
        
        >
        <i class="fas fa-rss"></i>
      </a>
      

    

    

  </div> <!-- .sidebar-bottom -->

</div><!-- #sidebar -->


    <!--
  The Top Bar
  v2.0
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2017-2019 Cotes Chung
  MIT License
-->
<div id="topbar-wrapper" class="row justify-content-center topbar-down">
  <div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between">
    <span id="breadcrumb">
      
        
        <span>
          <a href="/">
            Posts
          </a>
        </span>
        
      

      
        <span>TCP 비동기 소켓으로 간단한 콘솔 채팅 구현하기</span>
      

    </span><!-- endof #breadcrumb -->

    <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i>

    <div id="topbar-title">
      Post
    </div>

    <i id="search-trigger" class="fas fa-search fa-fw"></i>
    <span id="search-wrapper" class="align-items-center">
      <i class="fas fa-search fa-fw"></i>
      <input class="form-control" id="search-input" type="search"
        aria-label="search" placeholder="Search...">
      <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i>
    </span>
    <span id="search-cancel" >Cancel</span>
  </div>

</div>


    <div id="main-wrapper">
      <div id="main">

        <!--
  Refactor the HTML structure.
-->



<!--
  In order to allow a wide table to scroll horizontally,
  we suround the markdown table with `<div class="table-wrapper">` and `</div>`
-->


<!--
  Fixed kramdown code highlight rendering:
  https://github.com/penibelst/jekyll-compress-html/issues/101
  https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901
-->


<!-- Add attribute 'hide-bullet' to the checkbox list -->




  

  

  <!-- lazy-load images <https://github.com/ApoorvSaxena/lozad.js#usage> -->
  
  

  

  



<!-- return -->
<div class="row">

  <div id="post-wrapper" class="col-12 col-lg-11 col-xl-8">

    <div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4">

      <h1 data-toc-skip>TCP 비동기 소켓으로 간단한 콘솔 채팅 구현하기</h1>

      <div class="post-meta text-muted d-flex flex-column">
        <!-- Published date and author -->
        <div>
          <!--
  Date format snippet

  v2.4.1
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2020 Cotes Chung
  MIT License
-->
<span class="timeago "
  
    data-toggle="tooltip"
    data-placement="bottom"
    title="Tue, Aug  3, 2021,  3:33 AM +0900"
  >

  
  

  
    Aug  3, 2021
  

  <i class="unloaded">2021-08-03T03:33:00+09:00</i>

</span>
          by
          <span class="author">
            Rito15
          </span>
        </div>

        <div>
          <!-- lastmod -->
          
          <span>
            Updated
            <!--
  Date format snippet

  v2.4.1
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2020 Cotes Chung
  MIT License
-->
<span class="timeago lastmod"
  
    data-toggle="tooltip"
    data-placement="bottom"
    title="Fri, Aug  6, 2021,  6:31 PM +0900"
  >

  
  

  
    Aug  6, 2021
  

  <i class="unloaded">2021-08-06T18:31:06+09:00</i>

</span>
          </span>
          

          <!-- read time -->
          <!--
  Calculate the post's reading time, and display the word count in tooltip
 -->






<!-- return element -->
<span class="readtime" data-toggle="tooltip" data-placement="bottom" title="3820 words">21 min</span>


          <!-- page views -->
          

          <!-- HITS -->
          &nbsp;
          <a href="https://hits.seeyoufarm.com"><img min-width="94" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https://rito15.github.io/posts/cs-tcp-async-socket-chatting/%2F&count_bg=%23AC58FA&title_bg=%23555555&icon=&icon_color=%23E7E7E7&title=views&edge_flat=false"/></a> 

        </div>

      </div> <!-- .post-meta -->

      <div class="post-content">

        

        <ul>
  <li><a href="../06-cs-tcp-async-socket-with-packet.md/">이전 포스팅</a>에서 이어집니다.</li>
</ul>

<p><br /></p>

<h1 id="1-채팅을-위한-패킷-설계">1. 채팅을 위한 패킷 설계</h1>
<hr />

<h2 id="1-chattingcommand-열거형"><strong>[1] ChattingCommand 열거형</strong></h2>

<ul>
  <li>전달하는 패킷의 명령어를 미리 열거형으로 정의한다.</li>
  <li>명령어의 종류는 크게 공통, 클라이언트의 요청, 서버의 통지 3가지로 나뉜다.</li>
</ul>

<p><br /></p>

<details>
  <summary> 
ChattingCommand.cs
</summary>

  <div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre></td><td class="rouge-code"><pre><span class="c1">/// &lt;summary&gt; 채팅 명령어 &lt;/summary&gt;</span>
<span class="k">public</span> <span class="k">enum</span> <span class="n">ChattingCommand</span>
<span class="p">{</span>
    <span class="cm">/* [1] 공통 */</span>
    <span class="c1">/// &lt;summary&gt; 일반 채팅 &lt;/summary&gt;</span>
    <span class="n">Chat</span><span class="p">,</span>

    <span class="cm">/* [2] 클라이언트 -&gt; 서버 */</span>
    <span class="c1">/// &lt;summary&gt; 닉네임 변경 요청 &lt;/summary&gt;</span>
    <span class="n">RequestRename</span><span class="p">,</span>
    <span class="c1">/// &lt;summary&gt; 입장 + 닉네임 지정 &lt;/summary&gt;</span>
    <span class="n">RequestEnterAndName</span><span class="p">,</span>
    <span class="c1">/// &lt;summary&gt; 퇴장 &lt;/summary&gt;</span>
    <span class="n">RequestExit</span><span class="p">,</span>

    <span class="cm">/* [3] 서버 -&gt; 클라이언트 */</span>
    <span class="c1">/// &lt;summary&gt; 닉네임 변경사항 통지 &lt;/summary&gt;</span>
    <span class="n">NotifyRenamed</span><span class="p">,</span>
    <span class="c1">/// &lt;summary&gt; 입장 통지 &lt;/summary&gt;</span>
    <span class="n">NotifyEntered</span><span class="p">,</span>
    <span class="c1">/// &lt;summary&gt; 퇴장 통지 &lt;/summary&gt;</span>
    <span class="n">NotifyExit</span><span class="p">,</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div>  </div>

</details>

<p><br /></p>

<h2 id="2-chattingpacket-클래스"><strong>[2] ChattingPacket 클래스</strong></h2>

<ul>
  <li>채팅을 위한 패킷을 정의한다.</li>
  <li>패킷의 주요 부분은 크게 <code class="language-plaintext highlighter-rouge">명령어</code>와 <code class="language-plaintext highlighter-rouge">내용</code>으로 나뉜다.</li>
  <li><code class="language-plaintext highlighter-rouge">ID</code>는 현재로서는 필요하지 않으므로 무시한다.</li>
  <li>소켓을 통한 전송 시 필요한 데이터는 <code class="language-plaintext highlighter-rouge">ByteSegment</code> 타입이므로, 패킷을 <code class="language-plaintext highlighter-rouge">ByteSegment</code>로 변환하는 메소드를 작성한다.</li>
</ul>

<p><br /></p>

<details>
  <summary> 
ChattingPacket.cs
</summary>

  <div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
</pre></td><td class="rouge-code"><pre><span class="k">using</span> <span class="nn">ByteSegment</span> <span class="p">=</span> <span class="n">ArraySegment</span><span class="p">&lt;</span><span class="kt">byte</span><span class="p">&gt;;</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">ChattingPacket</span> <span class="p">:</span> <span class="n">Packet</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">readonly</span> <span class="kt">ushort</span> <span class="n">command</span><span class="p">;</span> <span class="c1">// 명령어</span>
    <span class="k">public</span> <span class="k">readonly</span> <span class="kt">string</span> <span class="n">content</span><span class="p">;</span> <span class="c1">// 채팅 내용</span>

    <span class="k">public</span> <span class="nf">ChattingPacket</span><span class="p">(</span><span class="kt">string</span> <span class="n">content</span><span class="p">,</span> <span class="n">ChattingCommand</span> <span class="n">command</span> <span class="p">=</span> <span class="n">ChattingCommand</span><span class="p">.</span><span class="n">Chat</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="n">command</span> <span class="p">=</span> <span class="p">(</span><span class="kt">ushort</span><span class="p">)</span><span class="n">command</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="n">content</span> <span class="p">=</span> <span class="n">content</span><span class="p">;</span>

        <span class="k">this</span><span class="p">.</span><span class="n">size</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="n">ByteSegment</span> <span class="nf">ToByteSegment</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="c1">// * ID는 일단 필요 없으니 사용하지 않음</span>

        <span class="c1">// 1. Command &amp; Content </span>
        <span class="kt">byte</span><span class="p">[]</span> <span class="n">command</span> <span class="p">=</span> <span class="n">BitConverter</span><span class="p">.</span><span class="nf">GetBytes</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">command</span><span class="p">);</span>
        <span class="kt">byte</span><span class="p">[]</span> <span class="n">content</span> <span class="p">=</span> <span class="n">Encoding</span><span class="p">.</span><span class="n">UTF8</span><span class="p">.</span><span class="nf">GetBytes</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">content</span><span class="p">);</span>

        <span class="k">this</span><span class="p">.</span><span class="n">size</span> <span class="p">+=</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">ushort</span><span class="p">)</span> <span class="p">*</span> <span class="m">2</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="n">size</span> <span class="p">+=</span> <span class="p">(</span><span class="kt">ushort</span><span class="p">)</span><span class="n">content</span><span class="p">.</span><span class="n">Length</span><span class="p">;</span>

        <span class="c1">// 2. Size</span>
        <span class="kt">byte</span><span class="p">[]</span> <span class="n">size</span> <span class="p">=</span> <span class="n">BitConverter</span><span class="p">.</span><span class="nf">GetBytes</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">size</span><span class="p">);</span>

        <span class="c1">// 3. Send Buffer에 작성</span>
        <span class="n">SendBuffer</span><span class="p">.</span><span class="n">Factory</span><span class="p">.</span><span class="nf">Write</span><span class="p">(</span><span class="n">size</span><span class="p">);</span>
        <span class="n">SendBuffer</span><span class="p">.</span><span class="n">Factory</span><span class="p">.</span><span class="nf">Write</span><span class="p">(</span><span class="n">command</span><span class="p">);</span>
        <span class="n">SendBuffer</span><span class="p">.</span><span class="n">Factory</span><span class="p">.</span><span class="nf">Write</span><span class="p">(</span><span class="n">content</span><span class="p">);</span>

        <span class="k">return</span> <span class="n">SendBuffer</span><span class="p">.</span><span class="n">Factory</span><span class="p">.</span><span class="nf">Read</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div>  </div>

</details>

<p><br /></p>

<h2 id="3-chattingpacketdata-구조체"><strong>[3] ChattingPacketData 구조체</strong></h2>

<ul>
  <li>
    <p>전달받은 패킷을 처리할 때, <code class="language-plaintext highlighter-rouge">ByteSegment</code>로부터 <code class="language-plaintext highlighter-rouge">ChattingPacket</code> 객체를 그대로 복원하는 것은 낭비라고 할 수 있다.</p>
  </li>
  <li>
    <p>그렇다고 해서 패킷을 전달받아 처리하는 부분에서 일일이 명령어, 내용을 분리하는 것은 굉장히 비효율적이다.</p>
  </li>
  <li>
    <p>따라서, 전달받은 <code class="language-plaintext highlighter-rouge">ByteSegment</code>로부터 필요한 부분만 추출하고 구조체로 전달할 수 있도록 미리 정의한다.</p>
  </li>
</ul>

<p><br /></p>

<details>
  <summary> 
ChattingPacketData.cs
</summary>

  <div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
</pre></td><td class="rouge-code"><pre><span class="c1">/// &lt;summary&gt; 간소화된 채팅 패킷 데이터 &lt;/summary&gt;</span>
<span class="k">public</span> <span class="k">readonly</span> <span class="k">struct</span> <span class="nc">ChattingPacketData</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">readonly</span> <span class="n">ChattingCommand</span> <span class="n">command</span><span class="p">;</span>
    <span class="k">public</span> <span class="k">readonly</span> <span class="kt">string</span> <span class="n">content</span><span class="p">;</span>

    <span class="k">private</span> <span class="nf">ChattingPacketData</span><span class="p">(</span><span class="n">ChattingCommand</span> <span class="n">command</span><span class="p">,</span> <span class="kt">string</span> <span class="n">content</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="n">command</span> <span class="p">=</span> <span class="n">command</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="n">content</span> <span class="p">=</span> <span class="n">content</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">/// &lt;summary&gt; ByteSegment로부터 패킷 데이터 조립 &lt;/summary&gt;</span>
    <span class="k">public</span> <span class="k">static</span> <span class="n">ChattingPacketData</span> <span class="nf">FromByteSegment</span><span class="p">(</span><span class="n">ByteSegment</span> <span class="n">seg</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="kt">ushort</span> <span class="n">usSize</span> <span class="p">=</span> <span class="n">BitConverter</span><span class="p">.</span><span class="nf">ToUInt16</span><span class="p">(</span><span class="n">seg</span><span class="p">.</span><span class="n">Array</span><span class="p">,</span> <span class="m">0</span><span class="p">);</span>
        <span class="kt">ushort</span> <span class="n">usCommand</span> <span class="p">=</span> <span class="n">BitConverter</span><span class="p">.</span><span class="nf">ToUInt16</span><span class="p">(</span><span class="n">seg</span><span class="p">.</span><span class="n">Array</span><span class="p">,</span> <span class="m">2</span><span class="p">);</span>

        <span class="kt">int</span> <span class="n">contentLen</span> <span class="p">=</span> <span class="n">usSize</span> <span class="p">-</span> <span class="m">4</span><span class="p">;</span>
        <span class="n">ChattingCommand</span> <span class="n">command</span> <span class="p">=</span> <span class="p">(</span><span class="n">ChattingCommand</span><span class="p">)</span><span class="n">usCommand</span><span class="p">;</span>
        <span class="kt">string</span> <span class="n">content</span> <span class="p">=</span> <span class="n">Encoding</span><span class="p">.</span><span class="n">UTF8</span><span class="p">.</span><span class="nf">GetString</span><span class="p">(</span><span class="n">seg</span><span class="p">.</span><span class="n">Array</span><span class="p">,</span> <span class="m">4</span><span class="p">,</span> <span class="n">contentLen</span><span class="p">);</span>

        <span class="k">return</span> <span class="k">new</span> <span class="nf">ChattingPacketData</span><span class="p">(</span><span class="n">command</span><span class="p">,</span> <span class="n">content</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div>  </div>

</details>

<p><br /></p>

<h1 id="2-채팅-서버-설계">2. 채팅 서버 설계</h1>
<hr />

<h2 id="1-chattingmanager-클래스"><strong>[1] ChattingManager 클래스</strong></h2>

<h3 id="특징"><strong>특징</strong></h3>
<ul>
  <li>프로그램 내에 유일하게 존재해야 하므로, 싱글톤으로 작성한다.</li>
  <li>연결된 클라이언트들에 대한 세션을 컬렉션으로 저장하여 관리한다.</li>
  <li>클라이언트들은 중복되면 안되므로 컬렉션은 <code class="language-plaintext highlighter-rouge">HashSet&lt;Session&gt;</code> 타입을 사용한다.</li>
  <li>세션들은 서로 다른 스레드에서 동작하므로, 컬렉션에 접근할 때는 <code class="language-plaintext highlighter-rouge">lock</code>을 사용하여 동기화한다.</li>
</ul>

<p><br /></p>

<h3 id="브로드캐스트와-멀티캐스트"><strong>브로드캐스트와 멀티캐스트</strong></h3>
<ul>
  <li>각 클라이언트에게 패킷을 전송할 때, 브로드캐스트와 멀티캐스트로 나누어 처리한다.</li>
  <li>브로드캐스트 : 목록 내의 모든 클라이언트들에게 패킷을 전송한다.</li>
  <li>멀티캐스트 : 특정 클라이언트를 제외한 모든 클라이언트들에게 패킷을 전송한다.</li>
</ul>

<p><br /></p>

<h3 id="새-클라이언트-추가"><strong>새 클라이언트 추가</strong></h3>
<ul>
  <li>새로운 클라이언트가 연결되었을 때 수행된다.</li>
  <li>세션 목록에 해당 클라이언트에 대한 세션을 추가한다.</li>
  <li>브로드캐스트로 새 클라이언트의 접속을 알린다.</li>
</ul>

<p><br /></p>

<h3 id="클라이언트-제거"><strong>클라이언트 제거</strong></h3>
<ul>
  <li>연결된 클라이언트가 접속을 종료했을 때 수행된다.</li>
  <li>세션 목록에서 해당 클라이언트에 대한 세션을 제거한다.</li>
  <li>다른 클라이언트들이 존재할 경우, 멀티캐스트로 해당 클라이언트의 접속 종료를 알린다.</li>
</ul>

<p><br /></p>

<h3 id="채팅-메시지-전달"><strong>채팅 메시지 전달</strong></h3>
<ul>
  <li>클라이언트가 채팅 메시지를 전송한 경우 수행된다.</li>
  <li>다른 클라이언트들이 존재할 경우, 멀티캐스트로 이름과 채팅 내용을 전송한다.</li>
</ul>

<p><br /></p>

<h3 id="클라이언트-이름-변경"><strong>클라이언트 이름 변경</strong></h3>
<ul>
  <li>클라이언트가 이름 변경을 요청한 경우 수행된다.</li>
  <li>브로드캐스트로 모든 클라이언트들에게 해당 클라이언트의 이름 변경을 알린다.</li>
</ul>

<p><br /></p>

<details>
  <summary> 
ChattingManager.cs
</summary>

  <div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
</pre></td><td class="rouge-code"><pre><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>

<span class="k">using</span> <span class="nn">ByteSegment</span> <span class="p">=</span> <span class="n">System</span><span class="p">.</span><span class="n">ArraySegment</span><span class="p">&lt;</span><span class="kt">byte</span><span class="p">&gt;;</span>

<span class="c1">/// &lt;summary&gt; 채팅 기능 관리 &lt;/summary&gt;</span>
<span class="k">class</span> <span class="nc">ChattingManager</span>
<span class="p">{</span>
    <span class="c1">// Singleton</span>
    <span class="k">public</span> <span class="k">static</span> <span class="n">ChattingManager</span> <span class="n">Instance</span> <span class="p">=&gt;</span> <span class="n">_instance</span><span class="p">;</span>
    <span class="k">private</span> <span class="k">static</span> <span class="k">readonly</span> <span class="n">ChattingManager</span> <span class="n">_instance</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ChattingManager</span><span class="p">();</span>
    <span class="k">private</span> <span class="nf">ChattingManager</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span> <span class="c1">// 생성자 봉인</span>

    <span class="k">public</span> <span class="n">HashSet</span><span class="p">&lt;</span><span class="n">ChattingClientSession</span><span class="p">&gt;</span> <span class="n">ClientSessionList</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="p">}</span> <span class="p">=</span> <span class="k">new</span> <span class="n">HashSet</span><span class="p">&lt;</span><span class="n">ChattingClientSession</span><span class="p">&gt;(</span><span class="m">4</span><span class="p">);</span>
    <span class="k">private</span> <span class="k">readonly</span> <span class="kt">object</span> <span class="n">_lock</span> <span class="p">=</span> <span class="k">new</span> <span class="kt">object</span><span class="p">();</span>

    <span class="cm">/***********************************************************************
    *                               Public Methods
    ***********************************************************************/</span>
    <span class="err">#</span><span class="n">region</span> <span class="p">.</span>
    <span class="c1">/// &lt;summary&gt; 클라이언트로부터 전달받은 패킷 데이터 처리 &lt;/summary&gt;</span>
    <span class="k">public</span> <span class="k">void</span> <span class="nf">HandleDataFromClient</span><span class="p">(</span><span class="n">ChattingClientSession</span> <span class="n">clientSession</span><span class="p">,</span> <span class="k">in</span> <span class="n">ChattingPacketData</span> <span class="n">data</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">switch</span> <span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">command</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="c1">// 채팅 메시지 전달</span>
            <span class="k">case</span> <span class="n">ChattingCommand</span><span class="p">.</span><span class="n">Chat</span><span class="p">:</span>
                <span class="kt">string</span> <span class="n">chatContent</span> <span class="p">=</span> <span class="s">$"[</span><span class="p">{</span><span class="n">clientSession</span><span class="p">.</span><span class="n">ClientName</span><span class="p">}</span><span class="s">] : </span><span class="p">{</span><span class="n">data</span><span class="p">.</span><span class="n">content</span><span class="p">}</span><span class="s">"</span><span class="p">;</span>
                <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">$"Handle - Chat : </span><span class="p">{</span><span class="n">chatContent</span><span class="p">}</span><span class="s">"</span><span class="p">);</span>
                <span class="nf">RelayChattingMessage</span><span class="p">(</span><span class="n">clientSession</span><span class="p">,</span> <span class="n">chatContent</span><span class="p">);</span>
                <span class="k">break</span><span class="p">;</span>

            <span class="c1">// 이름 변경 요청</span>
            <span class="k">case</span> <span class="n">ChattingCommand</span><span class="p">.</span><span class="n">RequestRename</span><span class="p">:</span>
                <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">$"Handle - Request Rename : </span><span class="p">{</span><span class="n">clientSession</span><span class="p">.</span><span class="n">ClientName</span><span class="p">}</span><span class="s"> -&gt; </span><span class="p">{</span><span class="n">data</span><span class="p">.</span><span class="n">content</span><span class="p">}</span><span class="s">"</span><span class="p">);</span>
                <span class="nf">RenameClient</span><span class="p">(</span><span class="n">clientSession</span><span class="p">,</span> <span class="n">data</span><span class="p">.</span><span class="n">content</span><span class="p">);</span>
                <span class="k">break</span><span class="p">;</span>

            <span class="c1">// 접속 및 이름 지정 요청</span>
            <span class="k">case</span> <span class="n">ChattingCommand</span><span class="p">.</span><span class="n">RequestEnterAndName</span><span class="p">:</span>
                <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">$"Handle - Enter and Name : </span><span class="p">{</span><span class="n">data</span><span class="p">.</span><span class="n">content</span><span class="p">}</span><span class="s">"</span><span class="p">);</span>
                <span class="nf">AddClient</span><span class="p">(</span><span class="n">clientSession</span><span class="p">,</span> <span class="n">data</span><span class="p">.</span><span class="n">content</span><span class="p">);</span>
                <span class="k">break</span><span class="p">;</span>

            <span class="k">default</span><span class="p">:</span>
                <span class="k">break</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="err">#</span><span class="n">endregion</span>
    <span class="cm">/***********************************************************************
    *                               Processing Methods
    ***********************************************************************/</span>
    <span class="err">#</span><span class="n">region</span> <span class="p">.</span>
    <span class="c1">/// &lt;summary&gt; 새로운 클라이언트를 목록에 추가 &lt;/summary&gt;</span>
    <span class="k">private</span> <span class="k">void</span> <span class="nf">AddClient</span><span class="p">(</span><span class="n">ChattingClientSession</span> <span class="n">clientSession</span><span class="p">,</span> <span class="kt">string</span> <span class="n">name</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="kt">bool</span> <span class="n">addSucceeded</span><span class="p">;</span>

        <span class="c1">// 1. 목록에 추가</span>
        <span class="k">lock</span> <span class="p">(</span><span class="n">_lock</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">addSucceeded</span> <span class="p">=</span> <span class="n">ClientSessionList</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">clientSession</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="c1">// 2. 이름 지정</span>
        <span class="n">clientSession</span><span class="p">.</span><span class="n">ClientName</span> <span class="p">=</span> <span class="n">name</span><span class="p">;</span>

        <span class="k">if</span> <span class="p">(!</span><span class="n">addSucceeded</span><span class="p">)</span>
            <span class="k">return</span><span class="p">;</span>

        <span class="c1">// 3. 다른 클라이언트들에 입장 통지</span>
        <span class="n">ChattingPacket</span> <span class="n">packet</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ChattingPacket</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">ChattingCommand</span><span class="p">.</span><span class="n">NotifyEntered</span><span class="p">);</span>
        <span class="nf">BroadcastToAll</span><span class="p">(</span><span class="n">packet</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="c1">/// &lt;summary&gt; 목록에서 클라이언트 제거 &lt;/summary&gt;</span>
    <span class="k">public</span> <span class="k">void</span> <span class="nf">RemoveClient</span><span class="p">(</span><span class="n">ChattingClientSession</span> <span class="n">clientSession</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// 1. 목록에서 제거</span>
        <span class="k">lock</span> <span class="p">(</span><span class="n">_lock</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">ClientSessionList</span><span class="p">.</span><span class="nf">Remove</span><span class="p">(</span><span class="n">clientSession</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="c1">// 2. 이름 지정 여부 확인</span>
        <span class="k">if</span> <span class="p">(</span><span class="kt">string</span><span class="p">.</span><span class="nf">IsNullOrWhiteSpace</span><span class="p">(</span><span class="n">clientSession</span><span class="p">.</span><span class="n">ClientName</span><span class="p">))</span>
            <span class="k">return</span><span class="p">;</span>

        <span class="c1">// 3. 다른 클라이언트들에 퇴장 통지</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">ClientSessionList</span><span class="p">.</span><span class="n">Count</span> <span class="p">&gt;</span> <span class="m">0</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">ChattingPacket</span> <span class="n">packet</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ChattingPacket</span><span class="p">(</span><span class="n">clientSession</span><span class="p">.</span><span class="n">ClientName</span><span class="p">,</span> <span class="n">ChattingCommand</span><span class="p">.</span><span class="n">NotifyExit</span><span class="p">);</span>
            <span class="nf">MulticastToAll</span><span class="p">(</span><span class="n">clientSession</span><span class="p">,</span> <span class="n">packet</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="c1">/// &lt;summary&gt; 지정한 클라이언트의 이름 변경 &lt;/summary&gt;</span>
    <span class="k">private</span> <span class="k">void</span> <span class="nf">RenameClient</span><span class="p">(</span><span class="n">ChattingClientSession</span> <span class="n">clientSession</span><span class="p">,</span> <span class="kt">string</span> <span class="n">newName</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// 1. "기존이름|새로운이름" 꼴로 내용 구성</span>
        <span class="kt">string</span> <span class="n">renameContent</span> <span class="p">=</span> <span class="s">$"</span><span class="p">{</span><span class="n">clientSession</span><span class="p">.</span><span class="n">ClientName</span><span class="p">}</span><span class="s">|</span><span class="p">{</span><span class="n">newName</span><span class="p">}</span><span class="s">"</span><span class="p">;</span>

        <span class="c1">// 2. 이름 변경</span>
        <span class="n">clientSession</span><span class="p">.</span><span class="n">ClientName</span> <span class="p">=</span> <span class="n">newName</span><span class="p">;</span>

        <span class="c1">// 3. 모든 클라이언트들에 이름 변경 통지</span>
        <span class="n">ChattingPacket</span> <span class="n">packet</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ChattingPacket</span><span class="p">(</span><span class="n">renameContent</span><span class="p">,</span> <span class="n">ChattingCommand</span><span class="p">.</span><span class="n">NotifyRenamed</span><span class="p">);</span>
        <span class="nf">BroadcastToAll</span><span class="p">(</span><span class="n">packet</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="c1">/// &lt;summary&gt; 해당 클라이언트를 제외한 모두에게 채팅 메시지 전달 &lt;/summary&gt;</span>
    <span class="k">private</span> <span class="k">void</span> <span class="nf">RelayChattingMessage</span><span class="p">(</span><span class="n">ChattingClientSession</span> <span class="n">clientSession</span><span class="p">,</span> <span class="kt">string</span> <span class="n">message</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">ClientSessionList</span><span class="p">.</span><span class="n">Count</span> <span class="p">&gt;</span> <span class="m">1</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">ChattingPacket</span> <span class="n">packet</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ChattingPacket</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">ChattingCommand</span><span class="p">.</span><span class="n">Chat</span><span class="p">);</span>
            <span class="nf">MulticastToAll</span><span class="p">(</span><span class="n">clientSession</span><span class="p">,</span> <span class="n">packet</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="err">#</span><span class="n">endregion</span>
    <span class="cm">/***********************************************************************
    *                               Cast Methods
    ***********************************************************************/</span>
    <span class="err">#</span><span class="n">region</span> <span class="p">.</span>
    <span class="c1">/// &lt;summary&gt; 모든 클라이언트들에 패킷 전달 &lt;/summary&gt;</span>
    <span class="k">private</span> <span class="k">void</span> <span class="nf">BroadcastToAll</span><span class="p">(</span><span class="n">ChattingPacket</span> <span class="n">packet</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">ByteSegment</span> <span class="n">bPacket</span> <span class="p">=</span> <span class="n">packet</span><span class="p">.</span><span class="nf">ToByteSegment</span><span class="p">();</span>

        <span class="k">lock</span> <span class="p">(</span><span class="n">_lock</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">client</span> <span class="k">in</span> <span class="n">ClientSessionList</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">client</span><span class="p">.</span><span class="nf">Send</span><span class="p">(</span><span class="n">bPacket</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="c1">/// &lt;summary&gt; 패킷을 특정 클라이언트 제외, 다른 클라이언트 세션들에 모두 전달 &lt;/summary&gt;</span>
    <span class="k">private</span> <span class="k">void</span> <span class="nf">MulticastToAll</span><span class="p">(</span><span class="n">Session</span> <span class="n">except</span><span class="p">,</span> <span class="n">ChattingPacket</span> <span class="n">packet</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">ByteSegment</span> <span class="n">bPacket</span> <span class="p">=</span> <span class="n">packet</span><span class="p">.</span><span class="nf">ToByteSegment</span><span class="p">();</span>

        <span class="k">lock</span> <span class="p">(</span><span class="n">_lock</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">client</span> <span class="k">in</span> <span class="n">ClientSessionList</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">client</span> <span class="p">==</span> <span class="n">except</span><span class="p">)</span> <span class="k">continue</span><span class="p">;</span>

                <span class="n">client</span><span class="p">.</span><span class="nf">Send</span><span class="p">(</span><span class="n">bPacket</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="err">#</span><span class="n">endregion</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div>  </div>

</details>

<p><br /></p>

<h2 id="2-chattingclientsession-클래스"><strong>[2] ChattingClientSession 클래스</strong></h2>

<ul>
  <li>클라이언트 연결 시 서버 측에 생성되는 클라이언트의 세션</li>
  <li>연결된 클라이언트의 이름을 저장한다.</li>
  <li>클라이언트로부터 패킷을 수신할 경우 패킷을 분리하여 <code class="language-plaintext highlighter-rouge">ChattingManager</code> 싱글톤에 넘겨 처리한다.</li>
</ul>

<p><br /></p>

<details>
  <summary> 
ChattingClientSession.cs
</summary>

  <div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
</pre></td><td class="rouge-code"><pre><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Net</span><span class="p">;</span>

<span class="k">using</span> <span class="nn">ByteSegment</span> <span class="p">=</span> <span class="n">System</span><span class="p">.</span><span class="n">ArraySegment</span><span class="p">&lt;</span><span class="kt">byte</span><span class="p">&gt;;</span>

<span class="k">class</span> <span class="nc">ChattingClientSession</span> <span class="p">:</span> <span class="n">Session</span>
<span class="p">{</span>
    <span class="k">private</span> <span class="n">ChattingManager</span> <span class="n">_chatManager</span><span class="p">;</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="n">ClientName</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>

    <span class="k">protected</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnConnected</span><span class="p">(</span><span class="n">EndPoint</span> <span class="n">endPoint</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">$"Conntected To </span><span class="p">{</span><span class="n">endPoint</span><span class="p">}</span><span class="s">"</span><span class="p">);</span>

        <span class="n">_chatManager</span> <span class="p">=</span> <span class="n">ChattingManager</span><span class="p">.</span><span class="n">Instance</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">protected</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnDisconnected</span><span class="p">(</span><span class="n">EndPoint</span> <span class="n">endPoint</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">$"Disconntected From </span><span class="p">{</span><span class="n">endPoint</span><span class="p">}</span><span class="s">"</span><span class="p">);</span>

        <span class="n">_chatManager</span><span class="p">.</span><span class="nf">RemoveClient</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">protected</span> <span class="k">override</span> <span class="kt">int</span> <span class="nf">OnReceived</span><span class="p">(</span><span class="n">ByteSegment</span> <span class="n">buffer</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">$"Received : </span><span class="p">{</span><span class="n">buffer</span><span class="p">.</span><span class="n">Count</span><span class="p">}</span><span class="s">"</span><span class="p">);</span>

        <span class="c1">// 1. 패킷 데이터 분리</span>
        <span class="n">ChattingPacketData</span> <span class="n">data</span> <span class="p">=</span> <span class="n">ChattingPacketData</span><span class="p">.</span><span class="nf">FromByteSegment</span><span class="p">(</span><span class="n">buffer</span><span class="p">);</span>

        <span class="c1">// 2. 처리</span>
        <span class="n">_chatManager</span><span class="p">.</span><span class="nf">HandleDataFromClient</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="n">data</span><span class="p">);</span>

        <span class="k">return</span> <span class="n">buffer</span><span class="p">.</span><span class="n">Count</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">protected</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnSent</span><span class="p">(</span><span class="n">ByteSegment</span> <span class="n">buffer</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">$"Sent : </span><span class="p">{</span><span class="n">buffer</span><span class="p">.</span><span class="n">Count</span><span class="p">}</span><span class="s">\n"</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div>  </div>

</details>

<p><br /></p>

<h2 id="3-serverprogram"><strong>[3] ServerProgram</strong></h2>

<details>
  <summary> 
Source Code
</summary>

  <div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td><td class="rouge-code"><pre><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Net</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">ServerProgram</span>
<span class="p">{</span>
    <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Utility</span><span class="p">.</span><span class="nf">PrintServerTitle</span><span class="p">();</span>

        <span class="n">IPInformation</span> <span class="n">ipInfo</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">IPInformation</span><span class="p">(</span><span class="n">Dns</span><span class="p">.</span><span class="nf">GetHostName</span><span class="p">(),</span> <span class="m">12345</span><span class="p">);</span>
        <span class="n">Listener</span> <span class="n">listener</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Listener</span><span class="p">();</span>

        <span class="n">listener</span><span class="p">.</span><span class="nf">Init</span><span class="p">(</span><span class="n">ipInfo</span><span class="p">.</span><span class="n">EndPoint</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="k">new</span> <span class="nf">ChattingClientSession</span><span class="p">());</span>

        <span class="k">while</span> <span class="p">(</span><span class="k">true</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div>  </div>

</details>

<p><br /></p>

<h1 id="3-채팅-클라이언트-설계">3. 채팅 클라이언트 설계</h1>
<hr />

<h2 id="1-chattingclient-클래스"><strong>[1] ChattingClient 클래스</strong></h2>

<h3 id="역할"><strong>역할</strong></h3>
<ul>
  <li>필드에 클라이언트 세션 객체를 갖는다.</li>
  <li>콘솔 입력, 출력을 담당한다.</li>
  <li>콘솔에 입력한 내용을 패킷으로 가공하여 세션을 통해 서버에 전달한다.</li>
  <li>세션으로부터 전달받은 서버 패킷을 해석하여 명령대로 처리한다.</li>
</ul>

<p><br /></p>

<h3 id="콘솔-입력-처리"><strong>콘솔 입력 처리</strong></h3>
<ul>
  <li>실행되는 동안, 반복문을 통해 콘솔로부터 한 줄씩 스트링을 입력받는다.</li>
  <li>입력받은 스트링이 <code class="language-plaintext highlighter-rouge">/</code>로 시작할 경우 정규 표현식을 통해 스트링을 <code class="language-plaintext highlighter-rouge">명령어</code>와 <code class="language-plaintext highlighter-rouge">내용</code>으로 분리하여 명령 처리를 수행한다.</li>
  <li>보통의 경우 스트링을 채팅 내용으로 인식한다.</li>
</ul>

<p><br /></p>

<h3 id="패킷-가공-및-전달"><strong>패킷 가공 및 전달</strong></h3>
<ul>
  <li>콘솔 입력 내용에 따라 알맞은 타입의 패킷으로 가공한다.</li>
  <li>가공된 패킷을 세션 객체를 통해 서버에 전달한다.</li>
</ul>

<p><br /></p>

<h3 id="수신한-패킷-데이터-처리"><strong>수신한 패킷 데이터 처리</strong></h3>
<ul>
  <li>서버로부터 패킷을 전달받은 경우, 클라이언트 세션은 이를 데이터로 분석하여 채팅 클라이언트에 전달한다.</li>
  <li>이렇게 전달받은 데이터에 따라 알맞은 처리를 수행한다.</li>
  <li>일반 채팅 패킷을 전달받은 경우, 타임스탬프와 함께 콘솔에 그대로 출력한다.</li>
  <li>입장, 퇴장, 이름 변경 등의 패킷을 전달받은 경우에도 약간 가공하여 타임스탬프와 함께 콘솔에 출력한다.</li>
</ul>

<p><br /></p>

<details>
  <summary> 
ChattingClient.cs
</summary>

  <div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
</pre></td><td class="rouge-code"><pre><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Text.RegularExpressions</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">ChattingClient</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="n">Name</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>

    <span class="k">private</span> <span class="n">ChattingServerSession</span> <span class="n">_session</span><span class="p">;</span>
    <span class="k">private</span> <span class="kt">bool</span> <span class="n">_isRunning</span><span class="p">;</span>

    <span class="c1">/// &lt;summary&gt; "잘못된 명령어를 입력하셨습니다." &lt;/summary&gt;</span>
    <span class="k">private</span> <span class="k">static</span> <span class="k">readonly</span> <span class="kt">string</span> <span class="n">WRONG_COMMAND</span> <span class="p">=</span> <span class="s">"잘못된 명령어를 입력하셨습니다."</span><span class="p">;</span>

    <span class="cm">/***********************************************************************
    *                               Public Methods
    ***********************************************************************/</span>
    <span class="err">#</span><span class="n">region</span> <span class="p">.</span>
    <span class="c1">/// &lt;summary&gt; 채팅 클라이언트 동작 시작 &lt;/summary&gt;</span>
    <span class="k">public</span> <span class="k">void</span> <span class="nf">Run</span><span class="p">(</span><span class="n">ChattingServerSession</span> <span class="n">session</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">_session</span> <span class="p">=</span> <span class="n">session</span><span class="p">;</span>
        <span class="n">_isRunning</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
        <span class="n">_session</span><span class="p">.</span><span class="n">IsPaused</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>

        <span class="c1">// 1. 이름 등록</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">Write</span><span class="p">(</span><span class="s">"닉네임을 입력하세요 &gt; "</span><span class="p">);</span>
        <span class="nf">InitMyName</span><span class="p">(</span><span class="n">Console</span><span class="p">.</span><span class="nf">ReadLine</span><span class="p">());</span>

        <span class="c1">// 2. 채팅 시작</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">_isRunning</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">Console</span><span class="p">.</span><span class="nf">Write</span><span class="p">(</span><span class="s">"\n&gt; "</span><span class="p">);</span>
            <span class="kt">string</span> <span class="n">chatting</span> <span class="p">=</span> <span class="n">Console</span><span class="p">.</span><span class="nf">ReadLine</span><span class="p">();</span>
            <span class="nf">ProcessInput</span><span class="p">(</span><span class="n">chatting</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="c1">/// &lt;summary&gt; 종료 &lt;/summary&gt;</span>
    <span class="k">public</span> <span class="k">void</span> <span class="nf">Quit</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">_isRunning</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"채팅이 종료되었습니다."</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="err">#</span><span class="n">endregion</span>
    <span class="cm">/***********************************************************************
    *                               Private Methods
    ***********************************************************************/</span>
    <span class="err">#</span><span class="n">region</span> <span class="p">.</span>

    <span class="c1">/// &lt;summary&gt; 접속 시 초기 이름 지정 &lt;/summary&gt;</span>
    <span class="k">private</span> <span class="k">void</span> <span class="nf">InitMyName</span><span class="p">(</span><span class="kt">string</span> <span class="n">name</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">_session</span><span class="p">.</span><span class="n">IsPaused</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>
        <span class="nf">ChangeMyName</span><span class="p">(</span><span class="n">name</span><span class="p">);</span>
        <span class="n">ChattingPacket</span> <span class="n">packet</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ChattingPacket</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">ChattingCommand</span><span class="p">.</span><span class="n">RequestEnterAndName</span><span class="p">);</span>
        <span class="n">_session</span><span class="p">.</span><span class="nf">Send</span><span class="p">(</span><span class="n">packet</span><span class="p">.</span><span class="nf">ToByteSegment</span><span class="p">());</span>
    <span class="p">}</span>

    <span class="k">private</span> <span class="k">void</span> <span class="nf">ChangeMyName</span><span class="p">(</span><span class="kt">string</span> <span class="n">newName</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Name</span> <span class="p">=</span> <span class="n">newName</span><span class="p">;</span>
        <span class="n">Console</span><span class="p">.</span><span class="n">Title</span> <span class="p">=</span> <span class="s">$"Chatting Client : </span><span class="p">{</span><span class="n">newName</span><span class="p">}</span><span class="s">"</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">/// &lt;summary&gt; 타임스탬프와 함께 콘솔에 출력 &lt;/summary&gt;</span>
    <span class="k">private</span> <span class="k">void</span> <span class="nf">PrintWithTimeStamp</span><span class="p">(</span><span class="kt">string</span> <span class="n">msg</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">$"</span><span class="p">{</span><span class="n">Utility</span><span class="p">.</span><span class="nf">GetTimeStamp</span><span class="p">()}</span><span class="s"> </span><span class="p">{</span><span class="n">msg</span><span class="p">}</span><span class="s">"</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">private</span> <span class="k">void</span> <span class="nf">PrintCursor</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">Write</span><span class="p">(</span><span class="s">"\n&gt; "</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="err">#</span><span class="n">endregion</span>
    <span class="cm">/***********************************************************************
    *                           Processing Client Chattings
    ***********************************************************************/</span>
    <span class="err">#</span><span class="n">region</span> <span class="p">.</span>
    <span class="c1">/// &lt;summary&gt; 닉네임 허용 정규식 &lt;/summary&gt;</span>
    <span class="k">private</span> <span class="k">static</span> <span class="k">readonly</span> <span class="n">Regex</span> <span class="n">NickNameRegex</span> <span class="p">=</span> 
        <span class="k">new</span> <span class="nf">Regex</span><span class="p">(</span><span class="s">@"\/([a-zA-Z]+)\s([a-zA-Z0-9가-힣_]+)$"</span><span class="p">);</span>

    <span class="c1">/// &lt;summary&gt; 콘솔로 입력받은 채팅 처리 &lt;/summary&gt;</span>
    <span class="k">private</span> <span class="k">void</span> <span class="nf">ProcessInput</span><span class="p">(</span><span class="kt">string</span> <span class="n">chatting</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">chatting</span><span class="p">.</span><span class="n">Length</span> <span class="p">&lt;=</span> <span class="m">0</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>

        <span class="c1">// 1. 명령인지 검사</span>
        <span class="c1">// "/command content123"  꼴</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">chatting</span><span class="p">[</span><span class="m">0</span><span class="p">]</span> <span class="p">==</span> <span class="sc">'/'</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">GroupCollection</span> <span class="n">groups</span> <span class="p">=</span> <span class="n">CommandRegex</span><span class="p">.</span><span class="nf">Match</span><span class="p">(</span><span class="n">chatting</span><span class="p">).</span><span class="n">Groups</span><span class="p">;</span>

            <span class="k">if</span> <span class="p">(</span><span class="n">groups</span><span class="p">.</span><span class="n">Count</span> <span class="p">&lt;</span> <span class="m">3</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">WRONG_COMMAND</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="k">else</span>
            <span class="p">{</span>
                <span class="nf">ProcessCommand</span><span class="p">(</span><span class="n">groups</span><span class="p">[</span><span class="m">1</span><span class="p">].</span><span class="n">Value</span><span class="p">,</span> <span class="n">groups</span><span class="p">[</span><span class="m">2</span><span class="p">].</span><span class="n">Value</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="c1">// 2. 채팅 처리</span>
        <span class="k">else</span>
        <span class="p">{</span>
            <span class="nf">ProcessChatting</span><span class="p">(</span><span class="n">chatting</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="c1">/// &lt;summary&gt; 명령 처리 &lt;/summary&gt;</span>
    <span class="k">private</span> <span class="k">void</span> <span class="nf">ProcessCommand</span><span class="p">(</span><span class="kt">string</span> <span class="n">command</span><span class="p">,</span> <span class="kt">string</span> <span class="n">content</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">switch</span> <span class="p">(</span><span class="n">command</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="c1">// 이름 변경 요청</span>
            <span class="k">case</span> <span class="s">"rename"</span><span class="p">:</span>
            <span class="k">case</span> <span class="s">"Rename"</span><span class="p">:</span>
                <span class="n">ChattingPacket</span> <span class="n">packet</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ChattingPacket</span><span class="p">(</span><span class="n">content</span><span class="p">,</span> <span class="n">ChattingCommand</span><span class="p">.</span><span class="n">RequestRename</span><span class="p">);</span>
                <span class="n">_session</span><span class="p">.</span><span class="nf">Send</span><span class="p">(</span><span class="n">packet</span><span class="p">.</span><span class="nf">ToByteSegment</span><span class="p">());</span>
                <span class="nf">ChangeMyName</span><span class="p">(</span><span class="n">content</span><span class="p">);</span>
                <span class="k">break</span><span class="p">;</span>

            <span class="k">default</span><span class="p">:</span>
                <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">WRONG_COMMAND</span><span class="p">);</span>
                <span class="k">break</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="c1">/// &lt;summary&gt; 일반 채팅 처리 &lt;/summary&gt;</span>
    <span class="k">private</span> <span class="k">void</span> <span class="nf">ProcessChatting</span><span class="p">(</span><span class="kt">string</span> <span class="n">content</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">ChattingPacket</span> <span class="n">packet</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ChattingPacket</span><span class="p">(</span><span class="n">content</span><span class="p">,</span> <span class="n">ChattingCommand</span><span class="p">.</span><span class="n">Chat</span><span class="p">);</span>
        <span class="n">_session</span><span class="p">.</span><span class="nf">Send</span><span class="p">(</span><span class="n">packet</span><span class="p">.</span><span class="nf">ToByteSegment</span><span class="p">());</span>
    <span class="p">}</span>
    <span class="err">#</span><span class="n">endregion</span>
    <span class="cm">/***********************************************************************
    *                           Handling Server Packets
    ***********************************************************************/</span>
    <span class="err">#</span><span class="n">region</span> <span class="p">.</span>
    <span class="c1">/// &lt;summary&gt; 서버로부터 전달받은 패킷 데이터 처리 &lt;/summary&gt;</span>
    <span class="k">public</span> <span class="k">void</span> <span class="nf">HandleDataFromServer</span><span class="p">(</span><span class="k">in</span> <span class="n">ChattingPacketData</span> <span class="n">data</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">switch</span> <span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">command</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="c1">// 일반 채팅</span>
            <span class="k">case</span> <span class="n">ChattingCommand</span><span class="p">.</span><span class="n">Chat</span><span class="p">:</span>
                <span class="nf">PrintWithTimeStamp</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">content</span><span class="p">);</span>
                <span class="k">break</span><span class="p">;</span>

            <span class="c1">// 클라이언트 이름 변경 통지</span>
            <span class="k">case</span> <span class="n">ChattingCommand</span><span class="p">.</span><span class="n">NotifyRenamed</span><span class="p">:</span>
                <span class="kt">string</span><span class="p">[]</span> <span class="n">names</span> <span class="p">=</span> <span class="n">data</span><span class="p">.</span><span class="n">content</span><span class="p">.</span><span class="nf">Split</span><span class="p">(</span><span class="sc">'|'</span><span class="p">);</span>
                <span class="nf">PrintWithTimeStamp</span><span class="p">(</span><span class="s">$"닉네임 변경 : </span><span class="p">{</span><span class="n">names</span><span class="p">[</span><span class="m">0</span><span class="p">]}</span><span class="s"> -&gt; </span><span class="p">{</span><span class="n">names</span><span class="p">[</span><span class="m">1</span><span class="p">]}</span><span class="s">"</span><span class="p">);</span>
                <span class="k">break</span><span class="p">;</span>

            <span class="c1">// 클라이언트 입장 통지</span>
            <span class="k">case</span> <span class="n">ChattingCommand</span><span class="p">.</span><span class="n">NotifyEntered</span><span class="p">:</span>
                <span class="nf">PrintWithTimeStamp</span><span class="p">(</span><span class="s">$"(</span><span class="p">{</span><span class="n">data</span><span class="p">.</span><span class="n">content</span><span class="p">}</span><span class="s">)님이 입장하셨습니다."</span><span class="p">);</span>
                <span class="k">break</span><span class="p">;</span>

            <span class="c1">// 클라이언트 퇴장 통지</span>
            <span class="k">case</span> <span class="n">ChattingCommand</span><span class="p">.</span><span class="n">NotifyExit</span><span class="p">:</span>
                <span class="nf">PrintWithTimeStamp</span><span class="p">(</span><span class="s">$"(</span><span class="p">{</span><span class="n">data</span><span class="p">.</span><span class="n">content</span><span class="p">}</span><span class="s">)님이 퇴장하셨습니다."</span><span class="p">);</span>
                <span class="k">break</span><span class="p">;</span>

            <span class="k">default</span><span class="p">:</span>
                <span class="k">throw</span> <span class="k">new</span> <span class="nf">Exception</span><span class="p">(</span><span class="s">"Unknown Command"</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="nf">PrintCursor</span><span class="p">();</span>
    <span class="p">}</span>
    <span class="err">#</span><span class="n">endregion</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div>  </div>

</details>

<p><br /></p>

<h2 id="2-chattingserversession-클래스"><strong>[2] ChattingServerSession 클래스</strong></h2>

<ul>
  <li>서버와 연결 시 클라이언트 측에 생성되는 서버의 세션</li>
  <li>서버와 연결 성공 시 <code class="language-plaintext highlighter-rouge">ChattingClient</code> 객체를 생성하여 실행시킨다.</li>
  <li>서버로부터 패킷을 수신할 경우 패킷을 분리하여 <code class="language-plaintext highlighter-rouge">ChattingClient</code> 객체에 넘겨 처리한다.</li>
</ul>

<p><br /></p>

<details>
  <summary> 
ChattingServerSession.cs
</summary>

  <div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
</pre></td><td class="rouge-code"><pre><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Net</span><span class="p">;</span>

<span class="k">using</span> <span class="nn">ByteSegment</span> <span class="p">=</span> <span class="n">System</span><span class="p">.</span><span class="n">ArraySegment</span><span class="p">&lt;</span><span class="kt">byte</span><span class="p">&gt;;</span>

<span class="k">class</span> <span class="nc">ChattingServerSession</span> <span class="p">:</span> <span class="n">Session</span>
<span class="p">{</span>
    <span class="k">private</span> <span class="n">ChattingClient</span> <span class="n">_chatClient</span><span class="p">;</span>

    <span class="k">protected</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnConnected</span><span class="p">(</span><span class="n">EndPoint</span> <span class="n">endPoint</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">$"Conntected To </span><span class="p">{</span><span class="n">endPoint</span><span class="p">}</span><span class="s">"</span><span class="p">);</span>

        <span class="c1">// 채팅 클라이언트 생성 및 시작</span>
        <span class="n">_chatClient</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ChattingClient</span><span class="p">();</span>
        <span class="n">_chatClient</span><span class="p">.</span><span class="nf">Run</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">protected</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnDisconnected</span><span class="p">(</span><span class="n">EndPoint</span> <span class="n">endPoint</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">_chatClient</span><span class="p">.</span><span class="nf">Quit</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="k">protected</span> <span class="k">override</span> <span class="kt">int</span> <span class="nf">OnReceived</span><span class="p">(</span><span class="n">ByteSegment</span> <span class="n">buffer</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// 1. 아직 이름이 지정되지 않은 경우 무시</span>
        <span class="k">if</span> <span class="p">(</span><span class="kt">string</span><span class="p">.</span><span class="nf">IsNullOrWhiteSpace</span><span class="p">(</span><span class="n">_chatClient</span><span class="p">.</span><span class="n">Name</span><span class="p">))</span>
            <span class="k">return</span> <span class="n">buffer</span><span class="p">.</span><span class="n">Count</span><span class="p">;</span>

        <span class="c1">// 2. 패킷 데이터 분석</span>
        <span class="n">ChattingPacketData</span> <span class="n">data</span> <span class="p">=</span> <span class="n">ChattingPacketData</span><span class="p">.</span><span class="nf">FromByteSegment</span><span class="p">(</span><span class="n">buffer</span><span class="p">);</span>

        <span class="c1">// 3. 채팅 클라이언트에 전달</span>
        <span class="n">_chatClient</span><span class="p">.</span><span class="nf">HandleDataFromServer</span><span class="p">(</span><span class="n">data</span><span class="p">);</span>

        <span class="k">return</span> <span class="n">buffer</span><span class="p">.</span><span class="n">Count</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">protected</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnSent</span><span class="p">(</span><span class="n">ByteSegment</span> <span class="n">buffer</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">//Console.WriteLine($"Sent : {buffer.Count}\n");</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div>  </div>

</details>

<p><br /></p>

<h2 id="3-clientprogram"><strong>[3] ClientProgram</strong></h2>

<details>
  <summary> 
Source Code
</summary>

  <div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td><td class="rouge-code"><pre><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Net</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">ClientProgram</span>
<span class="p">{</span>
    <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Utility</span><span class="p">.</span><span class="nf">PrintClientTitle</span><span class="p">();</span>

        <span class="n">IPInformation</span> <span class="n">ipInfo</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">IPInformation</span><span class="p">(</span><span class="n">Dns</span><span class="p">.</span><span class="nf">GetHostName</span><span class="p">(),</span> <span class="m">12345</span><span class="p">);</span>
        <span class="n">Connector</span> <span class="n">connector</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Connector</span><span class="p">();</span>

        <span class="n">connector</span><span class="p">.</span><span class="nf">Connect</span><span class="p">(</span><span class="n">ipInfo</span><span class="p">.</span><span class="n">EndPoint</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="k">new</span> <span class="nf">ChattingServerSession</span><span class="p">());</span>

        <span class="k">while</span> <span class="p">(</span><span class="k">true</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div>  </div>

</details>

<p><br /></p>

<h1 id="4-기타">4. 기타</h1>
<hr />

<details>
  <summary> 
Utility.cs
</summary>

  <div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
</pre></td><td class="rouge-code"><pre><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>

<span class="k">public</span> <span class="k">static</span> <span class="k">class</span> <span class="nc">Utility</span>
<span class="p">{</span>
    <span class="c1">/// &lt;summary&gt; [HH:mm:ss]꼴 시간 스트링 &lt;/summary&gt;</span>
    <span class="k">public</span> <span class="k">static</span> <span class="kt">string</span> <span class="nf">GetTimeStamp</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="n">DateTime</span><span class="p">.</span><span class="n">Now</span><span class="p">.</span><span class="nf">ToString</span><span class="p">(</span><span class="s">"[HH:mm:ss]"</span><span class="p">);</span>
    <span class="p">}</span>
    
    <span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">PrintServerTitle</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="kt">string</span> <span class="n">str</span> <span class="p">=</span>
            <span class="s">"■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■\n"</span> <span class="p">+</span>
            <span class="s">"■　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　■\n"</span> <span class="p">+</span>
            <span class="s">"■　　■■■　■■■　■■■■　■　　　■　■■■　■■■■　■\n"</span> <span class="p">+</span>
            <span class="s">"■　■　　　　■　　　■　　■　■　　　■　■　　　■　　■　■\n"</span> <span class="p">+</span>
            <span class="s">"■　　■■　　■■■　■■■　　■　　　■　■■■　■■■　　■\n"</span> <span class="p">+</span>
            <span class="s">"■　　　　■　■　　　■　　■　　■　■　　■　　　■　　■　■\n"</span> <span class="p">+</span>
            <span class="s">"■　■■■　　■■■　■　　■　　　■　　　■■■　■　　■　■\n"</span> <span class="p">+</span>
            <span class="s">"■　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　■\n"</span> <span class="p">+</span>
            <span class="s">"■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■\n"</span><span class="p">;</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">str</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">PrintClientTitle</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="kt">string</span> <span class="n">str</span> <span class="p">=</span>
            <span class="s">"■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■\n"</span> <span class="p">+</span>
            <span class="s">"■　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　■\n"</span> <span class="p">+</span>
            <span class="s">"■　　■■■　■　　　■■■　■■■　■　　　■　■■■■■　■\n"</span> <span class="p">+</span>
            <span class="s">"■　■　　　　■　　　　■　　■　　　■■　　■　　　■　　　■\n"</span> <span class="p">+</span>
            <span class="s">"■　■　　　　■　　　　■　　■■■　■　■　■　　　■　　　■\n"</span> <span class="p">+</span>
            <span class="s">"■　■　　　　■　　　　■　　■　　　■　　■■　　　■　　　■\n"</span> <span class="p">+</span>
            <span class="s">"■　　■■■　■■■　■■■　■■■　■　　　■　　　■　　　■\n"</span> <span class="p">+</span>
            <span class="s">"■　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　■\n"</span> <span class="p">+</span>
            <span class="s">"■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■\n"</span><span class="p">;</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">str</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div>  </div>

</details>

<p><br /></p>

<h1 id="5-실행-예시">5. 실행 예시</h1>
<hr />

<details>
  <summary> 
.
</summary>

  <h2 id="client-1"><strong>Client 1</strong></h2>

  <p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/42164422/127906453-8b992398-c17a-4692-a462-3f4f9bd4a807.png" alt="image" /></p>

  <h2 id="client-2"><strong>Client 2</strong></h2>

  <p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/42164422/127906471-8bfb15a0-9ea3-4fca-a1c3-266a9fbbe51f.png" alt="image" /></p>

  <h2 id="server"><strong>Server</strong></h2>

  <p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/42164422/127906483-e2aa6fb1-b209-4e6c-8cda-def5633b87ec.png" alt="image" /></p>

</details>

<p><br /></p>

<h1 id="github-repo">Github Repo</h1>
<hr />

<ul>
  <li><a href="https://github.com/rito15/Csharp-Tcp-Socket-Console-Chatting">https://github.com/rito15/Csharp-Tcp-Socket-Console-Chatting</a></li>
</ul>

<p><br /></p>

<h1 id="references">References</h1>
<hr />
<ul>
  <li><a href="https://www.inflearn.com/course/유니티-mmorpg-개발-part4">https://www.inflearn.com/course/유니티-mmorpg-개발-part4</a></li>
</ul>



      </div>

      <div class="post-tail-wrapper text-muted">

        <!-- categories -->
        
        <div class="post-meta mb-3">
          <i class="far fa-folder-open fa-fw mr-1"></i>
          
            <a href='/categories/c/'>C#</a>,
            <a href='/categories/c-socket/'>C# Socket</a>
        </div>
        

        <!-- tags -->
        
        <div class="post-tags">
          <i class="fa fa-tags fa-fw mr-1"></i>
          
          <a href="/tags/csharp/"
            class="post-tag no-text-decoration" >csharp</a>
          
          <a href="/tags/thread/"
            class="post-tag no-text-decoration" >thread</a>
          
          </div>
        

        <div class="post-tail-bottom
          d-flex justify-content-between align-items-center mt-3 pt-5 pb-2">
          
          <div class="license-wrapper">
            This post is licensed under
            <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a>
            by the author.
          </div>
          

          <!--
 Post sharing snippet

 v2.1
 https://github.com/cotes2020/jekyll-theme-chirpy
 © 2019 Cotes Chung
 Published under the MIT License
-->

<div class="share-wrapper">
  <span class="share-label text-muted mr-1">Share</span>
  <span class="share-icons">
    
    

    
      
        <a href="https://twitter.com/intent/tweet?text=TCP 비동기 소켓으로 간단한 콘솔 채팅 구현하기 - Rito15&url=https://rito15.github.io/posts/cs-tcp-async-socket-chatting/" data-toggle="tooltip" data-placement="top"
          title="Twitter" target="_blank" rel="noopener" aria-label="Twitter">
          <i class="fa-fw fab fa-twitter"></i>
        </a>
    
      
        <a href="https://www.facebook.com/sharer/sharer.php?title=TCP 비동기 소켓으로 간단한 콘솔 채팅 구현하기 - Rito15&u=https://rito15.github.io/posts/cs-tcp-async-socket-chatting/" data-toggle="tooltip" data-placement="top"
          title="Facebook" target="_blank" rel="noopener" aria-label="Facebook">
          <i class="fa-fw fab fa-facebook-square"></i>
        </a>
    
      
        <a href="https://telegram.me/share?text=TCP 비동기 소켓으로 간단한 콘솔 채팅 구현하기 - Rito15&url=https://rito15.github.io/posts/cs-tcp-async-socket-chatting/" data-toggle="tooltip" data-placement="top"
          title="Telegram" target="_blank" rel="noopener" aria-label="Telegram">
          <i class="fa-fw fab fa-telegram"></i>
        </a>
    

    <i class="fa-fw fas fa-link small" onclick="copyLink()"
        data-toggle="tooltip" data-placement="top" title="Copy link"></i>

  </span>
</div>


        </div><!-- .post-tail-bottom -->

      </div><!-- div.post-tail -->

    </div> <!-- .post -->


  </div> <!-- #post-wrapper -->

  

  

  <!--
  The Pannel on right side (Desktop views)
  v2.0
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2017-2019 Cotes Chung
  MIT License
-->

<div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down">

  <div class="access">

  














  

    <div id="access-lastmod" class="post">
      <span>Recent Update</span>
      <ul class="post-content pl-0 pb-1 ml-1 mt-2">

      
        
        
        
        <li><a href="/posts/install-docker-on-windows-10/">Docker - 2. Windows 10 환경에서 도커 설치하기</a></li>
      
        
        
        
        <li><a href="/posts/unity-deltatime-and-fixeddeltatime/">유니티 - Time.deltaTime과 Time.fixedDeltaTime</a></li>
      
        
        
        
        <li><a href="/posts/unity-update-vs-coroutine-every-frame/">유니티 - 매 프레임 처리 성능 테스트 - Update() vs 코루틴</a></li>
      
        
        
        
        <li><a href="/posts/memo-git-command-1-basic/">Git - 명령어 - 1. 기본</a></li>
      
        
        
        
        <li><a href="/posts/unity-memo-show-property-on-inspector/">유니티 - 인스펙터에 프로퍼티 표시하기</a></li>
      

      </ul>
    </div> <!-- #access-lastmod -->

  

  















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        



  
    <div id="access-tags">
      <span>Trending Tags</span>
      <div class="d-flex flex-wrap mt-3 mb-1 mr-3">

      
        
        <a class="post-tag" href="/tags/csharp/">csharp</a>
      
        
        <a class="post-tag" href="/tags/unity/">unity</a>
      
        
        <a class="post-tag" href="/tags/editor/">editor</a>
      
        
        <a class="post-tag" href="/tags/shader/">shader</a>
      
        
        <a class="post-tag" href="/tags/memo/">memo</a>
      
        
        <a class="post-tag" href="/tags/graphics/">graphics</a>
      
        
        <a class="post-tag" href="/tags/opengl/">opengl</a>
      
        
        <a class="post-tag" href="/tags/amplify/">amplify</a>
      
        
        <a class="post-tag" href="/tags/thread/">thread</a>
      
        
        <a class="post-tag" href="/tags/particle/">particle</a>
      

      </div>
    </div>
  
  </div> <!-- .access -->

  
    <div id="toc-wrapper" class="pl-0 pr-4 mb-5">
      <span class="pl-3 pt-2 mb-2">Contents</span>
      <nav id="toc" data-toggle="toc"></nav>
    </div>
  

</div> <!-- #panel-wrapper -->


</div> <!-- .row -->

<div class="row">
  <div class="col-12 col-lg-11 col-xl-8">
    <div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4">

    <!--
 Recommend the other 3 posts according to the tags and categories of the current post,
 if the number is not enough, use the other latest posts to supplement.

 v2.0
 https://github.com/cotes2020/jekyll-theme-chirpy
 © 2019 Cotes Chung
 Published under the MIT License
-->

<!-- The total size of related posts  -->


<!-- An random integer that bigger than 0  -->


<!-- Equals to TAG_SCORE / {max_categories_hierarchy}  -->








  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  
    
  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  








<!-- Fill with the other newlest posts  -->






  <div id="related-posts" class="mt-5 mb-2 mb-sm-4">
    <h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3>
    <div class="card-deck mb-4">
    
      
      
      <div class="card">
        <a href="/posts/01-cs-tcp-ip-4-layer/">
          <div class="card-body">
            <!--
  Date format snippet

  v2.4.1
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2020 Cotes Chung
  MIT License
-->
<span class="timeago small"
  >

  
  

  
    Aug  2, 2021
  

  <i class="unloaded">2021-08-02T00:01:00+09:00</i>

</span>
            <h3 class="pt-0 mt-1 mb-3" data-toc-skip>TCP/IP 4 계층</h3>
            <div class="text-muted small">
              <p>
                





                Note






OSI 7 Layer


[7] Application

[6] Presentation

[5] Session

[4] Transport

[3] Network

[2] Data Link

[1] Physical



TCP/IP 4 Layer


[4] Application

  OSI 7 Layer의 Application(7), ...
              </p>
            </div>
          </div>
        </a>
      </div>
    
      
      
      <div class="card">
        <a href="/posts/02-cs-tcp-udp-protocols.md/">
          <div class="card-body">
            <!--
  Date format snippet

  v2.4.1
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2020 Cotes Chung
  MIT License
-->
<span class="timeago small"
  >

  
  

  
    Aug  2, 2021
  

  <i class="unloaded">2021-08-02T00:02:00+09:00</i>

</span>
            <h3 class="pt-0 mt-1 mb-3" data-toc-skip>TCP, UDP 프로토콜</h3>
            <div class="text-muted small">
              <p>
                





                TCP, UDP 프로토콜



  
    OSI 7 Layer 중 4번째, TCP/IP 4 Layer 중 3번째인 Transport 계층의 통신을 위한 프로토콜
  
  
    IP 주소와 포트 번호를 통해 대상을 식별한다.
  




TCP(Transmission Control Protocol)


개념

  데이터를 메시지 형태로 전송하기 위...
              </p>
            </div>
          </div>
        </a>
      </div>
    
      
      
      <div class="card">
        <a href="/posts/03-cs-tcp-socket-server-client-basic.md/">
          <div class="card-body">
            <!--
  Date format snippet

  v2.4.1
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2020 Cotes Chung
  MIT License
-->
<span class="timeago small"
  >

  
  

  
    Aug  2, 2021
  

  <i class="unloaded">2021-08-02T00:03:00+09:00</i>

</span>
            <h3 class="pt-0 mt-1 mb-3" data-toc-skip>TCP 소켓 서버, 클라이언트 기본</h3>
            <div class="text-muted small">
              <p>
                





                소켓 정의


프로토콜

  데이터 전송을 위한 규약이며, 대표적으로 TCP와 UDP가 있다.


IP

  컴퓨터에 부여된 논리적 식별 주소


Port

  네트워크 상에서 통신하기 위해 호스트 내부적으로 프로세스가 할당받는 고유 번호
  같은 컴퓨터 내에서 프로세스를 식별하기 위한 번호




소켓 통신 과정


서버

  서버 IP 주소, 포트...
              </p>
            </div>
          </div>
        </a>
      </div>
    
    </div> <!-- .card-deck -->
  </div> <!-- #related-posts -->



    <!--
  Navigation buttons at the bottom of the post.

  v2.1
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2020 Cotes Chung
  MIT License
-->

<div class="post-navigation d-flex justify-content-between">
  
  <a href="/posts/06-cs-tcp-async-socket-with-packet.md/" class="btn btn-outline-primary">
    <p>TCP 비동기 소켓 서버, 클라이언트 - 패킷 고려하기</p>
  </a>
  

  
  <a href="/posts/unity-web-request/" class="btn btn-outline-primary">
    <p>유니티 - Async Web Request</p>
  </a>
  

</div>

    

    </div> <!-- #post-extend-wrapper -->

  </div> <!-- .col-* -->

</div> <!-- .row -->



<script>
/* 코드 블록 우측 상단 Copy 버튼 */
const codes = document.querySelectorAll('.code-button-header + .highlighter-rouge .rouge-code');
const copyCodeButtons = document.querySelectorAll('.copy-code-button');

copyCodeButtons.forEach((copyCodeButton, index) => {
  copyCodeButton.addEventListener('click', () => {
    window.navigator.clipboard.writeText(codes[index].innerText.slice(0, -1));
    copyCodeButton.classList.add('copied');

    setTimeout(() => {
      copyCodeButton.classList.remove('copied');
    }, 2000);
  });
});
</script>


  <!-- image lazy load: https://github.com/ApoorvSaxena/lozad.js -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script>

<script type="text/javascript">
  const imgs = document.querySelectorAll('.post-content img');
  const observer = lozad(imgs);
  observer.observe();
</script>




        <!--
  The Footer
  v2.0
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2017-2019 Cotes Chung
  MIT License
-->

<footer class="d-flex w-100 justify-content-center">
  <div class="d-flex justify-content-between align-items-center">
    <div class="footer-left">
      <p class="mb-0">
        © 2023
        <a href="https://github.com/rito15">Rito15</a>.
        
        <span data-toggle="tooltip" data-placement="top"
          title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span>
        
      </p>
    </div>

    <div class="footer-right">
      <p class="mb-0">
        Powered by
        <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>
        with
        <a href="https://github.com/cotes2020/jekyll-theme-chirpy/" target="_blank" rel="noopener">Chirpy</a>
        theme.
      </p>
    </div>

  </div> <!-- div.d-flex -->
</footer>


      </div>

      <!--
  The Search results
  v2.0
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2017-2019 Cotes Chung
  MIT License
-->
<div id="search-result-wrapper" class="d-flex justify-content-center unloaded">
  <div class="col-12 col-xl-11 post-content">
    <div id="search-hints">
      <h4 class="text-muted mb-4">Trending Tags</h4>

      















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        



      
        
        <a class="post-tag" href="/tags/csharp/">csharp</a>
      
        
        <a class="post-tag" href="/tags/unity/">unity</a>
      
        
        <a class="post-tag" href="/tags/editor/">editor</a>
      
        
        <a class="post-tag" href="/tags/shader/">shader</a>
      
        
        <a class="post-tag" href="/tags/memo/">memo</a>
      
        
        <a class="post-tag" href="/tags/graphics/">graphics</a>
      
        
        <a class="post-tag" href="/tags/opengl/">opengl</a>
      
        
        <a class="post-tag" href="/tags/amplify/">amplify</a>
      
        
        <a class="post-tag" href="/tags/thread/">thread</a>
      
        
        <a class="post-tag" href="/tags/particle/">particle</a>
      

    </div>
    <div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div>
  </div>
</div>


    </div> <!-- #main-wrapper -->

    
      <!--
  mermaid-js loader
-->
<script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
<script>
  $(function() {
    let initTheme = "default";

    if ($("html[mode=dark]").length > 0
      || ($("html[mode]").length == 0
        && window.matchMedia("(prefers-color-scheme: dark)").matches ) ) {
      initTheme = "dark";
    }

    let mermaidConf = {
      theme: initTheme  /* <default|dark|forest|neutral> */
    };

    /* Markdown converts to HTML */
    $("pre").has("code.language-mermaid").each(function() {
      let svgCode = $(this).children().html();
      $(this).addClass("unloaded");
      $(this).after(`<div class=\"mermaid\">${svgCode}</div>`);
    });

    mermaid.initialize(mermaidConf);
  });
</script>

    

    <div id="mask"></div>

    <a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button">
      <i class="fas fa-angle-up"></i>
    </a>

    <!--
  Jekyll Simple Search loader
  v2.0
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2017-2019 Cotes Chung
  MIT License
-->





<script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script>

<script>
SimpleJekyllSearch({
  searchInput: document.getElementById('search-input'),
  resultsContainer: document.getElementById('search-results'),
  json: '/assets/js/data/search.json',
  searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0">  <a href="https://rito15.github.io{url}">{title}</a>  <div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1">    <div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>{categories}</div>    <div><i class="fa fa-tag fa-fw"></i>{tags}</div>  </div>  <p>{snippet}</p></div>',
  noResultsText: '<p class="mt-5">Oops! No result founds.</p>'
});
</script>


    <!-- 2021-06-29 추가 : 애널리틱스 적용 -->
    <!--
  The GA snippet
  v2.0
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2017-2019 Cotes Chung
  MIT License
-->
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-200391565-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-200391565-1');
</script>


  </body>

</html>

