<!DOCTYPE html>



<html lang="en" 
  
    mode="dark"
  
>

  <!--
  The Head
  v2.0
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2017-2019 Cotes Chung
  MIT License
-->

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="theme" content="Chirpy v2.7.2">

  <!-- Begin Jekyll SEO tag v2.7.1 -->
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="유니티 - Radial Menu 만들기" />
<meta name="author" content="Rito15" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="목표 극좌표계를 이용하여 원형 분포 형태의 메뉴 UI 만들기" />
<meta property="og:description" content="목표 극좌표계를 이용하여 원형 분포 형태의 메뉴 UI 만들기" />
<link rel="canonical" href="https://rito15.github.io/posts/unity-study-radial-menu/" />
<meta property="og:url" content="https://rito15.github.io/posts/unity-study-radial-menu/" />
<meta property="og:site_name" content="Rito15" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-04-26T18:00:00+09:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="유니티 - Radial Menu 만들기" />
<meta name="google-site-verification" content="google_meta_tag_verification" />
<script type="application/ld+json">
{"description":"목표 극좌표계를 이용하여 원형 분포 형태의 메뉴 UI 만들기","datePublished":"2021-04-26T18:00:00+09:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://rito15.github.io/posts/unity-study-radial-menu/"},"url":"https://rito15.github.io/posts/unity-study-radial-menu/","author":{"@type":"Person","name":"Rito15"},"headline":"유니티 - Radial Menu 만들기","dateModified":"2021-09-17T04:13:36+09:00","@type":"BlogPosting","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  <title>유니티 - Radial Menu 만들기 | Rito15
  </title>

  <!--
  The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps
  Generated by: https://www.favicon-generator.org/
  v2.0
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2019 Cotes Chung
  Published under the MIT license
-->



<link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon">
<link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon">

<link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png">
<link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png">
<link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png">

<link rel="icon" type="image/png" sizes="192x192"  href="/assets/img/favicons/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png">

<link rel="manifest" href="/assets/img/favicons/manifest.json">
<meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'>
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">


  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous">
  <link rel="dns-prefetch" href="https://fonts.gstatic.com">

  <!-- GA -->
  

  <!-- jsDelivr CDN -->
  <link rel="preconnect" href="cdn.jsdelivr.net">
  <link rel="dns-prefetch" href="cdn.jsdelivr.net">

  <!-- Bootstrap -->
  <link rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
    integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous">

  <!-- Font Awesome -->
  <link rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"
    integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ="
    crossorigin="anonymous">

  <!--
  CSS selector for site.
  Chirpy v2.3
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2020 Cotes Chung
  MIT Licensed
-->






<link rel="preload" href="/assets/css/post.css" as="style">
<link rel="stylesheet" href="/assets/css/post.css">


  
    <link rel="preload" as="style" href="/assets/css/lib/bootstrap-toc.min.css">
    <link rel="stylesheet" href="/assets/css/lib/bootstrap-toc.min.css" />
  



  <!-- JavaScripts -->

  <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>

  <script defer
    src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script>

  <!--
  JS selector for site.
  Chirpy v2.3
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2020 Cotes Chung
  MIT Licensed
-->





<script async src="/assets/js/post.min.js"></script>


  <!-- MathJax -->
  <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>





</head>


  <body data-spy="scroll" data-target="#toc">

    <!--
  The Side Bar
  v2.0
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2017-2019 Cotes Chung
  MIT License
-->

<div id="sidebar" class="d-flex flex-column align-items-end">

  <div class="profile-wrapper text-center">
    <div id="avatar">
      <a href="/" alt="avatar" class="mx-auto">
        
        <img src="/assets/img/favicons/android-icon-192x192.png" alt="avatar" onerror="this.style.display='none'">
      </a>
    </div>

    <div class="site-title mt-3">
      <a href="/">Rito15</a>
    </div>

    <div class="site-subtitle font-italic">Game Programmer</div>

  </div><!-- .profile-wrapper -->

  <ul class="w-100">
    <!-- home -->
    <li class="nav-item">
      <a href="/" class="nav-link">
        <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i>
        <span>HOME</span>
      </a>
    </li>
    <!-- the real tabs -->
    
    <li class="nav-item">
      <a href="/tabs/categories/" class="nav-link">
        <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i>
        <span>CATEGORIES</span>
      </a>
    </li> <!-- .nav-item -->
    
    <li class="nav-item">
      <a href="/tabs/tags/" class="nav-link">
        <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i>
        <span>TAGS</span>
      </a>
    </li> <!-- .nav-item -->
    
    <li class="nav-item">
      <a href="/tabs/archives/" class="nav-link">
        <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i>
        <span>ARCHIVES</span>
      </a>
    </li> <!-- .nav-item -->
    
    <li class="nav-item">
      <a href="/tabs/about/" class="nav-link">
        <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i>
        <span>ABOUT</span>
      </a>
    </li> <!-- .nav-item -->
    

  </ul> <!-- ul.nav.flex-column -->

  <div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center">

    
      

      
      <a href="https://github.com/rito15" aria-label="github"
        
        target="_blank" rel="noopener">
        <i class="fab fa-github-alt"></i>
      </a>
      

    
      

      
      <a href="
          javascript:location.href = 'mailto:' + ['ghdtkals15','gmail.com'].join('@')" aria-label="email"
        
        >
        <i class="fas fa-envelope"></i>
      </a>
      

    
      

      
      <a href="/feed.xml" aria-label="rss"
        
        >
        <i class="fas fa-rss"></i>
      </a>
      

    

    

  </div> <!-- .sidebar-bottom -->

</div><!-- #sidebar -->


    <!--
  The Top Bar
  v2.0
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2017-2019 Cotes Chung
  MIT License
-->
<div id="topbar-wrapper" class="row justify-content-center topbar-down">
  <div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between">
    <span id="breadcrumb">
      
        
        <span>
          <a href="/">
            Posts
          </a>
        </span>
        
      

      
        <span>유니티 - Radial Menu 만들기</span>
      

    </span><!-- endof #breadcrumb -->

    <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i>

    <div id="topbar-title">
      Post
    </div>

    <i id="search-trigger" class="fas fa-search fa-fw"></i>
    <span id="search-wrapper" class="align-items-center">
      <i class="fas fa-search fa-fw"></i>
      <input class="form-control" id="search-input" type="search"
        aria-label="search" placeholder="Search...">
      <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i>
    </span>
    <span id="search-cancel" >Cancel</span>
  </div>

</div>


    <div id="main-wrapper">
      <div id="main">

        <!--
  Refactor the HTML structure.
-->



<!--
  In order to allow a wide table to scroll horizontally,
  we suround the markdown table with `<div class="table-wrapper">` and `</div>`
-->


<!--
  Fixed kramdown code highlight rendering:
  https://github.com/penibelst/jekyll-compress-html/issues/101
  https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901
-->


<!-- Add attribute 'hide-bullet' to the checkbox list -->




  

  

  <!-- lazy-load images <https://github.com/ApoorvSaxena/lozad.js#usage> -->
  
  

  

  



<!-- return -->
<div class="row">

  <div id="post-wrapper" class="col-12 col-lg-11 col-xl-8">

    <div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4">

      <h1 data-toc-skip>유니티 - Radial Menu 만들기</h1>

      <div class="post-meta text-muted d-flex flex-column">
        <!-- Published date and author -->
        <div>
          <!--
  Date format snippet

  v2.4.1
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2020 Cotes Chung
  MIT License
-->
<span class="timeago "
  
    data-toggle="tooltip"
    data-placement="bottom"
    title="Mon, Apr 26, 2021,  6:00 PM +0900"
  >

  
  

  
    Apr 26, 2021
  

  <i class="unloaded">2021-04-26T18:00:00+09:00</i>

</span>
          by
          <span class="author">
            Rito15
          </span>
        </div>

        <div>
          <!-- lastmod -->
          
          <span>
            Updated
            <!--
  Date format snippet

  v2.4.1
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2020 Cotes Chung
  MIT License
-->
<span class="timeago lastmod"
  
    data-toggle="tooltip"
    data-placement="bottom"
    title="Fri, Sep 17, 2021,  4:13 AM +0900"
  >

  
  

  
    Sep 17, 2021
  

  <i class="unloaded">2021-09-17T04:13:36+09:00</i>

</span>
          </span>
          

          <!-- read time -->
          <!--
  Calculate the post's reading time, and display the word count in tooltip
 -->






<!-- return element -->
<span class="readtime" data-toggle="tooltip" data-placement="bottom" title="6939 words">38 min</span>


          <!-- page views -->
          

          <!-- HITS -->
          &nbsp;
          <a href="https://hits.seeyoufarm.com"><img min-width="94" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https://rito15.github.io/posts/unity-study-radial-menu/%2F&count_bg=%23AC58FA&title_bg=%23555555&icon=&icon_color=%23E7E7E7&title=views&edge_flat=false"/></a> 

        </div>

      </div> <!-- .post-meta -->

      <div class="post-content">

        

        <h1 id="목표">목표</h1>
<hr />
<ul>
  <li>극좌표계를 이용하여 원형 분포 형태의 메뉴 UI 만들기</li>
</ul>

<p><br /></p>

<h1 id="preview">Preview</h1>
<hr />

<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/42164422/116588062-0de00980-a956-11eb-940d-5cc93bd5cd2e.gif" alt="2021_0429_RadialMenu_v3_2" /></p>

<p><br /></p>

<h1 id="직교-좌표계">직교 좌표계</h1>
<hr />

<ul>
  <li>Cartesian Coordinate System</li>
</ul>

<p>유니티2D에서 사용하는 좌표계는 x, y 축으로 이루어진 직교 좌표계이다.</p>

<p>데카르트 좌표계라고도 하며, x, y 값을 통해 좌표를 표현한다.</p>

<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/42164422/116059429-c9394180-a6bb-11eb-92cf-078e95b9f5d4.png" alt="image" /></p>

<p><br /></p>

<h1 id="극좌표계">극좌표계</h1>
<hr />

<ul>
  <li>Polar Coordinate System</li>
</ul>

<p>직교 좌표계와는 달리, 거리(radius)와 각도(angle)를 통해 특정 좌표를 표현한다.</p>

<p>이 때 거리는 중심으로부터의 거리, 각도는 직교 좌표계의 +X 축으로부터의 각도를 의미한다.</p>

<p>좌표가 중심을 기준으로 반시계방향으로 이동할수록 각도가 커진다.</p>

<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/42164422/116060989-50d38000-a6bd-11eb-9bf0-ef1759dbe317.png" alt="image" /></p>

<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/42164422/116075534-06a6ca80-a6ce-11eb-9676-84f1d3de4723.png" alt="image" /></p>

<p><br /></p>

<h2 id="극좌표계가-필요한-이유">극좌표계가 필요한 이유</h2>

<p>Radial Menu를 만들기 위해서는 각각의 이미지가 중심을 기준으로 동일한 거리만큼 떨어져 원형으로 위치해야 한다.</p>

<p>이를 직교 좌표계로 표현하기에는 복잡하고 번거롭지만, 극좌표계를 이용하면 단순히 각도만 변경하여 손쉽게 표현할 수 있다.</p>

<p><br /></p>

<h1 id="시계-극좌표계">시계 극좌표계</h1>
<hr />

<p>시계 극좌표계라는 이름은 임의로 명명하였으며,</p>

<p>+X축이 0도 기준이고 반시계 방향으로 갈수록 각도가 커지는 기본 극좌표계와 달리</p>

<p>+Y축이 0도 기준이며 시계 방향으로 각도가 커지는 좌표계이다.</p>

<p>각도가 <code class="language-plaintext highlighter-rouge">t</code>라고 했을 때, <code class="language-plaintext highlighter-rouge">t' = 90 - t</code> 계산을 통해 기본 극좌표계의 좌표와 서로 변환될 수 있다.</p>

<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/42164422/116073405-53d56d00-a6cb-11eb-8f2c-4cecfcc44440.png" alt="image" /></p>

<p><br /></p>

<h1 id="좌표계-변환">좌표계 변환</h1>
<hr />

<p>동일한 점의 좌표를 직교 좌표계로 <code class="language-plaintext highlighter-rouge">D(x, y)</code>, 극좌표계로 <code class="language-plaintext highlighter-rouge">P(r, t)</code>, 시계 극좌표계로 <code class="language-plaintext highlighter-rouge">C(r, t)</code>라고 하자.</p>

<p>직교 좌표계, 극좌표계 및 시계 극좌표계의 좌표는 삼각함수를 이용해 서로 변환될 수 있다.</p>

<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/42164422/116075896-7a48d780-a6ce-11eb-9f65-1a374b915209.png" alt="image" /></p>

<p><br /></p>

<h2 id="직교-좌표계---극좌표계"><strong>직교 좌표계 -&gt; 극좌표계</strong></h2>

<p>피타고라스의 정리와 삼각함수를 이용해 손쉽게 좌표를 변환할 수 있다.</p>

<p>\(r^2 = x^2 + y^2\) 이므로 \(r = \sqrt{x^2 + y^2}\) 이며,</p>

<p>\(tan(t) = \frac{y}{x}\) 이므로, \(t = atan(\frac{y}{x})\) 이다.</p>

<p>따라서 \(P(r, t) = D(\sqrt{x^2 + y^2}, atan(\frac{y}{x}))\) 이다.</p>

<p><br /></p>

<h2 id="극좌표계---시계-극좌표계"><strong>극좌표계 -&gt; 시계 극좌표계</strong></h2>

<p>두 극좌표계의 좌표는 단순히 \(t' = 90 - t\) 계산을 이용해</p>

<p>빠르게 변환할 수 있다.</p>

<p>따라서 \(C(r, t) = P(r, 90 - t)\) 이다.</p>

<p><br /></p>

<h2 id="직교-좌표계---시계-극좌표계"><strong>직교 좌표계 -&gt; 시계 극좌표계</strong></h2>

<p>위의 두 변환식을 정리하면</p>

<p>\(C(r, t) = D(\sqrt{x^2 + y^2}, 90 - atan(\frac{y}{x}))\) 이다.</p>

<p><br /></p>

<h1 id="구조체-작성">구조체 작성</h1>
<hr />

<p>위의 이론을 활용하여 시계 극좌표를 구조체로 작성한다.</p>

<p><br /></p>

<details>
  <summary> 
ClockwisePolarCoord.cs
</summary>

  <div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
</pre></td><td class="rouge-code"><pre><span class="p">[</span><span class="n">Serializable</span><span class="p">]</span>
<span class="k">public</span> <span class="k">struct</span> <span class="nc">ClockwisePolarCoord</span>
<span class="p">{</span>
    <span class="cm">/***********************************************************************
    *                           Fields, Properties
    ***********************************************************************/</span>
    <span class="err">#</span><span class="n">region</span> <span class="p">.</span>
    <span class="c1">/// &lt;summary&gt; 반지름 &lt;/summary&gt;</span>
    <span class="k">public</span> <span class="kt">float</span> <span class="n">Radius</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="c1">/// &lt;summary&gt; 0 ~ 360 각도 &lt;/summary&gt;</span>
    <span class="k">public</span> <span class="kt">float</span> <span class="n">Angle</span>
    <span class="p">{</span>
        <span class="k">get</span> <span class="p">=&gt;</span> <span class="n">_angle</span><span class="p">;</span>
        <span class="k">set</span> <span class="p">=&gt;</span> <span class="n">_angle</span> <span class="p">=</span> <span class="nf">ClampAngle</span><span class="p">(</span><span class="k">value</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">private</span> <span class="kt">float</span> <span class="n">_angle</span><span class="p">;</span>

    <span class="err">#</span><span class="n">endregion</span>
    <span class="cm">/***********************************************************************
    *                           Constructor
    ***********************************************************************/</span>
    <span class="err">#</span><span class="n">region</span> <span class="p">.</span>
    <span class="k">public</span> <span class="nf">ClockwisePolarCoord</span><span class="p">(</span><span class="kt">float</span> <span class="n">radius</span><span class="p">,</span> <span class="kt">float</span> <span class="n">angle</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Radius</span> <span class="p">=</span> <span class="n">radius</span><span class="p">;</span>
        <span class="n">_angle</span> <span class="p">=</span> <span class="nf">ClampAngle</span><span class="p">(</span><span class="n">angle</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="err">#</span><span class="n">endregion</span>
    <span class="cm">/***********************************************************************
    *                           Private Static
    ***********************************************************************/</span>
    <span class="err">#</span><span class="n">region</span> <span class="p">.</span>
    <span class="c1">/// &lt;summary&gt; 0 ~ 360 범위 내의 각도 값 리턴 &lt;/summary&gt;</span>
    <span class="k">private</span> <span class="k">static</span> <span class="kt">float</span> <span class="nf">ClampAngle</span><span class="p">(</span><span class="kt">float</span> <span class="n">angle</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">angle</span> <span class="p">%=</span> <span class="m">360f</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">angle</span> <span class="p">&lt;</span> <span class="m">0f</span><span class="p">)</span>
            <span class="n">angle</span> <span class="p">+=</span> <span class="m">360f</span><span class="p">;</span>
        <span class="k">return</span> <span class="n">angle</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">/// &lt;summary&gt; +x축 기준 반시계 각도 &lt;-&gt; +y축 기준 시계 각도 서로 변환 &lt;/summary&gt;</span>
    <span class="k">private</span> <span class="k">static</span> <span class="kt">float</span> <span class="nf">CovertAngle</span><span class="p">(</span><span class="kt">float</span> <span class="n">angle</span><span class="p">)</span>
        <span class="p">=&gt;</span> <span class="m">90f</span> <span class="p">-</span> <span class="n">angle</span><span class="p">;</span>

    <span class="c1">/// &lt;summary&gt; Degree(0 ~ 360)로 Sin 계산 &lt;/summary&gt;</span>
    <span class="k">private</span> <span class="k">static</span> <span class="kt">float</span> <span class="nf">Sin</span><span class="p">(</span><span class="kt">float</span> <span class="n">angle</span><span class="p">)</span>
        <span class="p">=&gt;</span> <span class="n">Mathf</span><span class="p">.</span><span class="nf">Sin</span><span class="p">(</span><span class="n">angle</span> <span class="p">*</span> <span class="n">Mathf</span><span class="p">.</span><span class="n">Deg2Rad</span><span class="p">);</span>

    <span class="c1">/// &lt;summary&gt; Degree(0 ~ 360)로 Cos 계산 &lt;/summary&gt;</span>
    <span class="k">private</span> <span class="k">static</span> <span class="kt">float</span> <span class="nf">Cos</span><span class="p">(</span><span class="kt">float</span> <span class="n">angle</span><span class="p">)</span>
        <span class="p">=&gt;</span> <span class="n">Mathf</span><span class="p">.</span><span class="nf">Cos</span><span class="p">(</span><span class="n">angle</span> <span class="p">*</span> <span class="n">Mathf</span><span class="p">.</span><span class="n">Deg2Rad</span><span class="p">);</span>

    <span class="err">#</span><span class="n">endregion</span>
    <span class="cm">/***********************************************************************
    *                           Public Static
    ***********************************************************************/</span>
    <span class="err">#</span><span class="n">region</span> <span class="p">.</span>
    <span class="k">public</span> <span class="k">static</span> <span class="n">ClockwisePolarCoord</span> <span class="n">Zero</span> <span class="p">=&gt;</span> <span class="k">new</span> <span class="nf">ClockwisePolarCoord</span><span class="p">(</span><span class="m">0f</span><span class="p">,</span> <span class="m">0f</span><span class="p">);</span>
    <span class="k">public</span> <span class="k">static</span> <span class="n">ClockwisePolarCoord</span> <span class="n">North</span> <span class="p">=&gt;</span> <span class="k">new</span> <span class="nf">ClockwisePolarCoord</span><span class="p">(</span><span class="m">1f</span><span class="p">,</span> <span class="m">0f</span><span class="p">);</span>
    <span class="k">public</span> <span class="k">static</span> <span class="n">ClockwisePolarCoord</span> <span class="n">East</span> <span class="p">=&gt;</span> <span class="k">new</span> <span class="nf">ClockwisePolarCoord</span><span class="p">(</span><span class="m">1f</span><span class="p">,</span> <span class="m">90f</span><span class="p">);</span>
    <span class="k">public</span> <span class="k">static</span> <span class="n">ClockwisePolarCoord</span> <span class="n">South</span> <span class="p">=&gt;</span> <span class="k">new</span> <span class="nf">ClockwisePolarCoord</span><span class="p">(</span><span class="m">1f</span><span class="p">,</span> <span class="m">180f</span><span class="p">);</span>
    <span class="k">public</span> <span class="k">static</span> <span class="n">ClockwisePolarCoord</span> <span class="n">West</span> <span class="p">=&gt;</span> <span class="k">new</span> <span class="nf">ClockwisePolarCoord</span><span class="p">(</span><span class="m">1f</span><span class="p">,</span> <span class="m">270f</span><span class="p">);</span>

    <span class="k">public</span> <span class="k">static</span> <span class="n">ClockwisePolarCoord</span> <span class="nf">FromVector2</span><span class="p">(</span><span class="k">in</span> <span class="n">Vector2</span> <span class="n">vec</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">vec</span> <span class="p">==</span> <span class="n">Vector2</span><span class="p">.</span><span class="n">zero</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">Zero</span><span class="p">;</span>

        <span class="kt">float</span> <span class="n">radius</span> <span class="p">=</span> <span class="n">vec</span><span class="p">.</span><span class="n">magnitude</span><span class="p">;</span>
        <span class="kt">float</span> <span class="n">angle</span> <span class="p">=</span> <span class="n">Mathf</span><span class="p">.</span><span class="nf">Atan2</span><span class="p">(</span><span class="n">vec</span><span class="p">.</span><span class="n">y</span><span class="p">,</span> <span class="n">vec</span><span class="p">.</span><span class="n">x</span><span class="p">)</span> <span class="p">*</span> <span class="n">Mathf</span><span class="p">.</span><span class="n">Rad2Deg</span><span class="p">;</span>

        <span class="k">return</span> <span class="k">new</span> <span class="nf">ClockwisePolarCoord</span><span class="p">(</span><span class="n">radius</span><span class="p">,</span> <span class="nf">CovertAngle</span><span class="p">(</span><span class="n">angle</span><span class="p">));</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">static</span> <span class="kt">bool</span> <span class="k">operator</span> <span class="p">==(</span><span class="n">ClockwisePolarCoord</span> <span class="n">a</span><span class="p">,</span> <span class="n">ClockwisePolarCoord</span> <span class="n">b</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="n">Mathf</span><span class="p">.</span><span class="nf">Approximately</span><span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">Angle</span><span class="p">,</span> <span class="n">b</span><span class="p">.</span><span class="n">Angle</span><span class="p">)</span> <span class="p">&amp;&amp;</span>
                <span class="n">Mathf</span><span class="p">.</span><span class="nf">Approximately</span><span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">Radius</span><span class="p">,</span> <span class="n">b</span><span class="p">.</span><span class="n">Radius</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">static</span> <span class="kt">bool</span> <span class="k">operator</span> <span class="p">!=(</span><span class="n">ClockwisePolarCoord</span> <span class="n">a</span><span class="p">,</span> <span class="n">ClockwisePolarCoord</span> <span class="n">b</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="p">!(</span><span class="n">Mathf</span><span class="p">.</span><span class="nf">Approximately</span><span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">Angle</span><span class="p">,</span> <span class="n">b</span><span class="p">.</span><span class="n">Angle</span><span class="p">)</span> <span class="p">&amp;&amp;</span>
                <span class="n">Mathf</span><span class="p">.</span><span class="nf">Approximately</span><span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">Radius</span><span class="p">,</span> <span class="n">b</span><span class="p">.</span><span class="n">Radius</span><span class="p">));</span>
    <span class="p">}</span>

    <span class="err">#</span><span class="n">endregion</span>
    <span class="cm">/***********************************************************************
    *                               Public
    ***********************************************************************/</span>
    <span class="err">#</span><span class="n">region</span> <span class="p">.</span>
    <span class="k">public</span> <span class="n">ClockwisePolarCoord</span> <span class="n">Normalized</span> <span class="p">=&gt;</span> <span class="k">new</span> <span class="nf">ClockwisePolarCoord</span><span class="p">(</span><span class="m">1f</span><span class="p">,</span> <span class="n">Angle</span><span class="p">);</span>

    <span class="k">public</span> <span class="n">Vector2</span> <span class="nf">ToVector2</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">Radius</span> <span class="p">==</span> <span class="m">0f</span> <span class="p">&amp;&amp;</span> <span class="n">Angle</span> <span class="p">==</span> <span class="m">0f</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">Vector2</span><span class="p">.</span><span class="n">zero</span><span class="p">;</span>

        <span class="kt">float</span> <span class="n">angle</span> <span class="p">=</span> <span class="nf">CovertAngle</span><span class="p">(</span><span class="n">Angle</span><span class="p">);</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nf">Vector2</span><span class="p">(</span><span class="n">Radius</span> <span class="p">*</span> <span class="nf">Cos</span><span class="p">(</span><span class="n">angle</span><span class="p">),</span> <span class="n">Radius</span> <span class="p">*</span> <span class="nf">Sin</span><span class="p">(</span><span class="n">angle</span><span class="p">));</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">override</span> <span class="kt">string</span> <span class="nf">ToString</span><span class="p">()</span>
        <span class="p">=&gt;</span> <span class="s">$"(</span><span class="p">{</span><span class="n">Radius</span><span class="p">}</span><span class="s">, </span><span class="p">{</span><span class="n">Angle</span><span class="p">}</span><span class="s">)"</span><span class="p">;</span>

    <span class="k">public</span> <span class="k">override</span> <span class="kt">bool</span> <span class="nf">Equals</span><span class="p">(</span><span class="kt">object</span> <span class="n">obj</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="n">obj</span> <span class="p">==</span> <span class="k">null</span><span class="p">)</span> <span class="k">return</span> <span class="k">false</span><span class="p">;</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">obj</span> <span class="k">is</span> <span class="n">ClockwisePolarCoord</span> <span class="n">other</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="k">this</span> <span class="p">==</span> <span class="n">other</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">else</span>
            <span class="k">return</span> <span class="k">false</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">override</span> <span class="kt">int</span> <span class="nf">GetHashCode</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="k">base</span><span class="p">.</span><span class="nf">GetHashCode</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="err">#</span><span class="n">endregion</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div>  </div>

</details>

<p><br /></p>

<h1 id="radial-menu-하이라키-구성">Radial Menu 하이라키 구성</h1>
<hr />

<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/42164422/116083138-3e664000-a6d7-11eb-8eea-6ace0200bbcc.png" alt="image" /></p>

<h2 id="canvas"><strong>Canvas</strong></h2>
<ul>
  <li><code class="language-plaintext highlighter-rouge">Canvas</code> 컴포넌트</li>
</ul>

<h2 id="radial-menu-panel"><strong>Radial Menu Panel</strong></h2>
<ul>
  <li><code class="language-plaintext highlighter-rouge">RadialMenu</code> 컴포넌트(추후 작성)</li>
</ul>

<h2 id="piece"><strong>Piece</strong></h2>
<ul>
  <li><code class="language-plaintext highlighter-rouge">Image</code> 컴포넌트 : 원 모양의 스프라이트 사용</li>
  <li>각 방향으로 복제될 이미지의 원본 게임오브젝트</li>
</ul>

<h2 id="arrow-holder"><strong>Arrow Holder</strong></h2>
<ul>
  <li>Arrow의 부모 게임오브젝트</li>
</ul>

<h2 id="arrow"><strong>Arrow</strong></h2>
<ul>
  <li><code class="language-plaintext highlighter-rouge">Image</code> 컴포넌트 : 화살표 모양의 스프라이트 사용</li>
  <li>RectTransform의 <code class="language-plaintext highlighter-rouge">Pos Y</code> 값을 미리 조정한다. (예 : 100)</li>
</ul>

<p><br /></p>

<h1 id="radialmenu-스크립트-작성">RadialMenu 스크립트 작성</h1>
<hr />

<h2 id="radial-menu-동작-순서"><strong>Radial Menu 동작 순서</strong></h2>

<ul>
  <li>특정 키를 눌러 RadialMenu가 나타나게 한다.</li>
  <li>각각의 조각 이미지들이 원형으로 퍼진 형태로 등장한다.</li>
  <li>키를 누른 상태에서 마우스를 움직여 조각들 중 하나를 선택한다.</li>
  <li>키를 떼면 선택된 조각의 인덱스를 받아오며, RadialMenu가 사라진다.</li>
</ul>

<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/42164422/116089489-e4b54400-a6dd-11eb-957d-70b832b55b01.gif" alt="2021_0426_RadialMenu" /></p>

<p><br /></p>

<h2 id="필드"><strong>필드</strong></h2>

<details>
  <summary> 
Source Code
</summary>

  <div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
</pre></td><td class="rouge-code"><pre><span class="p">[</span><span class="nf">Header</span><span class="p">(</span><span class="s">"Options"</span><span class="p">)]</span>
<span class="p">[</span><span class="nf">Range</span><span class="p">(</span><span class="m">2</span><span class="p">,</span> <span class="m">16</span><span class="p">)]</span>
<span class="p">[</span><span class="n">SerializeField</span><span class="p">]</span> <span class="k">private</span> <span class="kt">int</span> <span class="n">_pieceCount</span> <span class="p">=</span> <span class="m">8</span><span class="p">;</span> <span class="c1">// 조각 개수</span>

<span class="p">[</span><span class="nf">Range</span><span class="p">(</span><span class="m">0.2f</span><span class="p">,</span> <span class="m">1f</span><span class="p">)]</span>
<span class="p">[</span><span class="n">SerializeField</span><span class="p">]</span> <span class="k">private</span> <span class="kt">float</span> <span class="n">_appearanceDuration</span> <span class="p">=</span> <span class="p">.</span><span class="m">3f</span><span class="p">;</span> <span class="c1">// 등장에 걸리는 시간</span>
<span class="p">[</span><span class="n">SerializeField</span><span class="p">]</span> <span class="k">private</span> <span class="kt">float</span> <span class="n">_pieceDist</span> <span class="p">=</span> <span class="m">180f</span><span class="p">;</span> <span class="c1">// 중앙으로부터 각 조각까지의 거리</span>

<span class="p">[</span><span class="nf">Range</span><span class="p">(</span><span class="m">0.01f</span><span class="p">,</span> <span class="m">0.5f</span><span class="p">)]</span>
<span class="p">[</span><span class="n">SerializeField</span><span class="p">]</span> <span class="k">private</span> <span class="kt">float</span> <span class="n">_centerDistThreshold</span> <span class="p">=</span> <span class="m">0.1f</span><span class="p">;</span> <span class="c1">// 중앙에서부터의 마우스 거리 기준</span>

<span class="p">[</span><span class="nf">Header</span><span class="p">(</span><span class="s">"Objects"</span><span class="p">)]</span>
<span class="p">[</span><span class="n">SerializeField</span><span class="p">]</span> <span class="k">private</span> <span class="n">GameObject</span> <span class="n">_pieceSample</span><span class="p">;</span> <span class="c1">// 복제될 조각 게임오브젝트</span>
<span class="p">[</span><span class="n">SerializeField</span><span class="p">]</span> <span class="k">private</span> <span class="n">RectTransform</span> <span class="n">_arrow</span><span class="p">;</span>    <span class="c1">// 화살표 이미지의 부모 트랜스폼</span>

<span class="c1">// 복제된 조각들</span>
<span class="k">private</span> <span class="n">Image</span><span class="p">[]</span> <span class="n">_pieceImages</span><span class="p">;</span>
<span class="k">private</span> <span class="n">RectTransform</span><span class="p">[]</span> <span class="n">_pieceRects</span><span class="p">;</span>
<span class="k">private</span> <span class="n">Vector2</span><span class="p">[]</span> <span class="n">_pieceDirections</span><span class="p">;</span> <span class="c1">// 각 조각이 위치할 방향의 벡터</span>

<span class="k">private</span> <span class="kt">float</span> <span class="n">_arrowRotationZ</span><span class="p">;</span>

<span class="p">[</span><span class="n">SerializeField</span><span class="p">,</span> <span class="nf">Header</span><span class="p">(</span><span class="s">"Debug"</span><span class="p">)]</span>
<span class="k">private</span> <span class="kt">int</span> <span class="n">_selectedIndex</span> <span class="p">=</span> <span class="p">-</span><span class="m">1</span><span class="p">;</span>

<span class="k">private</span> <span class="k">static</span> <span class="k">readonly</span> <span class="n">Color</span> <span class="n">SelectedPieceColor</span>    <span class="p">=</span> <span class="k">new</span> <span class="nf">Color</span><span class="p">(</span><span class="m">1f</span><span class="p">,</span> <span class="m">1f</span><span class="p">,</span> <span class="m">1f</span><span class="p">,</span> <span class="m">1f</span><span class="p">);</span>
<span class="k">private</span> <span class="k">static</span> <span class="k">readonly</span> <span class="n">Color</span> <span class="n">NotSelectedPieceColor</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Color</span><span class="p">(</span><span class="m">1f</span><span class="p">,</span> <span class="m">1f</span><span class="p">,</span> <span class="m">1f</span><span class="p">,</span> <span class="m">0.3f</span><span class="p">);</span>
</pre></td></tr></tbody></table></code></div>  </div>

</details>

<p><br /></p>

<h2 id="메소드"><strong>메소드</strong></h2>

<details>
  <summary> 
Source Code
</summary>

  <div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
</pre></td><td class="rouge-code"><pre><span class="k">private</span> <span class="k">void</span> <span class="nf">Awake</span><span class="p">()</span>
<span class="p">{</span>
    <span class="nf">InitPieceImages</span><span class="p">();</span>
    <span class="nf">InitPieceDirections</span><span class="p">();</span>
    <span class="nf">HideGameObject</span><span class="p">();</span>
<span class="p">}</span>

<span class="c1">/// &lt;summary&gt; 조각 샘플 복제하여 조각들 생성 &lt;/summary&gt;</span>
<span class="k">private</span> <span class="k">void</span> <span class="nf">InitPieceImages</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">_pieceSample</span><span class="p">.</span><span class="nf">SetActive</span><span class="p">(</span><span class="k">true</span><span class="p">);</span>

    <span class="n">_pieceImages</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Image</span><span class="p">[</span><span class="n">_pieceCount</span><span class="p">];</span>
    <span class="n">_pieceRects</span> <span class="p">=</span> <span class="k">new</span> <span class="n">RectTransform</span><span class="p">[</span><span class="n">_pieceCount</span><span class="p">];</span>

    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">_pieceCount</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span>
    <span class="p">{</span>
        <span class="c1">// 조각 복제</span>
        <span class="kt">var</span> <span class="n">clone</span> <span class="p">=</span> <span class="nf">Instantiate</span><span class="p">(</span><span class="n">_pieceSample</span><span class="p">,</span> <span class="n">transform</span><span class="p">);</span>
        <span class="n">clone</span><span class="p">.</span><span class="n">name</span> <span class="p">=</span> <span class="s">$"Piece </span><span class="p">{</span><span class="n">i</span><span class="p">}</span><span class="s">"</span><span class="p">;</span>

        <span class="c1">// Image, RectTransform 가져와 배열에 초기화</span>
        <span class="n">_pieceImages</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">=</span> <span class="n">clone</span><span class="p">.</span><span class="n">GetComponent</span><span class="p">&lt;</span><span class="n">Image</span><span class="p">&gt;();</span>
        <span class="n">_pieceRects</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">=</span> <span class="n">_pieceImages</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">rectTransform</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="n">_pieceSample</span><span class="p">.</span><span class="nf">SetActive</span><span class="p">(</span><span class="k">false</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">/// &lt;summary&gt; 시계 극좌표계를 이용해 각 조각들의 방향벡터 계산 &lt;/summary&gt;</span>
<span class="k">private</span> <span class="k">void</span> <span class="nf">InitPieceDirections</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">_pieceDirections</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Vector2</span><span class="p">[</span><span class="n">_pieceCount</span><span class="p">];</span>

    <span class="kt">float</span> <span class="n">angle</span> <span class="p">=</span> <span class="m">360f</span> <span class="p">/</span> <span class="n">_pieceCount</span><span class="p">;</span>

    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">_pieceCount</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span>
    <span class="p">{</span>
        <span class="n">_pieceDirections</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ClockwisePolarCoord</span><span class="p">(</span><span class="m">1f</span><span class="p">,</span> <span class="n">angle</span> <span class="p">*</span> <span class="n">i</span><span class="p">).</span><span class="nf">ToVector2</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">private</span> <span class="k">void</span> <span class="nf">ShowGameObject</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">gameObject</span><span class="p">.</span><span class="nf">SetActive</span><span class="p">(</span><span class="k">true</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">private</span> <span class="k">void</span> <span class="nf">HideGameObject</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">gameObject</span><span class="p">.</span><span class="nf">SetActive</span><span class="p">(</span><span class="k">false</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">/// &lt;summary&gt; 모든 조각의 색상 변경 &lt;/summary&gt;</span>
<span class="k">private</span> <span class="k">void</span> <span class="nf">ResetAllPieceColors</span><span class="p">()</span>
<span class="p">{</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">_pieceCount</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span>
    <span class="p">{</span>
        <span class="n">_pieceImages</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">color</span> <span class="p">=</span> <span class="n">NotSelectedPieceColor</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">/// &lt;summary&gt; 현재 선택된 조각의 색상 변경 &lt;/summary&gt;</span>
<span class="k">private</span> <span class="k">void</span> <span class="nf">SetSelectedPieceColors</span><span class="p">()</span>
<span class="p">{</span>
    <span class="nf">ResetAllPieceColors</span><span class="p">();</span>
    <span class="k">if</span><span class="p">(</span><span class="n">_selectedIndex</span> <span class="p">&gt;=</span> <span class="m">0</span><span class="p">)</span>
        <span class="n">_pieceImages</span><span class="p">[</span><span class="n">_selectedIndex</span><span class="p">].</span><span class="n">color</span> <span class="p">=</span> <span class="n">SelectedPieceColor</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">/// &lt;summary&gt; 화살표 이미지의 회전 설정 &lt;/summary&gt;</span>
<span class="k">private</span> <span class="k">void</span> <span class="nf">SetArrowRotation</span><span class="p">(</span><span class="kt">bool</span> <span class="n">show</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">_arrow</span><span class="p">.</span><span class="n">gameObject</span><span class="p">.</span><span class="nf">SetActive</span><span class="p">(</span><span class="n">show</span><span class="p">);</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">show</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">_arrow</span><span class="p">.</span><span class="n">eulerAngles</span> <span class="p">=</span> <span class="n">Vector3</span><span class="p">.</span><span class="n">forward</span> <span class="p">*</span> <span class="n">_arrowRotationZ</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">/// &lt;summary&gt; 등장 &lt;/summary&gt;</span>
<span class="k">public</span> <span class="k">void</span> <span class="nf">Show</span><span class="p">()</span>
<span class="p">{</span>
    <span class="nf">ShowGameObject</span><span class="p">();</span>
    <span class="nf">ResetAllPieceColors</span><span class="p">();</span>
    <span class="nf">SetArrowRotation</span><span class="p">(</span><span class="k">false</span><span class="p">);</span>
    <span class="n">_selectedIndex</span> <span class="p">=</span> <span class="p">-</span><span class="m">1</span><span class="p">;</span>

    <span class="nf">StartCoroutine</span><span class="p">(</span><span class="k">nameof</span><span class="p">(</span><span class="n">MainRoutine</span><span class="p">));</span>
<span class="p">}</span>

<span class="c1">/// &lt;summary&gt; 사라지면서 인덱스 리턴 &lt;/summary&gt;</span>
<span class="k">public</span> <span class="kt">int</span> <span class="nf">Hide</span><span class="p">()</span>
<span class="p">{</span>
    <span class="nf">StopCoroutine</span><span class="p">(</span><span class="k">nameof</span><span class="p">(</span><span class="n">MainRoutine</span><span class="p">));</span>
    <span class="nf">HideGameObject</span><span class="p">();</span>

    <span class="k">return</span> <span class="n">_selectedIndex</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">/// &lt;summary&gt; 각각 피스 이미지(스프라이트) 등록 &lt;/summary&gt;</span>
<span class="k">public</span> <span class="k">void</span> <span class="nf">SetPieceImageSprites</span><span class="p">(</span><span class="n">Sprite</span><span class="p">[]</span> <span class="n">sprites</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">len</span> <span class="p">=</span> <span class="n">sprites</span><span class="p">.</span><span class="n">Length</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">_pieceCount</span> <span class="p">&amp;&amp;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">len</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">sprites</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">!=</span> <span class="k">null</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">_pieceImages</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">sprite</span> <span class="p">=</span> <span class="n">sprites</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div>  </div>

</details>

<p>게임 시작 시, <code class="language-plaintext highlighter-rouge">InitPieceImages()</code> 메소드를 통해 미리 준비한 Piece 게임오브젝트를 목표한 조각의 개수만큼 복제한다.</p>

<p>그리고 복제된 게임오브젝트들로부터 <code class="language-plaintext highlighter-rouge">Image</code>, <code class="language-plaintext highlighter-rouge">RectTransform</code> 컴포넌트를 가져와 각각 <code class="language-plaintext highlighter-rouge">_pieceImages</code>, <code class="language-plaintext highlighter-rouge">_pieceRects</code> 배열에 담아놓는다.</p>

<p>추후 각 조각들의 색상 및 위치 변경에 사용된다.</p>

<p><br /></p>

<p><code class="language-plaintext highlighter-rouge">InitPieceDirections()</code> 메소드에서는 각 조각들이 위치할 방향의 방향벡터들을 계산하여 배열에 초기화한다.</p>

<p>이때, 미리 만들어놓은 <code class="language-plaintext highlighter-rouge">ClockwisePolarCoord</code> 구조체를 활용한다.</p>

<p>예를 들어 조각의 개수가 2개일 경우 각각 0도(상단), 180도(하단)에 해당하는 방향벡터를 갖고,</p>

<p>3개일 경우에는 0도부터 시작하여 120도 간격으로,</p>

<p>8개일 경우에는 0도부터 시작하여 360 / 8 = 45도 간격으로 분포한다.</p>

<p>여기서 모든 방향벡터의 크기는 1이며,</p>

<p>벡터의 크기(radius)와 각도(angle)를 이용해 <code class="language-plaintext highlighter-rouge">ClockwisePolarCoord</code> 구조체를 생성하고 <code class="language-plaintext highlighter-rouge">.ToVector2()</code> 메소드를 통해 직교좌표계의 방향벡터로 간단히 변환할 수 있다.</p>

<p><br /></p>

<h2 id="코루틴"><strong>코루틴</strong></h2>

<details>
  <summary> 
Source Code
</summary>

  <div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
</pre></td><td class="rouge-code"><pre><span class="k">private</span> <span class="n">IEnumerator</span> <span class="nf">MainRoutine</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">float</span> <span class="n">t</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">prevSelectedIndex</span> <span class="p">=</span> <span class="p">-</span><span class="m">1</span><span class="p">;</span>

    <span class="c1">// 1. 등장</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">t</span> <span class="p">&lt;</span> <span class="n">_appearanceDuration</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// 중앙으로부터의 거리 계산</span>
        <span class="kt">float</span> <span class="n">dist</span> <span class="p">=</span> <span class="n">t</span> <span class="p">*</span> <span class="n">_pieceDist</span> <span class="p">/</span> <span class="n">_appearanceDuration</span><span class="p">;</span>

        <span class="c1">// 각 조각들을 중앙에서부터 서서히 이동</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">_pieceCount</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span>
        <span class="p">{</span>
            <span class="n">_pieceRects</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">anchoredPosition</span> <span class="p">=</span> <span class="n">_pieceDirections</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">*</span> <span class="n">dist</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="n">t</span> <span class="p">+=</span> <span class="n">Time</span><span class="p">.</span><span class="n">deltaTime</span><span class="p">;</span>
        <span class="k">yield</span> <span class="k">return</span> <span class="k">null</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">// 2. 유지</span>
    <span class="k">while</span> <span class="p">(</span><span class="k">true</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="kt">bool</span> <span class="n">showArrow</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>

        <span class="c1">// 마우스의 스크린 내 좌표(0.0 ~ 1.0 범위)</span>
        <span class="kt">var</span> <span class="n">mViewportPos</span> <span class="p">=</span> <span class="n">Camera</span><span class="p">.</span><span class="n">main</span><span class="p">.</span><span class="nf">ScreenToViewportPoint</span><span class="p">(</span><span class="n">Input</span><span class="p">.</span><span class="n">mousePosition</span><span class="p">);</span>

        <span class="c1">// 스크린의 중앙을 (0, 0)으로 하는 마우스 좌표(-0.5 ~ 0.5 범위)</span>
        <span class="kt">var</span> <span class="n">mPos</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Vector2</span><span class="p">(</span><span class="n">mViewportPos</span><span class="p">.</span><span class="n">x</span> <span class="p">-</span> <span class="m">0.5f</span><span class="p">,</span> <span class="n">mViewportPos</span><span class="p">.</span><span class="n">y</span> <span class="p">-</span> <span class="m">0.5f</span><span class="p">);</span>

        <span class="c1">// 중앙에서 마우스까지의 거리</span>
        <span class="kt">var</span> <span class="n">mDist</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Vector2</span><span class="p">(</span><span class="n">mPos</span><span class="p">.</span><span class="n">x</span> <span class="p">*</span> <span class="n">Screen</span><span class="p">.</span><span class="n">width</span> <span class="p">/</span> <span class="n">Screen</span><span class="p">.</span><span class="n">height</span><span class="p">,</span> <span class="n">mPos</span><span class="p">.</span><span class="n">y</span><span class="p">).</span><span class="n">magnitude</span><span class="p">;</span>

        <span class="c1">// 마우스가 중앙에 가까이 위치하면 조각 선택 해제</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">mDist</span> <span class="p">&lt;</span> <span class="n">_centerDistThreshold</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">_selectedIndex</span> <span class="p">=</span> <span class="p">-</span><span class="m">1</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">else</span>
        <span class="p">{</span>
            <span class="c1">// 마우스 위치의 직교 좌표를 시계 극좌표로 변환</span>
            <span class="n">ClockwisePolarCoord</span> <span class="n">mousePC</span> <span class="p">=</span> <span class="n">ClockwisePolarCoord</span><span class="p">.</span><span class="nf">FromVector2</span><span class="p">(</span><span class="n">mPos</span><span class="p">);</span>

            <span class="c1">// Arrow 회전 설정</span>
            <span class="n">_arrowRotationZ</span> <span class="p">=</span> <span class="p">-</span><span class="n">mousePC</span><span class="p">.</span><span class="n">Angle</span><span class="p">;</span>
            <span class="n">showArrow</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>

            <span class="c1">// 각도로부터 배열 인덱스 계산</span>
            <span class="kt">float</span> <span class="n">fIndex</span> <span class="p">=</span> <span class="p">(</span><span class="n">mousePC</span><span class="p">.</span><span class="n">Angle</span> <span class="p">/</span> <span class="m">360f</span><span class="p">)</span> <span class="p">*</span> <span class="n">_pieceCount</span><span class="p">;</span>
            <span class="n">_selectedIndex</span> <span class="p">=</span> <span class="n">Mathf</span><span class="p">.</span><span class="nf">RoundToInt</span><span class="p">(</span><span class="n">fIndex</span><span class="p">)</span> <span class="p">%</span> <span class="n">_pieceCount</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="c1">// 선택된 조각 색상 변경</span>
        <span class="k">if</span><span class="p">(</span><span class="n">prevSelectedIndex</span> <span class="p">!=</span> <span class="n">_selectedIndex</span><span class="p">)</span>
            <span class="nf">SetSelectedPieceColors</span><span class="p">();</span>

        <span class="c1">// 화살표 회전</span>
        <span class="nf">SetArrowRotation</span><span class="p">(</span><span class="n">showArrow</span><span class="p">);</span>

        <span class="k">yield</span> <span class="k">return</span> <span class="k">null</span><span class="p">;</span>

        <span class="n">prevSelectedIndex</span> <span class="p">=</span> <span class="n">_selectedIndex</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div>  </div>

</details>

<p><br /></p>

<p>코루틴 내부는 총 두 부분으로 나뉜다.</p>

<p>첫 번째는 메뉴가 나타날 때 애니메이션을 표현하는 부분이다.</p>

<p>인스펙터를 통해 지정한 <code class="language-plaintext highlighter-rouge">_appearanceDuration</code> 시간(초) 만큼 지속되며,</p>

<p>지속 시간 동안 매 프레임마다 화면 중앙으로부터 각 조각들까지의 거리를 계산하여</p>

<p>조각들을 점차 중심으로부터 멀리 이동시킨다.</p>

<p><br /></p>

<p>두 번째는 등장 애니메이션이 종료되고 메뉴가 유지되는 부분이다.</p>

<p>역시 <code class="language-plaintext highlighter-rouge">yield return null;</code>을 통해 매 프레임 검사하며,</p>

<p>우선 마우스의 스크린 내 좌표를 (-0.5, -0.5) ~ (0.5, 0.5) 범위로 얻어낸다.</p>

<p>마우스가 스크린 중앙에 위치할 경우 좌표는 (0, 0)이다.</p>

<p>그리고 이 좌표를 시계 극좌표로 변환하면 마우스가 위치한 곳의 각도를 간단히 얻어낼 수 있다.</p>

<p>이 각도를 이용해 Arrow 이미지의 회전을 결정하고, 0 ~ <code class="language-plaintext highlighter-rouge">_pieceCount - 1</code> 사이에서 알맞은 조각 인덱스 값을 계산한다.</p>

<p>그리고 계산된 인덱스를 <code class="language-plaintext highlighter-rouge">_selectedIndex</code>에 초기화한다.</p>

<p>마우스의 위치에 따라 상단에서부터 시계방향으로 조각의 인덱스가 결정된다.</p>

<p><br /></p>

<h1 id="동작-테스트">동작 테스트</h1>
<hr />

<h2 id="radial-menu-인스펙터-설정"><strong>Radial Menu 인스펙터 설정</strong></h2>

<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/42164422/116211584-eedb4f00-a77e-11eb-9a07-62944e68345c.png" alt="image" /></p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">Piece Count</code> : 생성될 조각의 개수</li>
  <li><code class="language-plaintext highlighter-rouge">Appearance Duration</code> : 등장 애니메이션 지속 시간(초)</li>
  <li><code class="language-plaintext highlighter-rouge">Piece Dist</code> : 중심으로부터 각 조각까지의 거리</li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">Center Dist Threshold</code> : 중심으로부터 조각들을 인식하지 않을 범위</p>
  </li>
  <li><code class="language-plaintext highlighter-rouge">Piece Sample</code> : 복제될 조각 게임오브젝트</li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">Arrow</code> : 화살표 이미지의 부모 게임오브젝트</p>
  </li>
  <li><code class="language-plaintext highlighter-rouge">Selected Index</code> : 현재 선택된 조각의 인덱스</li>
</ul>

<p><br /></p>

<h2 id="테스트-스크립트-작성"><strong>테스트 스크립트 작성</strong></h2>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
</pre></td><td class="rouge-code"><pre><span class="k">public</span> <span class="k">class</span> <span class="nc">Test_RadialMenu</span> <span class="p">:</span> <span class="n">MonoBehaviour</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="n">RadialMenu</span> <span class="n">radialMenu</span><span class="p">;</span>
    <span class="k">public</span> <span class="n">KeyCode</span> <span class="n">key</span> <span class="p">=</span> <span class="n">KeyCode</span><span class="p">.</span><span class="n">G</span><span class="p">;</span>

    <span class="p">[</span><span class="n">Space</span><span class="p">]</span>
    <span class="k">public</span> <span class="n">Sprite</span><span class="p">[]</span> <span class="n">sprites</span><span class="p">;</span>

    <span class="k">private</span> <span class="k">void</span> <span class="nf">Start</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">radialMenu</span><span class="p">.</span><span class="nf">SetPieceImageSprites</span><span class="p">(</span><span class="n">sprites</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">private</span> <span class="k">void</span> <span class="nf">Update</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">Input</span><span class="p">.</span><span class="nf">GetKeyDown</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>
        <span class="p">{</span>
            <span class="n">radialMenu</span><span class="p">.</span><span class="nf">Show</span><span class="p">();</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">Input</span><span class="p">.</span><span class="nf">GetKeyUp</span><span class="p">(</span><span class="n">key</span><span class="p">))</span>
        <span class="p">{</span>
            <span class="kt">int</span> <span class="n">selected</span> <span class="p">=</span> <span class="n">radialMenu</span><span class="p">.</span><span class="nf">Hide</span><span class="p">();</span>
            <span class="n">Debug</span><span class="p">.</span><span class="nf">Log</span><span class="p">(</span><span class="s">$"Selected : </span><span class="p">{</span><span class="n">selected</span><span class="p">}</span><span class="s">"</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>테스트를 위한 스크립트는 위와 같이 간단히 작성할 수 있다.</p>

<p><code class="language-plaintext highlighter-rouge">RadialMenu</code>의 참조와 테스트를 위한 키값이 필요하며</p>

<p>Radial Menu 각각의 조각 이미지에 등록할 스프라이트를 인스펙터에서 받는다.</p>

<p>그리고 게임 시작 시 Start() 메소드에서 이미지들을 등록한다.</p>

<p>게임 내에서 정해진 키를 눌렀을 때 메뉴가 등장하고, 키를 유지하는 동안 마우스를 움직이며 각각의 조각들을 선택할 수 있다.</p>

<p>그리고 키를 뗐을 때 메뉴가 사라지며, 마지막으로 선택된 조각의 인덱스가 콘솔 창의 로그를 통해 기록된다.</p>

<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/42164422/116368413-45aa5c80-a843-11eb-84e3-76e0726c0b62.gif" alt="2021_0428_RadialMenu_Sprites" /></p>

<p><br /></p>

<h1 id="상태-분리-및-fsm-구현">상태 분리 및 FSM 구현</h1>
<hr />

<p>Radial Menu는 <strong>Appearance(등장)</strong> - <strong>Main(유지)</strong> - <strong>Disappearance(소멸)</strong> 이렇게 세 가지 상태로 구분할 수 있다.</p>

<p>위에서는 <strong>Appearance - Main</strong>을 하나의 코루틴 내에서 작성하고 <strong>Disappearance</strong>는 단순히 비활성화로 구현했지만,</p>

<p>각각의 상태를 분리하고 스크립트 애니메이션을 구현하면 원하는대로 다양한 효과들을 독립적으로 만들고 적용할 수 있다.</p>

<p>여기에 상태 패턴, 그 중에서도 <strong>FSM(Finite State Machine, 유한 상태 머신)</strong>을 이용한다.</p>

<p><br /></p>

<h2 id="상태-클래스-정의"><strong>상태 클래스 정의</strong></h2>

<p>각각의 상태는 클래스 단위로 정의한다.</p>

<p>그리고 하나의 상태 클래스 내에서도 크게 3가지 동작으로 구분되며,</p>

<p>이는 <code class="language-plaintext highlighter-rouge">Enter()</code>, <code class="language-plaintext highlighter-rouge">Update()</code>, <code class="language-plaintext highlighter-rouge">Exit()</code> 메소드로 구현된다.</p>

<p><code class="language-plaintext highlighter-rouge">Enter()</code> 메소드는 해당 상태에 진입할 때 호출된다.</p>

<p><code class="language-plaintext highlighter-rouge">Update()</code> 메소드는 상태가 지속되는 동안 매 프레임 상태 관리자에 의해 호출되며,</p>

<p><code class="language-plaintext highlighter-rouge">Exit()</code> 메소드는 상태가 끝날 때 호출된다.</p>

<p>따라서 <code class="language-plaintext highlighter-rouge">A</code> 상태로부터 <code class="language-plaintext highlighter-rouge">B</code> 상태로 전이될 때,</p>

<p><code class="language-plaintext highlighter-rouge">A.Exit()</code>, <code class="language-plaintext highlighter-rouge">B.Enter()</code> 메소드가 순차적으로 실행된다.</p>

<p><br /></p>

<p>따라서 상태 클래스의 기본 구조는 다음과 같다.</p>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="k">private</span> <span class="k">abstract</span> <span class="k">class</span> <span class="nc">MenuState</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">abstract</span> <span class="k">void</span> <span class="nf">OnEnter</span><span class="p">();</span>
    <span class="k">public</span> <span class="k">abstract</span> <span class="k">void</span> <span class="nf">Update</span><span class="p">();</span>
    <span class="k">public</span> <span class="k">abstract</span> <span class="k">void</span> <span class="nf">OnExit</span><span class="p">();</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>그리고 각각의 상태 객체에서는 <code class="language-plaintext highlighter-rouge">RadialMenu</code>에 접근할 수 있어야 하므로,</p>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="k">protected</span> <span class="k">readonly</span> <span class="n">RadialMenu</span> <span class="n">menu</span><span class="p">;</span>

<span class="k">public</span> <span class="nf">MenuState</span><span class="p">(</span><span class="n">RadialMenu</span> <span class="n">menu</span><span class="p">)</span>
    <span class="p">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="n">menu</span> <span class="p">=</span> <span class="n">menu</span><span class="p">;</span>
</pre></td></tr></tbody></table></code></div></div>

<p>이렇게 필드와 생성자를 추가해준다.</p>

<p><br /></p>

<p>상태 클래스를 <code class="language-plaintext highlighter-rouge">RadialMenu</code> 클래스 외부에 분리하여 작성하면 <code class="language-plaintext highlighter-rouge">RadialMenu</code> 클래스의 public 멤버들에만 접근할 수 있지만,</p>

<p>내부 클래스로 작성하면 private 멤버들에도 모두 접근할 수 있다는 이점이 있다.</p>

<p>따라서 <code class="language-plaintext highlighter-rouge">RadialMenu</code> 클래스 내에 모든 상태 클래스를 작성한다.</p>

<p><br /></p>

<h2 id="세부-상태-클래스-정의"><strong>세부 상태 클래스 정의</strong></h2>

<p>앞서 언급했듯, 모든 상태는 크게 Appearance, Main, Disappearance 3가지로 구분할 수 있다.</p>

<p>따라서 <code class="language-plaintext highlighter-rouge">MenuState</code> 클래스를 상속받는 세 개의 클래스를 정의한다.</p>

<details>
  <summary> 
Source Code
</summary>

  <div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
</pre></td><td class="rouge-code"><pre><span class="c1">// 1. 등장</span>
<span class="k">private</span> <span class="k">abstract</span> <span class="k">class</span> <span class="nc">AppearanceState</span> <span class="p">:</span> <span class="n">MenuState</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="nf">AppearanceState</span><span class="p">(</span><span class="n">RadialMenu</span> <span class="n">menu</span><span class="p">)</span> <span class="p">:</span> <span class="k">base</span><span class="p">(</span><span class="n">menu</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span>

    <span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnEnter</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">menu</span><span class="p">.</span><span class="n">_selectedIndex</span> <span class="p">=</span> <span class="p">-</span><span class="m">1</span><span class="p">;</span>
        <span class="n">menu</span><span class="p">.</span><span class="nf">ShowGameObject</span><span class="p">();</span>
        <span class="n">menu</span><span class="p">.</span><span class="nf">SetArrow</span><span class="p">(</span><span class="k">false</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">Update</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nf">Execute</span><span class="p">();</span>
        <span class="n">menu</span><span class="p">.</span><span class="n">_stateProgress</span> <span class="p">+=</span> <span class="n">Time</span><span class="p">.</span><span class="n">deltaTime</span> <span class="p">/</span> <span class="n">menu</span><span class="p">.</span><span class="n">_appearanceDuration</span><span class="p">;</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">menu</span><span class="p">.</span><span class="n">_stateProgress</span> <span class="p">&gt;=</span> <span class="m">1f</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">menu</span><span class="p">.</span><span class="n">_stateProgress</span> <span class="p">=</span> <span class="m">1f</span><span class="p">;</span>
            <span class="n">menu</span><span class="p">.</span><span class="nf">ChangeToNextState</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">protected</span> <span class="k">abstract</span> <span class="k">void</span> <span class="nf">Execute</span><span class="p">();</span>

    <span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnExit</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// 2. 유지</span>
<span class="k">private</span> <span class="k">abstract</span> <span class="k">class</span> <span class="nc">MainState</span> <span class="p">:</span> <span class="n">MenuState</span>
<span class="p">{</span>
    <span class="c1">// 이전 프레임의 선택 인덱스</span>
    <span class="k">protected</span> <span class="kt">int</span> <span class="n">prevSelectedIndex</span> <span class="p">=</span> <span class="p">-</span><span class="m">1</span><span class="p">;</span>

    <span class="k">public</span> <span class="nf">MainState</span><span class="p">(</span><span class="n">RadialMenu</span> <span class="n">menu</span><span class="p">)</span> <span class="p">:</span> <span class="k">base</span><span class="p">(</span><span class="n">menu</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span>

    <span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnEnter</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">prevSelectedIndex</span> <span class="p">=</span> <span class="p">-</span><span class="m">1</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">Update</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="kt">bool</span> <span class="n">showArrow</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>

        <span class="c1">// 마우스의 스크린 내 좌표(0.0 ~ 1.0 범위)</span>
        <span class="kt">var</span> <span class="n">mViewportPos</span> <span class="p">=</span> <span class="n">Camera</span><span class="p">.</span><span class="n">main</span><span class="p">.</span><span class="nf">ScreenToViewportPoint</span><span class="p">(</span><span class="n">Input</span><span class="p">.</span><span class="n">mousePosition</span><span class="p">);</span>

        <span class="c1">// 스크린의 중앙을 (0, 0)으로 하는 마우스 좌표(-0.5 ~ 0.5 범위)</span>
        <span class="kt">var</span> <span class="n">mPos</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Vector2</span><span class="p">(</span><span class="n">mViewportPos</span><span class="p">.</span><span class="n">x</span> <span class="p">-</span> <span class="m">0.5f</span><span class="p">,</span> <span class="n">mViewportPos</span><span class="p">.</span><span class="n">y</span> <span class="p">-</span> <span class="m">0.5f</span><span class="p">);</span>

        <span class="c1">// 중심에서 마우스까지의 거리</span>
        <span class="kt">var</span> <span class="n">mDist</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Vector2</span><span class="p">(</span><span class="n">mPos</span><span class="p">.</span><span class="n">x</span> <span class="p">*</span> <span class="n">Screen</span><span class="p">.</span><span class="n">width</span> <span class="p">/</span> <span class="n">Screen</span><span class="p">.</span><span class="n">height</span><span class="p">,</span> <span class="n">mPos</span><span class="p">.</span><span class="n">y</span><span class="p">).</span><span class="n">magnitude</span><span class="p">;</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">mDist</span> <span class="p">&lt;</span> <span class="n">menu</span><span class="p">.</span><span class="n">_centerDistThreshold</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">menu</span><span class="p">.</span><span class="n">_selectedIndex</span> <span class="p">=</span> <span class="p">-</span><span class="m">1</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">else</span>
        <span class="p">{</span>
            <span class="c1">// 마우스 위치의 직교 좌표를 시계 극좌표로 변환</span>
            <span class="n">ClockwisePolarCoord</span> <span class="n">mousePC</span> <span class="p">=</span> <span class="n">ClockwisePolarCoord</span><span class="p">.</span><span class="nf">FromVector2</span><span class="p">(</span><span class="n">mPos</span><span class="p">);</span>

            <span class="c1">// Arrow 회전 설정</span>
            <span class="n">menu</span><span class="p">.</span><span class="n">_arrowRotationZ</span> <span class="p">=</span> <span class="p">-</span><span class="n">mousePC</span><span class="p">.</span><span class="n">Angle</span><span class="p">;</span>
            <span class="n">showArrow</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>

            <span class="c1">// 각도로부터 배열 인덱스 계산</span>
            <span class="kt">float</span> <span class="n">fIndex</span> <span class="p">=</span> <span class="p">(</span><span class="n">mousePC</span><span class="p">.</span><span class="n">Angle</span> <span class="p">/</span> <span class="m">360f</span><span class="p">)</span> <span class="p">*</span> <span class="n">menu</span><span class="p">.</span><span class="n">_pieceCount</span><span class="p">;</span>
            <span class="n">menu</span><span class="p">.</span><span class="n">_selectedIndex</span> <span class="p">=</span> <span class="n">Mathf</span><span class="p">.</span><span class="nf">RoundToInt</span><span class="p">(</span><span class="n">fIndex</span><span class="p">)</span> <span class="p">%</span> <span class="n">menu</span><span class="p">.</span><span class="n">_pieceCount</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="c1">// 화살표 회전</span>
        <span class="n">menu</span><span class="p">.</span><span class="nf">SetArrow</span><span class="p">(</span><span class="n">showArrow</span><span class="p">);</span>

        <span class="c1">// 선택 인덱스 변경</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">prevSelectedIndex</span> <span class="p">!=</span> <span class="n">menu</span><span class="p">.</span><span class="n">_selectedIndex</span><span class="p">)</span>
            <span class="nf">OnSelectedIndexChanged</span><span class="p">(</span><span class="n">prevSelectedIndex</span><span class="p">,</span> <span class="n">menu</span><span class="p">.</span><span class="n">_selectedIndex</span><span class="p">);</span>

        <span class="c1">// 이전 인덱스 기억</span>
        <span class="n">prevSelectedIndex</span> <span class="p">=</span> <span class="n">menu</span><span class="p">.</span><span class="n">_selectedIndex</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">/// &lt;summary&gt; 선택된 인덱스 변경 &lt;/summary&gt;</span>
    <span class="k">public</span> <span class="k">abstract</span> <span class="k">void</span> <span class="nf">OnSelectedIndexChanged</span><span class="p">(</span><span class="kt">int</span> <span class="n">prevIndex</span><span class="p">,</span> <span class="kt">int</span> <span class="n">currentIndex</span><span class="p">);</span>

    <span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnExit</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// 3. 소멸</span>
<span class="k">private</span> <span class="k">abstract</span> <span class="k">class</span> <span class="nc">DisappearanceState</span> <span class="p">:</span> <span class="n">MenuState</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="nf">DisappearanceState</span><span class="p">(</span><span class="n">RadialMenu</span> <span class="n">menu</span><span class="p">)</span> <span class="p">:</span> <span class="k">base</span><span class="p">(</span><span class="n">menu</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span>

    <span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnEnter</span><span class="p">()</span>
    <span class="p">{</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">Update</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nf">Execute</span><span class="p">();</span>
        <span class="n">menu</span><span class="p">.</span><span class="n">_stateProgress</span> <span class="p">-=</span> <span class="n">Time</span><span class="p">.</span><span class="n">deltaTime</span> <span class="p">/</span> <span class="n">menu</span><span class="p">.</span><span class="n">_appearanceDuration</span><span class="p">;</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">menu</span><span class="p">.</span><span class="n">_stateProgress</span> <span class="p">&lt;=</span> <span class="m">0f</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">menu</span><span class="p">.</span><span class="n">_stateProgress</span> <span class="p">=</span> <span class="m">0f</span><span class="p">;</span>
            <span class="n">menu</span><span class="p">.</span><span class="nf">ChangeToNextState</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">protected</span> <span class="k">abstract</span> <span class="k">void</span> <span class="nf">Execute</span><span class="p">();</span>

    <span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnExit</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">menu</span><span class="p">.</span><span class="nf">HideGameObject</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div>  </div>

</details>

<p>각 상태 클래스의 <code class="language-plaintext highlighter-rouge">OnEnter()</code> 메소드에는 상태 진입 시 단 한 번만 수행될 기능을 작성한다.</p>

<p>예를 들어 <code class="language-plaintext highlighter-rouge">AppearanceState</code>의 <code class="language-plaintext highlighter-rouge">OnEnter()</code> 메소드 내에는 선택 인덱스 초기화, 게임오브젝트 활성화 기능을 작성한다.</p>

<p><code class="language-plaintext highlighter-rouge">Update()</code> 메소드는 상태가 유지되는 동안 매 프레임 실행될 기능들을 작성한다.</p>

<p><code class="language-plaintext highlighter-rouge">AppearanceState</code>, <code class="language-plaintext highlighter-rouge">DisappearanceState</code>는 등장 및 소멸 애니메이션을 담당하므로</p>

<p><code class="language-plaintext highlighter-rouge">Update()</code>에서 각각 상태 진행도를 매프레임 변수에 더하고 빼서 기록한다.</p>

<p>이 때 상태 진행도는 <code class="language-plaintext highlighter-rouge">RadialMenu</code> 클래스에서 <code class="language-plaintext highlighter-rouge">_stateProgress</code> 변수로 관리한다.</p>

<p>이를 이용해 등장 및 소멸 애니메이션에서 상태 진행도를 서로 공유하여,</p>

<p>등장 상태에서 메인 상태로 이어지기 전에 소멸 상태로 곧바로 이어져도 자연스럽게 애니메이션이 연결되도록 한다.</p>

<p><code class="language-plaintext highlighter-rouge">MainState</code>의 <code class="language-plaintext highlighter-rouge">Update()</code> 메소드에는 이전에 코루틴 내에 작성된 기능을 그대로 옮겨온다.</p>

<p>대신 인덱스 변경 시 수행될 동작만 분리하여 하위 클래스에서 재정의할 수 있도록,</p>

<p><code class="language-plaintext highlighter-rouge">OnSelectedIndexChanged(int, int)</code> 메소드를 abstract로 남겨둔다.</p>

<p>마찬가지로 <code class="language-plaintext highlighter-rouge">AppearanceState</code>, <code class="language-plaintext highlighter-rouge">DisappearanceState</code>의 <code class="language-plaintext highlighter-rouge">Update()</code> 메소드 내에서도</p>

<p>상태 진행도 변수를 초기화하는 공통 부분을 작성하고</p>

<p>세부 상태마다 다르게 구현될 부분을 abstract <code class="language-plaintext highlighter-rouge">Execute()</code> 메소드로 남겨둔다.</p>

<p><br /></p>

<p>그리고 <code class="language-plaintext highlighter-rouge">Update()</code> 메소드 내에서는 조건에 따른 다음 상태 전이 기능을 작성할 필요가 있다.</p>

<p>따라서 <code class="language-plaintext highlighter-rouge">AppearanceState</code>, <code class="language-plaintext highlighter-rouge">DisappearanceState</code>의 <code class="language-plaintext highlighter-rouge">Update()</code> 메소드 내에서는 조건문을 통해 상태 진행도를 검사하여, 각각 상태 진행도가 1까지 증가하거나 0까지 감소하면 다음 상태로 전이하도록 작성한다.</p>

<p>반면에 <code class="language-plaintext highlighter-rouge">MainState</code>에서는 외부에서 메뉴 호출자가 메뉴를 종료하는 것을 트리거로 하여 외부에 의해 상태가 전이되므로 <code class="language-plaintext highlighter-rouge">Update()</code> 내에 상태 전이 조건을 작성하지 않는다.</p>

<p><br /></p>

<p>마지막으로 <code class="language-plaintext highlighter-rouge">OnExit()</code> 메소드에는 상태 종료 시 수행될 기능을 작성한다.</p>

<p>각 상태의 특성상 <code class="language-plaintext highlighter-rouge">AppearanceState</code>, <code class="language-plaintext highlighter-rouge">MainState</code>에서는 상태 종료 시 별다른 동작을 취하지 않으므로 비워두고,</p>

<p><code class="language-plaintext highlighter-rouge">DisappearanceState</code>에서는 게임오브젝트를 숨기도록 <code class="language-plaintext highlighter-rouge">menu.HideGameObject()</code> 메소드를 호출한다.</p>

<p><br /></p>

<h2 id="구체적-상태-클래스들-작성"><strong>구체적 상태 클래스들 작성</strong></h2>

<p>실제로 사용될 상태 클래스들을 작성한다. (예시)</p>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
</pre></td><td class="rouge-code"><pre><span class="c1">/// &lt;summary&gt; 서서히 알파값 증가 &lt;/summary&gt;</span>
<span class="k">private</span> <span class="k">sealed</span> <span class="k">class</span> <span class="nc">FadeIn</span> <span class="p">:</span> <span class="n">AppearanceState</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="nf">FadeIn</span><span class="p">(</span><span class="n">RadialMenu</span> <span class="n">menu</span><span class="p">)</span> <span class="p">:</span> <span class="k">base</span><span class="p">(</span><span class="n">menu</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span>

    <span class="k">protected</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">Execute</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="c1">// 알파값 서서히 증가</span>
        <span class="n">menu</span><span class="p">.</span><span class="nf">SetAllPieceAlpha</span><span class="p">(</span><span class="n">menu</span><span class="p">.</span><span class="n">_stateProgress</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">/// &lt;summary&gt; 선택된 조각의 알파값만 증가 &lt;/summary&gt;</span>
<span class="k">private</span> <span class="k">sealed</span> <span class="k">class</span> <span class="nc">MainAlphaChange</span> <span class="p">:</span> <span class="n">MainState</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="nf">MainAlphaChange</span><span class="p">(</span><span class="n">RadialMenu</span> <span class="n">menu</span><span class="p">)</span> <span class="p">:</span> <span class="k">base</span><span class="p">(</span><span class="n">menu</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span>

    <span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnSelectedIndexChanged</span><span class="p">(</span><span class="kt">int</span> <span class="n">prevIndex</span><span class="p">,</span> <span class="kt">int</span> <span class="n">currentIndex</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="n">prevIndex</span> <span class="p">&gt;=</span> <span class="m">0</span><span class="p">)</span>
            <span class="n">menu</span><span class="p">.</span><span class="nf">SetPieceAlpha</span><span class="p">(</span><span class="n">prevIndex</span><span class="p">,</span> <span class="n">NotSelectedPieceAlpha</span><span class="p">);</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">currentIndex</span> <span class="p">&gt;=</span> <span class="m">0</span><span class="p">)</span>
            <span class="n">menu</span><span class="p">.</span><span class="nf">SetPieceAlpha</span><span class="p">(</span><span class="n">currentIndex</span><span class="p">,</span> <span class="m">1f</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnExit</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">menu</span><span class="p">.</span><span class="n">_selectedIndex</span> <span class="p">&gt;=</span> <span class="m">0</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">menu</span><span class="p">.</span><span class="nf">SetPieceAlpha</span><span class="p">(</span><span class="n">menu</span><span class="p">.</span><span class="n">_selectedIndex</span><span class="p">,</span> <span class="n">NotSelectedPieceAlpha</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">/// &lt;summary&gt; 점점 작아지기 &lt;/summary&gt;</span>
<span class="k">private</span> <span class="k">sealed</span> <span class="k">class</span> <span class="nc">ScaleDown</span> <span class="p">:</span> <span class="n">DisappearanceState</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="nf">ScaleDown</span><span class="p">(</span><span class="n">RadialMenu</span> <span class="n">menu</span><span class="p">)</span> <span class="p">:</span> <span class="k">base</span><span class="p">(</span><span class="n">menu</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span>

    <span class="k">protected</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">Execute</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="c1">// 스케일 감소</span>
        <span class="n">menu</span><span class="p">.</span><span class="nf">SetAllPieceScale</span><span class="p">(</span><span class="n">menu</span><span class="p">.</span><span class="n">_stateProgress</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><br /></p>

<h2 id="상태-관리-코드-작성"><strong>상태 관리 코드 작성</strong></h2>

<p><code class="language-plaintext highlighter-rouge">RadialMenu</code> 내에서 상태 전이 및 상태 관리를 위한 코드를 작성한다.</p>

<p>우선, 인스펙터에서 상태의 종류를 enum으로 간편히 변경할 수 있도록 하기 위해</p>

<p>각 상태 애니메이션을 enum으로 정의한다.</p>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre><span class="k">private</span> <span class="k">enum</span> <span class="n">AppearanceType</span>
<span class="p">{</span>
    <span class="n">None</span><span class="p">,</span>
    <span class="n">Fade</span><span class="p">,</span>
    <span class="n">ScaleChange</span><span class="p">,</span>
    <span class="n">Spread</span><span class="p">,</span>
<span class="p">}</span>

<span class="k">private</span> <span class="k">enum</span> <span class="n">MainType</span>
<span class="p">{</span>
    <span class="n">AlphaChange</span><span class="p">,</span>
    <span class="n">ScaleChange</span><span class="p">,</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>enum으로 각 상태 종류를 정의하지 않아도 FSM의 구현에는 문제 없지만,</p>

<p>enum과 상태를 1대1로 연결하고 인스펙터에서 빠르게 옵션을 변경할 수 있다는 장점이 있다.</p>

<p>대신 새로운 상태를 구현할 때마다 enum 역시 추가하고 객체를 연결해줘야 한다는 번거로움이 있다.</p>

<p><br /></p>

<h2 id="관련-필드-정의"><strong>관련 필드 정의</strong></h2>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre></td><td class="rouge-code"><pre><span class="p">[</span><span class="nf">Header</span><span class="p">(</span><span class="s">"Animation Types"</span><span class="p">)]</span>
<span class="p">[</span><span class="n">SerializeField</span><span class="p">]</span> <span class="k">private</span> <span class="n">AppearanceType</span> <span class="n">_appearanceType</span><span class="p">;</span>
<span class="p">[</span><span class="n">SerializeField</span><span class="p">]</span> <span class="k">private</span> <span class="n">MainType</span> <span class="n">_mainType</span><span class="p">;</span>
<span class="p">[</span><span class="n">SerializeField</span><span class="p">]</span> <span class="k">private</span> <span class="n">AppearanceType</span> <span class="n">_disappearanceType</span><span class="p">;</span>

<span class="k">private</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="n">AppearanceType</span><span class="p">,</span> <span class="n">AppearanceState</span><span class="p">&gt;</span> <span class="n">_appStateDict</span> <span class="p">=</span> 
    <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="n">AppearanceType</span><span class="p">,</span> <span class="n">AppearanceState</span><span class="p">&gt;();</span>

<span class="k">private</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="n">MainType</span><span class="p">,</span> <span class="n">MainState</span><span class="p">&gt;</span> <span class="n">_mainStateDict</span> <span class="p">=</span>
    <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="n">MainType</span><span class="p">,</span> <span class="n">MainState</span><span class="p">&gt;();</span>

<span class="k">private</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="n">AppearanceType</span><span class="p">,</span> <span class="n">DisappearanceState</span><span class="p">&gt;</span> <span class="n">_disStateDict</span> <span class="p">=</span>
    <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="n">AppearanceType</span><span class="p">,</span> <span class="n">DisappearanceState</span><span class="p">&gt;();</span>

<span class="k">private</span> <span class="n">MenuState</span> <span class="n">_currentState</span><span class="p">;</span>
<span class="k">private</span> <span class="n">MenuState</span> <span class="n">AState</span> <span class="p">=&gt;</span> <span class="n">_appStateDict</span><span class="p">[</span><span class="n">_appearanceType</span><span class="p">];</span>
<span class="k">private</span> <span class="n">MenuState</span> <span class="n">MState</span> <span class="p">=&gt;</span> <span class="n">_mainStateDict</span><span class="p">[</span><span class="n">_mainType</span><span class="p">];</span>
<span class="k">private</span> <span class="n">MenuState</span> <span class="n">DState</span> <span class="p">=&gt;</span> <span class="n">_disStateDict</span><span class="p">[</span><span class="n">_disappearanceType</span><span class="p">];</span>

<span class="c1">// 현재 등장/소멸 상태 진행도</span>
<span class="k">private</span> <span class="kt">float</span> <span class="n">_stateProgress</span> <span class="p">=</span> <span class="m">0f</span><span class="p">;</span>
</pre></td></tr></tbody></table></code></div></div>

<p>enum들은 인스펙터에서 지정할 수 있도록 필드로 작성하고, <code class="language-plaintext highlighter-rouge">[SerializeField]</code>를 통해 인스펙터에 노출시킨다.</p>

<p>그리고 enum과 상태 객체의 1대1 연결을 위해 각 상태 종류마다 딕셔너리로 관리한다.</p>

<p>프로퍼티를 통해 현재 설정된 enum 타입에 따라 각 상태 객체를 곧바로 참조할 수 있도록 하고,</p>

<p>현재 적용된 상태는 <code class="language-plaintext highlighter-rouge">_currentState</code> 필드로 관리한다.</p>

<p><br /></p>

<h2 id="관련-메소드-구현"><strong>관련 메소드 구현</strong></h2>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
</pre></td><td class="rouge-code"><pre><span class="k">private</span> <span class="k">void</span> <span class="nf">Update</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">_currentState</span><span class="p">.</span><span class="nf">Update</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">private</span> <span class="k">void</span> <span class="nf">InitStateDicts</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">_currentState</span> <span class="p">=</span> <span class="n">NullState</span><span class="p">.</span><span class="n">Instance</span><span class="p">;</span>

    <span class="c1">// 1. Appearance</span>
    <span class="n">_appStateDict</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">AppearanceType</span><span class="p">.</span><span class="n">None</span><span class="p">,</span> <span class="k">new</span> <span class="nf">DefaultAppearance</span><span class="p">(</span><span class="k">this</span><span class="p">));</span>
    <span class="n">_appStateDict</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">AppearanceType</span><span class="p">.</span><span class="n">Fade</span><span class="p">,</span> <span class="k">new</span> <span class="nf">FadeIn</span><span class="p">(</span><span class="k">this</span><span class="p">));</span>
    <span class="n">_appStateDict</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">AppearanceType</span><span class="p">.</span><span class="n">ScaleChange</span><span class="p">,</span> <span class="k">new</span> <span class="nf">ScaleUp</span><span class="p">(</span><span class="k">this</span><span class="p">));</span>
    <span class="n">_appStateDict</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">AppearanceType</span><span class="p">.</span><span class="n">Spread</span><span class="p">,</span> <span class="k">new</span> <span class="nf">Spread</span><span class="p">(</span><span class="k">this</span><span class="p">));</span>

    <span class="c1">// 2. Main</span>
    <span class="n">_mainStateDict</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">MainType</span><span class="p">.</span><span class="n">AlphaChange</span><span class="p">,</span> <span class="k">new</span> <span class="nf">MainAlphaChange</span><span class="p">(</span><span class="k">this</span><span class="p">));</span>
    <span class="n">_mainStateDict</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">MainType</span><span class="p">.</span><span class="n">ScaleChange</span><span class="p">,</span> <span class="k">new</span> <span class="nf">MainScaleChange</span><span class="p">(</span><span class="k">this</span><span class="p">));</span>

    <span class="c1">// 3. Disappearance</span>
    <span class="n">_disStateDict</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">AppearanceType</span><span class="p">.</span><span class="n">None</span><span class="p">,</span> <span class="k">new</span> <span class="nf">DefaultDisappearance</span><span class="p">(</span><span class="k">this</span><span class="p">));</span>
    <span class="n">_disStateDict</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">AppearanceType</span><span class="p">.</span><span class="n">Fade</span><span class="p">,</span> <span class="k">new</span> <span class="nf">FadeOut</span><span class="p">(</span><span class="k">this</span><span class="p">));</span>
    <span class="n">_disStateDict</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">AppearanceType</span><span class="p">.</span><span class="n">ScaleChange</span><span class="p">,</span> <span class="k">new</span> <span class="nf">ScaleDown</span><span class="p">(</span><span class="k">this</span><span class="p">));</span>
    <span class="n">_disStateDict</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">AppearanceType</span><span class="p">.</span><span class="n">Spread</span><span class="p">,</span> <span class="k">new</span> <span class="nf">Gather</span><span class="p">(</span><span class="k">this</span><span class="p">));</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><code class="language-plaintext highlighter-rouge">RadialMenu</code>가 FSM의 관리자 역할을 하므로, <code class="language-plaintext highlighter-rouge">Update()</code> 메소드에서 매 프레임마다 현재 적용된 상태의 <code class="language-plaintext highlighter-rouge">.Update()</code> 메소드를 호출해준다.</p>

<p>그리고 <code class="language-plaintext highlighter-rouge">InitStateDicts()</code> 메소드는 <code class="language-plaintext highlighter-rouge">Awake()</code> 메소드 내에서 호출하여 게임 시작 시 enum과 객체를 연결해주는 역할을 수행한다.</p>

<p><br /></p>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
</pre></td><td class="rouge-code"><pre><span class="c1">/// &lt;summary&gt; 다음 상태로 진입 &lt;/summary&gt;</span>
<span class="k">private</span> <span class="k">void</span> <span class="nf">ChangeToNextState</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">_currentState</span><span class="p">.</span><span class="nf">OnExit</span><span class="p">();</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">_currentState</span> <span class="p">==</span> <span class="n">NullState</span><span class="p">.</span><span class="n">Instance</span><span class="p">)</span> <span class="n">_currentState</span> <span class="p">=</span> <span class="n">AState</span><span class="p">;</span>
    <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">_currentState</span> <span class="p">==</span> <span class="n">AState</span><span class="p">)</span> <span class="n">_currentState</span> <span class="p">=</span> <span class="n">MState</span><span class="p">;</span>
    <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">_currentState</span> <span class="p">==</span> <span class="n">MState</span><span class="p">)</span> <span class="n">_currentState</span> <span class="p">=</span> <span class="n">DState</span><span class="p">;</span>
    <span class="k">else</span> <span class="n">_currentState</span> <span class="p">=</span> <span class="n">NullState</span><span class="p">.</span><span class="n">Instance</span><span class="p">;</span>

    <span class="n">_currentState</span><span class="p">.</span><span class="nf">OnEnter</span><span class="p">();</span>
<span class="p">}</span>

<span class="c1">/// &lt;summary&gt; 강제로 등장 상태에 진입 &lt;/summary&gt;</span>
<span class="k">private</span> <span class="k">void</span> <span class="nf">ForceToEnterAppearanceState</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">_currentState</span><span class="p">.</span><span class="nf">OnExit</span><span class="p">();</span>
    <span class="n">_currentState</span> <span class="p">=</span> <span class="n">AState</span><span class="p">;</span>
    <span class="n">_currentState</span><span class="p">.</span><span class="nf">OnEnter</span><span class="p">();</span>
<span class="p">}</span>

<span class="c1">/// &lt;summary&gt; 강제로 소멸 상태에 진입 &lt;/summary&gt;</span>
<span class="k">private</span> <span class="k">void</span> <span class="nf">ForceToEnterDisappearanceState</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">_currentState</span><span class="p">.</span><span class="nf">OnExit</span><span class="p">();</span>
    <span class="n">_currentState</span> <span class="p">=</span> <span class="n">DState</span><span class="p">;</span>
    <span class="n">_currentState</span><span class="p">.</span><span class="nf">OnEnter</span><span class="p">();</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><code class="language-plaintext highlighter-rouge">ChangeToNextState()</code> 메소드는 FSM의 핵심 기능 중 하나로, 현재 적용 중인 상태의 종류에 따라 다음 상태로 전이하는 역할을 한다.</p>

<p>기본적으로 FSM은 모든 상태의 <code class="language-plaintext highlighter-rouge">Update()</code> 내에서 전이 조건을 직접 지정하고, 그에 따라 알맞은 상태로 직접 전이시키지만</p>

<p>지금 구현하는 FSM은 상태에 종류(3가지)에 따라 전이될 다음 상태가 정해져 있으므로 각 상태에서 전이 조건을 지저분하게 작성하지 않아도 이렇게 관리자 클래스의 메소드로 깔끔하게 구현할 수 있다.</p>

<p>그리고 <code class="language-plaintext highlighter-rouge">NullState</code>는 널 패턴(Null Pattern)을 사용하여 ‘비어있는 상태’를 정의한다.</p>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="k">private</span> <span class="k">sealed</span> <span class="k">class</span> <span class="nc">NullState</span> <span class="p">:</span> <span class="n">MenuState</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">static</span> <span class="n">NullState</span> <span class="n">Instance</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="p">}</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">NullState</span><span class="p">();</span>

    <span class="k">public</span> <span class="nf">NullState</span><span class="p">()</span> <span class="p">:</span> <span class="k">base</span><span class="p">(</span><span class="k">null</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span>
    <span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnEnter</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>
    <span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnExit</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>
    <span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">Update</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>또한 싱글톤 패턴(Singleton Pattern)을 사용하여 <code class="language-plaintext highlighter-rouge">NullState</code> 클래스명으로 유일한 객체를 항상 참조할 수 있도록 한다.</p>

<p><code class="language-plaintext highlighter-rouge">NullState</code>는 아무런 역할을 수행하지 않으며, 단순히 NullReferenceException을 방지하고 <code class="language-plaintext highlighter-rouge">RadialMenu</code>가 나타날 때 <code class="language-plaintext highlighter-rouge">AppearanceState</code>의 <code class="language-plaintext highlighter-rouge">OnEnter()</code> 메소드가 올바르게 호출되도록 징검다리 역할을 수행한다.</p>

<p>그리고 <code class="language-plaintext highlighter-rouge">ForceToEnterAppearanceState()</code>, <code class="language-plaintext highlighter-rouge">ForceToEnterDisappearanceState()</code> 메소드는 각각 <code class="language-plaintext highlighter-rouge">RadialMenu</code>의 <code class="language-plaintext highlighter-rouge">Show()</code>, <code class="language-plaintext highlighter-rouge">Hide()</code> 메소드에서 호출되어 <code class="language-plaintext highlighter-rouge">RadialMenu</code>가 지정된 타이밍에 따라 즉시 알맞은 상태로 진입하도록 한다.</p>

<p><br /></p>

<h2 id="gif"><strong>GIF</strong></h2>

<h3 id="1"><strong>[1]</strong></h3>
<ul>
  <li>Appearance : <code class="language-plaintext highlighter-rouge">Spread</code></li>
  <li>Main : <code class="language-plaintext highlighter-rouge">Alpha Change</code></li>
  <li>Disappearance : <code class="language-plaintext highlighter-rouge">Scale Change</code></li>
</ul>

<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/42164422/116522191-dfd7d680-a90f-11eb-9564-78b8939bb46b.gif" alt="2021_0429_RadialMenu_v2_1" /></p>

<h3 id="2"><strong>[2]</strong></h3>
<ul>
  <li>Appearance : <code class="language-plaintext highlighter-rouge">Scale Change</code></li>
  <li>Main : <code class="language-plaintext highlighter-rouge">Scale Change</code></li>
  <li>Disappearance : <code class="language-plaintext highlighter-rouge">Fade</code></li>
</ul>

<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/42164422/116522198-e1090380-a90f-11eb-9bb8-79275fd23315.gif" alt="2021_0429_RadialMenu_v2_2" /></p>

<p><br /></p>

<h1 id="추가--easing-function-적용">추가 : Easing Function 적용</h1>
<hr />

<p>시간의 흐름에 따른 <code class="language-plaintext highlighter-rouge">Appearance</code>, <code class="language-plaintext highlighter-rouge">Disapearance</code>의 진행도(<code class="language-plaintext highlighter-rouge">_stateProgress</code>)는 기본적으로 \(y=x\) 직선 그래프를 따른다.</p>

<p>그런데 여기에</p>

<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/42164422/116583301-2ac60e00-a951-11eb-82aa-cdbbacdef3f7.png" alt="image" class="normal" /></p>

<p>이런 형태의 다양한 그래프를 적용하면 굉장히 다채로운 애니메이션을 만들 수 있게 된다.</p>

<p><br /></p>

<p>방법은 간단하다.</p>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="c1">// 예시</span>
<span class="k">public</span> <span class="k">static</span> <span class="k">class</span> <span class="nc">Easing</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">static</span> <span class="kt">float</span> <span class="nf">EaseInExpo</span><span class="p">(</span><span class="kt">float</span> <span class="n">x</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="n">x</span> <span class="p">==</span> <span class="m">0f</span> <span class="p">?</span> <span class="m">0f</span> <span class="p">:</span> <span class="n">Mathf</span><span class="p">.</span><span class="nf">Pow</span><span class="p">(</span><span class="m">2f</span><span class="p">,</span> <span class="m">10f</span> <span class="p">*</span> <span class="n">x</span> <span class="p">-</span> <span class="m">10f</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>위와 같이 x값을 받아 해당 Easing Function의 y값을 결과로 리턴해주는 메소드를 정의하고,</p>

<p>예를 들어</p>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre><span class="c1">/// &lt;summary&gt; 크기 증가 &lt;/summary&gt;</span>
<span class="k">private</span> <span class="k">sealed</span> <span class="k">class</span> <span class="nc">ScaleUp</span> <span class="p">:</span> <span class="n">AppearanceState</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="nf">ScaleUp</span><span class="p">(</span><span class="n">RadialMenu</span> <span class="n">menu</span><span class="p">)</span> <span class="p">:</span> <span class="k">base</span><span class="p">(</span><span class="n">menu</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span>

    <span class="k">protected</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">Execute</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="c1">// 스케일 변경</span>
        <span class="n">menu</span><span class="p">.</span><span class="nf">SetAllPieceScale</span><span class="p">(</span><span class="n">menu</span><span class="p">.</span><span class="n">_stateProgress</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>이런 상태 애니메이션 클래스에서</p>

<p><code class="language-plaintext highlighter-rouge">menu._stateProgress</code> 값을 <code class="language-plaintext highlighter-rouge">Easing.EaseInExpo(menu._stateProgress)</code> 처럼 바꿔주면 된다.</p>

<p>Easing Function 소스 코드는 <a href="https://easings.net/ko">https://easings.net/ko</a>에서 찾을 수 있다.</p>

<p><br /></p>

<h2 id="적용-예시"><strong>적용 예시</strong></h2>

<ul>
  <li>Appearance : <code class="language-plaintext highlighter-rouge">Scale Change</code></li>
  <li>Disappearance : <code class="language-plaintext highlighter-rouge">Spread</code></li>
</ul>

<h3 id="1-기본"><strong>[1] 기본</strong></h3>

<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/42164422/116585271-2c90d100-a953-11eb-9422-93276f05b166.gif" alt="2021_0429_RadialMenu_v2_3" /></p>

<h3 id="2-easing-function-적용"><strong>[2] Easing Function 적용</strong></h3>

<ul>
  <li>Appearance : <strong>Ease Out Bounce</strong></li>
  <li>Disappearance : <strong>Ease In Bounce</strong></li>
</ul>

<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/42164422/116585279-2ef32b00-a953-11eb-9432-cc527eeacf17.gif" alt="2021_0429_RadialMenu_v3_1" /></p>

<p><br /></p>

<h1 id="source-code">Source Code</h1>
<hr />
<ul>
  <li><a href="https://github.com/rito15/UnityStudy2">https://github.com/rito15/UnityStudy2</a></li>
</ul>

<h1 id="download">Download</h1>
<hr />

<h3 id="1-코루틴-버전"><strong>[1] 코루틴 버전</strong></h3>
<ul>
  <li><a href="https://github.com/rito15/Images/files/6400174/RadialMenu_v1.zip">RadialMenu_v1.zip</a></li>
</ul>

<h3 id="2-fsm-적용"><strong>[2] FSM 적용</strong></h3>
<ul>
  <li><a href="https://github.com/rito15/Images/files/6400176/RadialMenu_v2.zip">RadialMenu_v2.zip</a></li>
</ul>

<h3 id="3-easing-function-적용"><strong>[3] Easing Function 적용</strong></h3>
<ul>
  <li><a href="https://github.com/rito15/Images/files/6411264/RadialMenu_v3.zip">RadialMenu_v3.zip</a></li>
</ul>

<h1 id="references">References</h1>
<hr />
<ul>
  <li><a href="https://easings.net/ko">https://easings.net/ko</a></li>
</ul>



      </div>

      <div class="post-tail-wrapper text-muted">

        <!-- categories -->
        
        <div class="post-meta mb-3">
          <i class="far fa-folder-open fa-fw mr-1"></i>
          
            <a href='/categories/unity/'>Unity</a>,
            <a href='/categories/unity-study/'>Unity Study</a>
        </div>
        

        <!-- tags -->
        
        <div class="post-tags">
          <i class="fa fa-tags fa-fw mr-1"></i>
          
          <a href="/tags/unity/"
            class="post-tag no-text-decoration" >unity</a>
          
          <a href="/tags/csharp/"
            class="post-tag no-text-decoration" >csharp</a>
          
          </div>
        

        <div class="post-tail-bottom
          d-flex justify-content-between align-items-center mt-3 pt-5 pb-2">
          
          <div class="license-wrapper">
            This post is licensed under
            <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a>
            by the author.
          </div>
          

          <!--
 Post sharing snippet

 v2.1
 https://github.com/cotes2020/jekyll-theme-chirpy
 © 2019 Cotes Chung
 Published under the MIT License
-->

<div class="share-wrapper">
  <span class="share-label text-muted mr-1">Share</span>
  <span class="share-icons">
    
    

    
      
        <a href="https://twitter.com/intent/tweet?text=유니티 - Radial Menu 만들기 - Rito15&url=https://rito15.github.io/posts/unity-study-radial-menu/" data-toggle="tooltip" data-placement="top"
          title="Twitter" target="_blank" rel="noopener" aria-label="Twitter">
          <i class="fa-fw fab fa-twitter"></i>
        </a>
    
      
        <a href="https://www.facebook.com/sharer/sharer.php?title=유니티 - Radial Menu 만들기 - Rito15&u=https://rito15.github.io/posts/unity-study-radial-menu/" data-toggle="tooltip" data-placement="top"
          title="Facebook" target="_blank" rel="noopener" aria-label="Facebook">
          <i class="fa-fw fab fa-facebook-square"></i>
        </a>
    
      
        <a href="https://telegram.me/share?text=유니티 - Radial Menu 만들기 - Rito15&url=https://rito15.github.io/posts/unity-study-radial-menu/" data-toggle="tooltip" data-placement="top"
          title="Telegram" target="_blank" rel="noopener" aria-label="Telegram">
          <i class="fa-fw fab fa-telegram"></i>
        </a>
    

    <i class="fa-fw fas fa-link small" onclick="copyLink()"
        data-toggle="tooltip" data-placement="top" title="Copy link"></i>

  </span>
</div>


        </div><!-- .post-tail-bottom -->

      </div><!-- div.post-tail -->

    </div> <!-- .post -->


  </div> <!-- #post-wrapper -->

  

  

  <!--
  The Pannel on right side (Desktop views)
  v2.0
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2017-2019 Cotes Chung
  MIT License
-->

<div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down">

  <div class="access">

  














  

    <div id="access-lastmod" class="post">
      <span>Recent Update</span>
      <ul class="post-content pl-0 pb-1 ml-1 mt-2">

      
        
        
        
        <li><a href="/posts/install-docker-on-windows-10/">Docker - 2. Windows 10 환경에서 도커 설치하기</a></li>
      
        
        
        
        <li><a href="/posts/unity-deltatime-and-fixeddeltatime/">유니티 - Time.deltaTime과 Time.fixedDeltaTime</a></li>
      
        
        
        
        <li><a href="/posts/unity-update-vs-coroutine-every-frame/">유니티 - 매 프레임 처리 성능 테스트 - Update() vs 코루틴</a></li>
      
        
        
        
        <li><a href="/posts/memo-git-command-1-basic/">Git - 명령어 - 1. 기본</a></li>
      
        
        
        
        <li><a href="/posts/unity-memo-show-property-on-inspector/">유니티 - 인스펙터에 프로퍼티 표시하기</a></li>
      

      </ul>
    </div> <!-- #access-lastmod -->

  

  















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        



  
    <div id="access-tags">
      <span>Trending Tags</span>
      <div class="d-flex flex-wrap mt-3 mb-1 mr-3">

      
        
        <a class="post-tag" href="/tags/csharp/">csharp</a>
      
        
        <a class="post-tag" href="/tags/unity/">unity</a>
      
        
        <a class="post-tag" href="/tags/editor/">editor</a>
      
        
        <a class="post-tag" href="/tags/shader/">shader</a>
      
        
        <a class="post-tag" href="/tags/memo/">memo</a>
      
        
        <a class="post-tag" href="/tags/graphics/">graphics</a>
      
        
        <a class="post-tag" href="/tags/opengl/">opengl</a>
      
        
        <a class="post-tag" href="/tags/amplify/">amplify</a>
      
        
        <a class="post-tag" href="/tags/thread/">thread</a>
      
        
        <a class="post-tag" href="/tags/particle/">particle</a>
      

      </div>
    </div>
  
  </div> <!-- .access -->

  
    <div id="toc-wrapper" class="pl-0 pr-4 mb-5">
      <span class="pl-3 pt-2 mb-2">Contents</span>
      <nav id="toc" data-toggle="toc"></nav>
    </div>
  

</div> <!-- #panel-wrapper -->


</div> <!-- .row -->

<div class="row">
  <div class="col-12 col-lg-11 col-xl-8">
    <div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4">

    <!--
 Recommend the other 3 posts according to the tags and categories of the current post,
 if the number is not enough, use the other latest posts to supplement.

 v2.0
 https://github.com/cotes2020/jekyll-theme-chirpy
 © 2019 Cotes Chung
 Published under the MIT License
-->

<!-- The total size of related posts  -->


<!-- An random integer that bigger than 0  -->


<!-- Equals to TAG_SCORE / {max_categories_hierarchy}  -->








  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  
    
  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  








<!-- Fill with the other newlest posts  -->






  <div id="related-posts" class="mt-5 mb-2 mb-sm-4">
    <h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3>
    <div class="card-deck mb-4">
    
      
      
      <div class="card">
        <a href="/posts/unity-serialize-tree-object/">
          <div class="card-body">
            <!--
  Date format snippet

  v2.4.1
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2020 Cotes Chung
  MIT License
-->
<span class="timeago small"
  >

  
  

  
    Sep  6, 2021
  

  <i class="unloaded">2021-09-06T23:23:00+09:00</i>

</span>
            <h3 class="pt-0 mt-1 mb-3" data-toc-skip>유니티 - 트리 구조 데이터 직렬화하기</h3>
            <div class="text-muted small">
              <p>
                





                트리(Tree) 자료구조


1
2
3
4
class TreeNode
{
    public TreeNode[] children;
}


위와 같이 자기 타입의 배열 또는 컬렉션을 필드로 갖는 구조를 트리 자료구조라고 한다.

자식 및 하위 노드들을 순회하기 위해 재귀적 호출을 많이 사용한다.





직렬화(Serialization)


데이터를 저...
              </p>
            </div>
          </div>
        </a>
      </div>
    
      
      
      <div class="card">
        <a href="/posts/unity-million-dust-simulation/">
          <div class="card-body">
            <!--
  Date format snippet

  v2.4.1
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2020 Cotes Chung
  MIT License
-->
<span class="timeago small"
  >

  
  

  
    Sep 27, 2021
  

  <i class="unloaded">2021-09-27T17:00:00+09:00</i>

</span>
            <h3 class="pt-0 mt-1 mb-3" data-toc-skip>유니티 - 물리 기반 먼지 시뮬레이션</h3>
            <div class="text-muted small">
              <p>
                





                목표


  수십만 ~ 백만 개의 먼지를 렌더링한다.
  먼지들의 움직임을 물리 기반으로 직접 구현하여 시뮬레이션한다.
  진공 청소기로 먼지들을 예쁘게 빨아들인다.






주요 개념


Compute Buffer

  큰 병렬 데이터를 GPU에 전달하거나 쉐이더끼리 공유하기 위해 사용한다.
  Vert/Frag, Compute Shader에서 S...
              </p>
            </div>
          </div>
        </a>
      </div>
    
      
      
      <div class="card">
        <a href="/posts/behavior-tree/">
          <div class="card-body">
            <!--
  Date format snippet

  v2.4.1
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2020 Cotes Chung
  MIT License
-->
<span class="timeago small"
  >

  
  

  
    Jan  5, 2021
  

  <i class="unloaded">2021-01-05T00:26:00+09:00</i>

</span>
            <h3 class="pt-0 mt-1 mb-3" data-toc-skip>유니티 - 비헤이비어 트리(Behavior Tree)</h3>
            <div class="text-muted small">
              <p>
                





                개념



  FSM (Finite State Machine)의 단점을 보완하기 위해 만들어진 기법
  FSM에서는 상태 전이 조건을 모두 각각의 상태에서 검사하지만, BT에서는 상태 동작 뿐만 아니라 전이 조건도 노드로 관리한다.
  노드 그래프를 통해 시각화하거나 params, 빌더 패턴 등을 활용하여 스크립트 내에서도 가독성 좋게 구성할 수 있다...
              </p>
            </div>
          </div>
        </a>
      </div>
    
    </div> <!-- .card-deck -->
  </div> <!-- #related-posts -->



    <!--
  Navigation buttons at the bottom of the post.

  v2.1
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2020 Cotes Chung
  MIT License
-->

<div class="post-navigation d-flex justify-content-between">
  
  <a href="/posts/bresenham-algorithm/" class="btn btn-outline-primary">
    <p>브레즌햄(픽셀에 직선 그리기) 알고리즘</p>
  </a>
  

  
  <a href="/posts/unity-editor-show-private-fields/" class="btn btn-outline-primary">
    <p>유니티 - 커스텀 에디터로 인스펙터에 Private 필드 나타내기</p>
  </a>
  

</div>

    

    </div> <!-- #post-extend-wrapper -->

  </div> <!-- .col-* -->

</div> <!-- .row -->



<script>
/* 코드 블록 우측 상단 Copy 버튼 */
const codes = document.querySelectorAll('.code-button-header + .highlighter-rouge .rouge-code');
const copyCodeButtons = document.querySelectorAll('.copy-code-button');

copyCodeButtons.forEach((copyCodeButton, index) => {
  copyCodeButton.addEventListener('click', () => {
    window.navigator.clipboard.writeText(codes[index].innerText.slice(0, -1));
    copyCodeButton.classList.add('copied');

    setTimeout(() => {
      copyCodeButton.classList.remove('copied');
    }, 2000);
  });
});
</script>


  <!-- image lazy load: https://github.com/ApoorvSaxena/lozad.js -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script>

<script type="text/javascript">
  const imgs = document.querySelectorAll('.post-content img');
  const observer = lozad(imgs);
  observer.observe();
</script>




        <!--
  The Footer
  v2.0
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2017-2019 Cotes Chung
  MIT License
-->

<footer class="d-flex w-100 justify-content-center">
  <div class="d-flex justify-content-between align-items-center">
    <div class="footer-left">
      <p class="mb-0">
        © 2023
        <a href="https://github.com/rito15">Rito15</a>.
        
        <span data-toggle="tooltip" data-placement="top"
          title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span>
        
      </p>
    </div>

    <div class="footer-right">
      <p class="mb-0">
        Powered by
        <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>
        with
        <a href="https://github.com/cotes2020/jekyll-theme-chirpy/" target="_blank" rel="noopener">Chirpy</a>
        theme.
      </p>
    </div>

  </div> <!-- div.d-flex -->
</footer>


      </div>

      <!--
  The Search results
  v2.0
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2017-2019 Cotes Chung
  MIT License
-->
<div id="search-result-wrapper" class="d-flex justify-content-center unloaded">
  <div class="col-12 col-xl-11 post-content">
    <div id="search-hints">
      <h4 class="text-muted mb-4">Trending Tags</h4>

      















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        



      
        
        <a class="post-tag" href="/tags/csharp/">csharp</a>
      
        
        <a class="post-tag" href="/tags/unity/">unity</a>
      
        
        <a class="post-tag" href="/tags/editor/">editor</a>
      
        
        <a class="post-tag" href="/tags/shader/">shader</a>
      
        
        <a class="post-tag" href="/tags/memo/">memo</a>
      
        
        <a class="post-tag" href="/tags/graphics/">graphics</a>
      
        
        <a class="post-tag" href="/tags/opengl/">opengl</a>
      
        
        <a class="post-tag" href="/tags/amplify/">amplify</a>
      
        
        <a class="post-tag" href="/tags/thread/">thread</a>
      
        
        <a class="post-tag" href="/tags/particle/">particle</a>
      

    </div>
    <div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div>
  </div>
</div>


    </div> <!-- #main-wrapper -->

    
      <!--
  mermaid-js loader
-->
<script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
<script>
  $(function() {
    let initTheme = "default";

    if ($("html[mode=dark]").length > 0
      || ($("html[mode]").length == 0
        && window.matchMedia("(prefers-color-scheme: dark)").matches ) ) {
      initTheme = "dark";
    }

    let mermaidConf = {
      theme: initTheme  /* <default|dark|forest|neutral> */
    };

    /* Markdown converts to HTML */
    $("pre").has("code.language-mermaid").each(function() {
      let svgCode = $(this).children().html();
      $(this).addClass("unloaded");
      $(this).after(`<div class=\"mermaid\">${svgCode}</div>`);
    });

    mermaid.initialize(mermaidConf);
  });
</script>

    

    <div id="mask"></div>

    <a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button">
      <i class="fas fa-angle-up"></i>
    </a>

    <!--
  Jekyll Simple Search loader
  v2.0
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2017-2019 Cotes Chung
  MIT License
-->





<script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script>

<script>
SimpleJekyllSearch({
  searchInput: document.getElementById('search-input'),
  resultsContainer: document.getElementById('search-results'),
  json: '/assets/js/data/search.json',
  searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0">  <a href="https://rito15.github.io{url}">{title}</a>  <div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1">    <div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>{categories}</div>    <div><i class="fa fa-tag fa-fw"></i>{tags}</div>  </div>  <p>{snippet}</p></div>',
  noResultsText: '<p class="mt-5">Oops! No result founds.</p>'
});
</script>


    <!-- 2021-06-29 추가 : 애널리틱스 적용 -->
    <!--
  The GA snippet
  v2.0
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2017-2019 Cotes Chung
  MIT License
-->
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-200391565-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-200391565-1');
</script>


  </body>

</html>

