<!DOCTYPE html>



<html lang="en" 
  
    mode="dark"
  
>

  <!--
  The Head
  v2.0
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2017-2019 Cotes Chung
  MIT License
-->

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="theme" content="Chirpy v2.7.2">

  <!-- Begin Jekyll SEO tag v2.7.1 -->
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="유니티 - 컴퓨트 버퍼를 통한 GPU 인스턴싱" />
<meta name="author" content="Rito15" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="GPU Instancing" />
<meta property="og:description" content="GPU Instancing" />
<link rel="canonical" href="https://rito15.github.io/posts/unity-compute-buffer-gpu-instancing/" />
<meta property="og:url" content="https://rito15.github.io/posts/unity-compute-buffer-gpu-instancing/" />
<meta property="og:site_name" content="Rito15" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-10-06T15:15:00+09:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="유니티 - 컴퓨트 버퍼를 통한 GPU 인스턴싱" />
<meta name="google-site-verification" content="google_meta_tag_verification" />
<script type="application/ld+json">
{"headline":"유니티 - 컴퓨트 버퍼를 통한 GPU 인스턴싱","description":"GPU Instancing","dateModified":"2021-10-07T01:08:09+09:00","datePublished":"2021-10-06T15:15:00+09:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://rito15.github.io/posts/unity-compute-buffer-gpu-instancing/"},"url":"https://rito15.github.io/posts/unity-compute-buffer-gpu-instancing/","author":{"@type":"Person","name":"Rito15"},"@type":"BlogPosting","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  <title>유니티 - 컴퓨트 버퍼를 통한 GPU 인스턴싱 | Rito15
  </title>

  <!--
  The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps
  Generated by: https://www.favicon-generator.org/
  v2.0
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2019 Cotes Chung
  Published under the MIT license
-->



<link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon">
<link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon">

<link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png">
<link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png">
<link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png">

<link rel="icon" type="image/png" sizes="192x192"  href="/assets/img/favicons/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png">

<link rel="manifest" href="/assets/img/favicons/manifest.json">
<meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'>
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">


  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous">
  <link rel="dns-prefetch" href="https://fonts.gstatic.com">

  <!-- GA -->
  

  <!-- jsDelivr CDN -->
  <link rel="preconnect" href="cdn.jsdelivr.net">
  <link rel="dns-prefetch" href="cdn.jsdelivr.net">

  <!-- Bootstrap -->
  <link rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
    integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous">

  <!-- Font Awesome -->
  <link rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"
    integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ="
    crossorigin="anonymous">

  <!--
  CSS selector for site.
  Chirpy v2.3
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2020 Cotes Chung
  MIT Licensed
-->






<link rel="preload" href="/assets/css/post.css" as="style">
<link rel="stylesheet" href="/assets/css/post.css">


  
    <link rel="preload" as="style" href="/assets/css/lib/bootstrap-toc.min.css">
    <link rel="stylesheet" href="/assets/css/lib/bootstrap-toc.min.css" />
  



  <!-- JavaScripts -->

  <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>

  <script defer
    src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script>

  <!--
  JS selector for site.
  Chirpy v2.3
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2020 Cotes Chung
  MIT Licensed
-->





<script async src="/assets/js/post.min.js"></script>


  <!-- MathJax -->
  <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>





</head>


  <body data-spy="scroll" data-target="#toc">

    <!--
  The Side Bar
  v2.0
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2017-2019 Cotes Chung
  MIT License
-->

<div id="sidebar" class="d-flex flex-column align-items-end">

  <div class="profile-wrapper text-center">
    <div id="avatar">
      <a href="/" alt="avatar" class="mx-auto">
        
        <img src="/assets/img/favicons/android-icon-192x192.png" alt="avatar" onerror="this.style.display='none'">
      </a>
    </div>

    <div class="site-title mt-3">
      <a href="/">Rito15</a>
    </div>

    <div class="site-subtitle font-italic">Game Programmer</div>

  </div><!-- .profile-wrapper -->

  <ul class="w-100">
    <!-- home -->
    <li class="nav-item">
      <a href="/" class="nav-link">
        <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i>
        <span>HOME</span>
      </a>
    </li>
    <!-- the real tabs -->
    
    <li class="nav-item">
      <a href="/tabs/categories/" class="nav-link">
        <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i>
        <span>CATEGORIES</span>
      </a>
    </li> <!-- .nav-item -->
    
    <li class="nav-item">
      <a href="/tabs/tags/" class="nav-link">
        <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i>
        <span>TAGS</span>
      </a>
    </li> <!-- .nav-item -->
    
    <li class="nav-item">
      <a href="/tabs/archives/" class="nav-link">
        <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i>
        <span>ARCHIVES</span>
      </a>
    </li> <!-- .nav-item -->
    
    <li class="nav-item">
      <a href="/tabs/about/" class="nav-link">
        <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i>
        <span>ABOUT</span>
      </a>
    </li> <!-- .nav-item -->
    

  </ul> <!-- ul.nav.flex-column -->

  <div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center">

    
      

      
      <a href="https://github.com/rito15" aria-label="github"
        
        target="_blank" rel="noopener">
        <i class="fab fa-github-alt"></i>
      </a>
      

    
      

      
      <a href="
          javascript:location.href = 'mailto:' + ['ghdtkals15','gmail.com'].join('@')" aria-label="email"
        
        >
        <i class="fas fa-envelope"></i>
      </a>
      

    
      

      
      <a href="/feed.xml" aria-label="rss"
        
        >
        <i class="fas fa-rss"></i>
      </a>
      

    

    

  </div> <!-- .sidebar-bottom -->

</div><!-- #sidebar -->


    <!--
  The Top Bar
  v2.0
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2017-2019 Cotes Chung
  MIT License
-->
<div id="topbar-wrapper" class="row justify-content-center topbar-down">
  <div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between">
    <span id="breadcrumb">
      
        
        <span>
          <a href="/">
            Posts
          </a>
        </span>
        
      

      
        <span>유니티 - 컴퓨트 버퍼를 통한 GPU 인스턴싱</span>
      

    </span><!-- endof #breadcrumb -->

    <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i>

    <div id="topbar-title">
      Post
    </div>

    <i id="search-trigger" class="fas fa-search fa-fw"></i>
    <span id="search-wrapper" class="align-items-center">
      <i class="fas fa-search fa-fw"></i>
      <input class="form-control" id="search-input" type="search"
        aria-label="search" placeholder="Search...">
      <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i>
    </span>
    <span id="search-cancel" >Cancel</span>
  </div>

</div>


    <div id="main-wrapper">
      <div id="main">

        <!--
  Refactor the HTML structure.
-->



<!--
  In order to allow a wide table to scroll horizontally,
  we suround the markdown table with `<div class="table-wrapper">` and `</div>`
-->


<!--
  Fixed kramdown code highlight rendering:
  https://github.com/penibelst/jekyll-compress-html/issues/101
  https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901
-->


<!-- Add attribute 'hide-bullet' to the checkbox list -->




  

  

  <!-- lazy-load images <https://github.com/ApoorvSaxena/lozad.js#usage> -->
  
  

  

  



<!-- return -->
<div class="row">

  <div id="post-wrapper" class="col-12 col-lg-11 col-xl-8">

    <div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4">

      <h1 data-toc-skip>유니티 - 컴퓨트 버퍼를 통한 GPU 인스턴싱</h1>

      <div class="post-meta text-muted d-flex flex-column">
        <!-- Published date and author -->
        <div>
          <!--
  Date format snippet

  v2.4.1
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2020 Cotes Chung
  MIT License
-->
<span class="timeago "
  
    data-toggle="tooltip"
    data-placement="bottom"
    title="Wed, Oct  6, 2021,  3:15 PM +0900"
  >

  
  

  
    Oct  6, 2021
  

  <i class="unloaded">2021-10-06T15:15:00+09:00</i>

</span>
          by
          <span class="author">
            Rito15
          </span>
        </div>

        <div>
          <!-- lastmod -->
          
          <span>
            Updated
            <!--
  Date format snippet

  v2.4.1
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2020 Cotes Chung
  MIT License
-->
<span class="timeago lastmod"
  
    data-toggle="tooltip"
    data-placement="bottom"
    title="Thu, Oct  7, 2021,  1:08 AM +0900"
  >

  
  

  
    Oct  7, 2021
  

  <i class="unloaded">2021-10-07T01:08:09+09:00</i>

</span>
          </span>
          

          <!-- read time -->
          <!--
  Calculate the post's reading time, and display the word count in tooltip
 -->






<!-- return element -->
<span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2651 words">14 min</span>


          <!-- page views -->
          

          <!-- HITS -->
          &nbsp;
          <a href="https://hits.seeyoufarm.com"><img min-width="94" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https://rito15.github.io/posts/unity-compute-buffer-gpu-instancing/%2F&count_bg=%23AC58FA&title_bg=%23555555&icon=&icon_color=%23E7E7E7&title=views&edge_flat=false"/></a> 

        </div>

      </div> <!-- .post-meta -->

      <div class="post-content">

        

        <h1 id="gpu-instancing">GPU Instancing</h1>
<hr />

<h2 id="1-컴퓨트-버퍼---메시-데이터"><strong>[1] 컴퓨트 버퍼 - 메시 데이터</strong></h2>
<ul>
  <li>그려낼 메시의 정보를 컴퓨트 버퍼에 저장한다.</li>
  <li>컴퓨트 버퍼의 <code class="language-plaintext highlighter-rouge">stride</code>는 <code class="language-plaintext highlighter-rouge">4 byte</code>(<code class="language-plaintext highlighter-rouge">sizeof(uint)</code>)이다.</li>
  <li>컴퓨트 버퍼의 크기는 <code class="language-plaintext highlighter-rouge">20 byte</code>(<code class="language-plaintext highlighter-rouge">uint</code> 5개)이며, 각각의 데이터는 메시에 대한 정보를 담고 있다.</li>
</ul>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre></td><td class="rouge-code"><pre><span class="n">Mesh</span> <span class="n">mesh</span><span class="p">;</span>                     <span class="c1">// 그려낼 메시</span>
<span class="kt">int</span> <span class="n">subMeshIndex</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>          <span class="c1">// 기본 : 0</span>
<span class="kt">int</span> <span class="n">instanceCount</span> <span class="p">=</span> <span class="m">100</span><span class="n">_000</span><span class="p">;</span>   <span class="c1">// 생성할 인스턴스의 개수</span>
<span class="kt">uint</span><span class="p">[]</span> <span class="n">argsData</span> <span class="p">=</span> <span class="k">new</span> <span class="kt">uint</span><span class="p">[</span><span class="m">5</span><span class="p">];</span> <span class="c1">// 메시 데이터</span>

<span class="n">argsData</span><span class="p">[</span><span class="m">0</span><span class="p">]</span> <span class="p">=</span> <span class="p">(</span><span class="kt">uint</span><span class="p">)</span><span class="n">mesh</span><span class="p">.</span><span class="nf">GetIndexCount</span><span class="p">(</span><span class="n">subMeshIndex</span><span class="p">);</span>
<span class="n">argsData</span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="p">=</span> <span class="p">(</span><span class="kt">uint</span><span class="p">)</span><span class="n">instanceCount</span><span class="p">;</span>
<span class="n">argsData</span><span class="p">[</span><span class="m">2</span><span class="p">]</span> <span class="p">=</span> <span class="p">(</span><span class="kt">uint</span><span class="p">)</span><span class="n">mesh</span><span class="p">.</span><span class="nf">GetIndexStart</span><span class="p">(</span><span class="n">subMeshIndex</span><span class="p">);</span>
<span class="n">argsData</span><span class="p">[</span><span class="m">3</span><span class="p">]</span> <span class="p">=</span> <span class="p">(</span><span class="kt">uint</span><span class="p">)</span><span class="n">mesh</span><span class="p">.</span><span class="nf">GetBaseVertex</span><span class="p">(</span><span class="n">subMeshIndex</span><span class="p">);</span>
<span class="n">argsData</span><span class="p">[</span><span class="m">4</span><span class="p">]</span> <span class="p">=</span> <span class="m">0</span>

<span class="n">ComputeBuffer</span> <span class="n">argsBuffer</span> <span class="p">=</span> 
    <span class="k">new</span> <span class="nf">ComputeBuffer</span><span class="p">(</span>
        <span class="m">1</span><span class="p">,</span>                                  <span class="c1">// Count</span>
        <span class="k">sizeof</span><span class="p">(</span><span class="kt">uint</span><span class="p">)</span> <span class="p">*</span> <span class="m">5</span><span class="p">,</span>                   <span class="c1">// Stride</span>
        <span class="n">ComputeBufferType</span><span class="p">.</span><span class="n">IndirectArguments</span> <span class="c1">// Buffer Type</span>
    <span class="p">);</span>

<span class="n">argsBuffer</span><span class="p">.</span><span class="nf">SetData</span><span class="p">(</span><span class="n">argsData</span><span class="p">);</span>
</pre></td></tr></tbody></table></code></div></div>

<p><br /></p>

<h2 id="2-컴퓨트-버퍼---위치-데이터"><strong>[2] 컴퓨트 버퍼 - 위치 데이터</strong></h2>
<ul>
  <li>위치 데이터를 CPU 혹은 컴퓨트 쉐이더에서 결정하며, 버텍스 쉐이더에서 받아 사용한다.</li>
  <li>위치뿐만 아니라, 필요하다면 회전과 스케일도 컴퓨트 버퍼에 담아 버텍스 쉐이더에 전달할 수 있다.</li>
</ul>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td><td class="rouge-code"><pre><span class="n">Material</span> <span class="n">material</span><span class="p">;</span> <span class="c1">// 그려낼 마테리얼</span>

<span class="c1">// XYZ : 위치, W : 스케일</span>
<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">instanceCount</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span>
<span class="p">{</span>
    <span class="k">ref</span> <span class="n">Vector4</span> <span class="n">pos</span> <span class="p">=</span> <span class="k">ref</span> <span class="n">positions</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
    <span class="n">pos</span><span class="p">.</span><span class="n">x</span> <span class="p">=</span> <span class="n">UnityEngine</span><span class="p">.</span><span class="n">Random</span><span class="p">.</span><span class="nf">Range</span><span class="p">(</span><span class="n">boundsMin</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">boundsMax</span><span class="p">.</span><span class="n">x</span><span class="p">);</span>
    <span class="n">pos</span><span class="p">.</span><span class="n">y</span> <span class="p">=</span> <span class="n">UnityEngine</span><span class="p">.</span><span class="n">Random</span><span class="p">.</span><span class="nf">Range</span><span class="p">(</span><span class="n">boundsMin</span><span class="p">.</span><span class="n">y</span><span class="p">,</span> <span class="n">boundsMax</span><span class="p">.</span><span class="n">y</span><span class="p">);</span>
    <span class="n">pos</span><span class="p">.</span><span class="n">z</span> <span class="p">=</span> <span class="n">UnityEngine</span><span class="p">.</span><span class="n">Random</span><span class="p">.</span><span class="nf">Range</span><span class="p">(</span><span class="n">boundsMin</span><span class="p">.</span><span class="n">z</span><span class="p">,</span> <span class="n">boundsMax</span><span class="p">.</span><span class="n">z</span><span class="p">);</span>
    <span class="n">pos</span><span class="p">.</span><span class="n">w</span> <span class="p">=</span> <span class="n">UnityEngine</span><span class="p">.</span><span class="n">Random</span><span class="p">.</span><span class="nf">Range</span><span class="p">(</span><span class="m">0.25f</span><span class="p">,</span> <span class="m">1f</span><span class="p">);</span> <span class="c1">// Scale</span>
<span class="p">}</span>

<span class="n">positionBuffer</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ComputeBuffer</span><span class="p">(</span><span class="n">instanceCount</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">float</span><span class="p">)</span> <span class="p">*</span> <span class="m">4</span><span class="p">);</span>
<span class="n">positionBuffer</span><span class="p">.</span><span class="nf">SetData</span><span class="p">(</span><span class="n">positions</span><span class="p">);</span>

<span class="n">material</span><span class="p">.</span><span class="nf">SetBuffer</span><span class="p">(</span><span class="s">"positionBuffer"</span><span class="p">,</span> <span class="n">positionBuffer</span><span class="p">);</span>
</pre></td></tr></tbody></table></code></div></div>

<p><br /></p>

<h2 id="3-그리기"><strong>[3] 그리기</strong></h2>
<ul>
  <li><code class="language-plaintext highlighter-rouge">Graphics.DrawMeshInstancedIndirect()</code> 메소드를 통해 그려낸다.</li>
</ul>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre><span class="c1">// 이 범위에 카메라 프러스텀이 겹치지 않는 경우, 컬링된다.</span>
<span class="n">Bounds</span> <span class="n">renderBounds</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Bounds</span><span class="p">(</span><span class="n">Vector3</span><span class="p">.</span><span class="n">zero</span><span class="p">,</span> <span class="n">Vector3</span><span class="p">.</span><span class="n">one</span> <span class="p">*</span> <span class="m">50f</span><span class="p">);</span>

<span class="n">Graphics</span><span class="p">.</span><span class="nf">DrawMeshInstancedIndirect</span><span class="p">(</span>
    <span class="n">mesh</span><span class="p">,</span>         <span class="c1">// 그려낼 메시</span>
    <span class="n">subMeshIndex</span><span class="p">,</span> <span class="c1">// 서브메시 인덱스</span>
    <span class="n">material</span><span class="p">,</span>     <span class="c1">// 그려낼 마테리얼</span>
    <span class="n">renderBounds</span><span class="p">,</span> <span class="c1">// 렌더링 영역</span>
    <span class="n">argsBuffer</span>    <span class="c1">// 메시 데이터 버퍼</span>
<span class="p">);</span>
</pre></td></tr></tbody></table></code></div></div>

<p><br /></p>

<h2 id="4-컴퓨트-버퍼-해제"><strong>[4] 컴퓨트 버퍼 해제</strong></h2>
<ul>
  <li>컴퓨트 버퍼는 가비지 콜렉터에 의해 자동적으로 해제되지 않는다.</li>
  <li>따라서 <code class="language-plaintext highlighter-rouge">OnDisable()</code>, <code class="language-plaintext highlighter-rouge">OnDestroy()</code> 등에서 적절히 해제 해줘야 한다.</li>
</ul>

<div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="k">if</span> <span class="p">(</span><span class="n">argsBuffer</span> <span class="p">!=</span> <span class="k">null</span><span class="p">)</span>
    <span class="n">argsBuffer</span><span class="p">.</span><span class="nf">Release</span><span class="p">();</span>

<span class="k">if</span> <span class="p">(</span><span class="n">positionBuffer</span> <span class="p">!=</span> <span class="k">null</span><span class="p">)</span>
    <span class="n">positionBuffer</span><span class="p">.</span><span class="nf">Release</span><span class="p">();</span>
</pre></td></tr></tbody></table></code></div></div>

<p><br /></p>

<h2 id="5-버텍스-쉐이더"><strong>[5] 버텍스 쉐이더</strong></h2>
<ul>
  <li><code class="language-plaintext highlighter-rouge">StructuredBuffer&lt;float4&gt;</code> 타입으로 버퍼 변수를 선언한다.</li>
  <li><code class="language-plaintext highlighter-rouge">&lt;&gt;</code>의 타입은 CPU측의 컴퓨트 버퍼 타입과 일치시킨다.</li>
  <li>버텍스 함수에서 <code class="language-plaintext highlighter-rouge">uint instanceID : SV_InstanceID</code>를 통해 인스턴스 인덱스를 받아올 수 있다.</li>
  <li>전달받은 위치, 스케일 데이터를 버텍스에 적용한다.</li>
</ul>

<div class="language-hlsl highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
</pre></td><td class="rouge-code"><pre><span class="cp">#pragma vertex vert
</span><span class="c1">// ...</span>
<span class="cp">#pragma target 4.5
</span>
<span class="cp">#if SHADER_TARGET &gt;= 45
</span><span class="kt">StructuredBuffer</span><span class="o">&lt;</span><span class="kt">float4</span><span class="o">&gt;</span> <span class="n">positionBuffer</span><span class="p">;</span>
<span class="cp">#endif
</span>
<span class="k">struct</span> <span class="n">v2f</span>
<span class="p">{</span>
    <span class="kt">float4</span> <span class="n">pos</span> <span class="o">:</span> <span class="nb">SV_POSITION</span><span class="p">;</span>
    <span class="kt">float2</span> <span class="n">uv</span> <span class="o">:</span> <span class="nb">TEXCOORD0</span><span class="p">;</span>
<span class="p">};</span>

<span class="n">v2f</span> <span class="nf">vert</span> <span class="p">(</span><span class="n">appdata_full</span> <span class="n">v</span><span class="p">,</span> <span class="n">uint</span> <span class="n">instanceID</span> <span class="o">:</span> <span class="n">SV_InstanceID</span><span class="p">)</span>
<span class="p">{</span>
<span class="cp">#if SHADER_TARGET &gt;= 45
</span>    <span class="kt">float4</span> <span class="n">data</span> <span class="o">=</span> <span class="n">positionBuffer</span><span class="p">[</span><span class="n">instanceID</span><span class="p">];</span>
<span class="cp">#else
</span>    <span class="kt">float4</span> <span class="n">data</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="cp">#endif
</span>
    <span class="kt">float3</span> <span class="n">localPosition</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span> <span class="o">*</span> <span class="n">data</span><span class="p">.</span><span class="n">w</span><span class="p">;</span>    <span class="c1">// 스케일 적용</span>
    <span class="kt">float3</span> <span class="n">worldPosition</span> <span class="o">=</span> <span class="n">data</span><span class="p">.</span><span class="n">xyz</span> <span class="o">+</span> <span class="n">localPosition</span><span class="p">;</span> <span class="c1">// 위치 적용</span>

    <span class="n">v2f</span> <span class="n">o</span><span class="p">;</span>
    <span class="c1">// World Pos -&gt; Clip Pos</span>
    <span class="n">o</span><span class="p">.</span><span class="n">pos</span> <span class="o">=</span> <span class="nb">mul</span><span class="p">(</span><span class="n">UNITY_MATRIX_VP</span><span class="p">,</span> <span class="kt">float4</span><span class="p">(</span><span class="n">worldPosition</span><span class="p">,</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="n">f</span><span class="p">));</span>
    <span class="n">o</span><span class="p">.</span><span class="n">uv</span>  <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">texcoord</span><span class="p">;</span>

    <span class="k">return</span> <span class="n">o</span><span class="p">;</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><br /></p>

<h1 id="예제-1">예제 1</h1>
<hr />

<h2 id="1-스크립트"><strong>[1] 스크립트</strong></h2>

<details>
  <summary> 
…
</summary>

  <!--
https://www.aleksandrhovhannisyan.com/blog/how-to-add-a-copy-to-clipboard-button-to-your-jekyll-blog/
-->

  <div class="code-button-header">
    <p><button class="copy-code-button" aria-label="Copy code to clipboard"></button></p>
  </div>

  <div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
</pre></td><td class="rouge-code"><pre><span class="p">[</span><span class="nf">Range</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">1</span><span class="n">_000_000</span><span class="p">)]</span>
<span class="k">public</span> <span class="kt">int</span> <span class="n">instanceCount</span> <span class="p">=</span> <span class="m">100</span><span class="n">_000</span><span class="p">;</span>
<span class="k">public</span> <span class="n">Mesh</span> <span class="n">mesh</span><span class="p">;</span>
<span class="k">public</span> <span class="n">Material</span> <span class="n">material</span><span class="p">;</span>
<span class="k">public</span> <span class="kt">int</span> <span class="n">subMeshIndex</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
<span class="k">public</span> <span class="n">Bounds</span> <span class="n">renderBounds</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Bounds</span><span class="p">(</span><span class="n">Vector3</span><span class="p">.</span><span class="n">zero</span><span class="p">,</span> <span class="n">Vector3</span><span class="p">.</span><span class="n">one</span> <span class="p">*</span> <span class="m">50f</span><span class="p">);</span>

<span class="k">private</span> <span class="n">ComputeBuffer</span> <span class="n">argsBuffer</span><span class="p">;</span>     <span class="c1">// 메시 데이터 버퍼</span>
<span class="k">private</span> <span class="n">ComputeBuffer</span> <span class="n">positionBuffer</span><span class="p">;</span> <span class="c1">// 위치&amp;스케일 버퍼</span>
<span class="k">private</span> <span class="kt">uint</span><span class="p">[]</span> <span class="n">argsData</span> <span class="p">=</span> <span class="k">new</span> <span class="kt">uint</span><span class="p">[</span><span class="m">5</span><span class="p">];</span>

<span class="c1">// 변경사항 감지</span>
<span class="k">private</span> <span class="kt">int</span> <span class="n">cachedInstanceCount</span><span class="p">;</span>
<span class="k">private</span> <span class="kt">int</span> <span class="n">cachedSubMeshIndex</span><span class="p">;</span>

<span class="k">private</span> <span class="k">void</span> <span class="nf">Update</span><span class="p">()</span>
<span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">mesh</span> <span class="p">==</span> <span class="k">null</span> <span class="p">||</span> <span class="n">material</span> <span class="p">==</span> <span class="k">null</span><span class="p">)</span>
        <span class="k">return</span><span class="p">;</span>

    <span class="c1">// 변경사항 생길 경우 버퍼 재생성</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">cachedInstanceCount</span> <span class="p">!=</span> <span class="n">instanceCount</span> <span class="p">||</span> <span class="n">cachedSubMeshIndex</span> <span class="p">!=</span> <span class="n">subMeshIndex</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nf">InitArgsBuffer</span><span class="p">();</span>
        <span class="nf">InitPositionBuffer</span><span class="p">();</span>

        <span class="n">cachedInstanceCount</span> <span class="p">=</span> <span class="n">instanceCount</span><span class="p">;</span>
        <span class="n">cachedSubMeshIndex</span> <span class="p">=</span> <span class="n">subMeshIndex</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nf">DrawInstances</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">private</span> <span class="k">void</span> <span class="nf">OnDestroy</span><span class="p">()</span>
<span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">argsBuffer</span> <span class="p">!=</span> <span class="k">null</span><span class="p">)</span>
        <span class="n">argsBuffer</span><span class="p">.</span><span class="nf">Release</span><span class="p">();</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">positionBuffer</span> <span class="p">!=</span> <span class="k">null</span><span class="p">)</span>
        <span class="n">positionBuffer</span><span class="p">.</span><span class="nf">Release</span><span class="p">();</span>
<span class="p">}</span>

<span class="c1">/// &lt;summary&gt; 메시 데이터 버퍼 생성 &lt;/summary&gt;</span>
<span class="k">private</span> <span class="k">void</span> <span class="nf">InitArgsBuffer</span><span class="p">()</span>
<span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">argsBuffer</span> <span class="p">==</span> <span class="k">null</span><span class="p">)</span>
        <span class="n">argsBuffer</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ComputeBuffer</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">uint</span><span class="p">)</span> <span class="p">*</span> <span class="m">5</span><span class="p">,</span> <span class="n">ComputeBufferType</span><span class="p">.</span><span class="n">IndirectArguments</span><span class="p">);</span>

    <span class="n">argsData</span><span class="p">[</span><span class="m">0</span><span class="p">]</span> <span class="p">=</span> <span class="p">(</span><span class="kt">uint</span><span class="p">)</span><span class="n">mesh</span><span class="p">.</span><span class="nf">GetIndexCount</span><span class="p">(</span><span class="n">subMeshIndex</span><span class="p">);</span>
    <span class="n">argsData</span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="p">=</span> <span class="p">(</span><span class="kt">uint</span><span class="p">)</span><span class="n">instanceCount</span><span class="p">;</span>
    <span class="n">argsData</span><span class="p">[</span><span class="m">2</span><span class="p">]</span> <span class="p">=</span> <span class="p">(</span><span class="kt">uint</span><span class="p">)</span><span class="n">mesh</span><span class="p">.</span><span class="nf">GetIndexStart</span><span class="p">(</span><span class="n">subMeshIndex</span><span class="p">);</span>
    <span class="n">argsData</span><span class="p">[</span><span class="m">3</span><span class="p">]</span> <span class="p">=</span> <span class="p">(</span><span class="kt">uint</span><span class="p">)</span><span class="n">mesh</span><span class="p">.</span><span class="nf">GetBaseVertex</span><span class="p">(</span><span class="n">subMeshIndex</span><span class="p">);</span>
    <span class="n">argsData</span><span class="p">[</span><span class="m">4</span><span class="p">]</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>

    <span class="n">argsBuffer</span><span class="p">.</span><span class="nf">SetData</span><span class="p">(</span><span class="n">argsData</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">/// &lt;summary&gt; 위치, 스케일 데이터 버퍼 생성 &lt;/summary&gt;</span>
<span class="k">private</span> <span class="k">void</span> <span class="nf">InitPositionBuffer</span><span class="p">()</span>
<span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">positionBuffer</span> <span class="p">!=</span> <span class="k">null</span><span class="p">)</span>
        <span class="n">positionBuffer</span><span class="p">.</span><span class="nf">Release</span><span class="p">();</span>

    <span class="n">Vector4</span><span class="p">[]</span> <span class="n">positions</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Vector4</span><span class="p">[</span><span class="n">instanceCount</span><span class="p">];</span>
    <span class="n">Vector3</span> <span class="n">boundsMin</span> <span class="p">=</span> <span class="n">renderBounds</span><span class="p">.</span><span class="n">min</span><span class="p">;</span>
    <span class="n">Vector3</span> <span class="n">boundsMax</span> <span class="p">=</span> <span class="n">renderBounds</span><span class="p">.</span><span class="n">max</span><span class="p">;</span>

    <span class="c1">// XYZ : 위치, W : 스케일</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">instanceCount</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span>
    <span class="p">{</span>
        <span class="k">ref</span> <span class="n">Vector4</span> <span class="n">pos</span> <span class="p">=</span> <span class="k">ref</span> <span class="n">positions</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
        <span class="n">pos</span><span class="p">.</span><span class="n">x</span> <span class="p">=</span> <span class="n">UnityEngine</span><span class="p">.</span><span class="n">Random</span><span class="p">.</span><span class="nf">Range</span><span class="p">(</span><span class="n">boundsMin</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">boundsMax</span><span class="p">.</span><span class="n">x</span><span class="p">);</span>
        <span class="n">pos</span><span class="p">.</span><span class="n">y</span> <span class="p">=</span> <span class="n">UnityEngine</span><span class="p">.</span><span class="n">Random</span><span class="p">.</span><span class="nf">Range</span><span class="p">(</span><span class="n">boundsMin</span><span class="p">.</span><span class="n">y</span><span class="p">,</span> <span class="n">boundsMax</span><span class="p">.</span><span class="n">y</span><span class="p">);</span>
        <span class="n">pos</span><span class="p">.</span><span class="n">z</span> <span class="p">=</span> <span class="n">UnityEngine</span><span class="p">.</span><span class="n">Random</span><span class="p">.</span><span class="nf">Range</span><span class="p">(</span><span class="n">boundsMin</span><span class="p">.</span><span class="n">z</span><span class="p">,</span> <span class="n">boundsMax</span><span class="p">.</span><span class="n">z</span><span class="p">);</span>
        <span class="n">pos</span><span class="p">.</span><span class="n">w</span> <span class="p">=</span> <span class="n">UnityEngine</span><span class="p">.</span><span class="n">Random</span><span class="p">.</span><span class="nf">Range</span><span class="p">(</span><span class="m">0.25f</span><span class="p">,</span> <span class="m">1f</span><span class="p">);</span> <span class="c1">// Scale</span>
    <span class="p">}</span>

    <span class="n">positionBuffer</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ComputeBuffer</span><span class="p">(</span><span class="n">instanceCount</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">float</span><span class="p">)</span> <span class="p">*</span> <span class="m">4</span><span class="p">);</span>
    <span class="n">positionBuffer</span><span class="p">.</span><span class="nf">SetData</span><span class="p">(</span><span class="n">positions</span><span class="p">);</span>

    <span class="n">material</span><span class="p">.</span><span class="nf">SetBuffer</span><span class="p">(</span><span class="s">"positionBuffer"</span><span class="p">,</span> <span class="n">positionBuffer</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">private</span> <span class="k">void</span> <span class="nf">DrawInstances</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">Graphics</span><span class="p">.</span><span class="nf">DrawMeshInstancedIndirect</span><span class="p">(</span>
        <span class="n">mesh</span><span class="p">,</span>         <span class="c1">// 그려낼 메시</span>
        <span class="n">subMeshIndex</span><span class="p">,</span> <span class="c1">// 서브메시 인덱스</span>
        <span class="n">material</span><span class="p">,</span>     <span class="c1">// 그려낼 마테리얼</span>
        <span class="n">renderBounds</span><span class="p">,</span> <span class="c1">// 렌더링 영역</span>
        <span class="n">argsBuffer</span>    <span class="c1">// 메시 데이터 버퍼</span>
    <span class="p">);</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div>  </div>

</details>

<p><br /></p>

<h2 id="2-쉐이더"><strong>[2] 쉐이더</strong></h2>

<details>
  <summary> 
…
</summary>

  <!--
https://www.aleksandrhovhannisyan.com/blog/how-to-add-a-copy-to-clipboard-button-to-your-jekyll-blog/
-->

  <div class="code-button-header">
    <p><button class="copy-code-button" aria-label="Copy code to clipboard"></button></p>
  </div>

  <div class="language-hlsl highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
</pre></td><td class="rouge-code"><pre><span class="n">Shader</span> <span class="s">"Rito/Test_GPUInstancing"</span>
<span class="p">{</span>
    <span class="n">Properties</span>
    <span class="p">{</span>
        <span class="n">_MainTex</span> <span class="p">(</span><span class="s">"Texture"</span><span class="p">,</span> <span class="mi">2</span><span class="n">D</span><span class="p">)</span> <span class="o">=</span> <span class="s">"white"</span> <span class="p">{}</span>
    <span class="p">}</span>
    <span class="n">SubShader</span>
    <span class="p">{</span>
        <span class="n">Pass</span>
        <span class="p">{</span>
            <span class="n">Tags</span> <span class="p">{</span> <span class="s">"RenderType"</span><span class="o">=</span><span class="s">"Opaque"</span> <span class="s">"LightMode"</span><span class="o">=</span><span class="s">"ForwardBase"</span><span class="p">}</span>

            <span class="n">CGPROGRAM</span>
            <span class="cp">#pragma vertex vert
</span>            <span class="cp">#pragma fragment frag
</span>            <span class="cp">#pragma multi_compile_fwdbase nolightmap nodirlightmap nodynlightmap novertexlight
</span>            <span class="cp">#pragma target 4.5
</span>
            <span class="cp">#include "UnityCG.cginc"
</span>            <span class="cp">#include "UnityLightingCommon.cginc"
</span>            <span class="cp">#include "AutoLight.cginc"
</span>
            <span class="n">sampler2D</span> <span class="n">_MainTex</span><span class="p">;</span>

        <span class="cp">#if SHADER_TARGET &gt;= 45
</span>            <span class="kt">StructuredBuffer</span><span class="o">&lt;</span><span class="kt">float4</span><span class="o">&gt;</span> <span class="n">positionBuffer</span><span class="p">;</span>
        <span class="cp">#endif
</span>
            <span class="k">struct</span> <span class="n">v2f</span>
            <span class="p">{</span>
                <span class="kt">float4</span> <span class="n">pos</span> <span class="o">:</span> <span class="nb">SV_POSITION</span><span class="p">;</span>
                <span class="kt">float2</span> <span class="n">uv</span> <span class="o">:</span> <span class="nb">TEXCOORD0</span><span class="p">;</span>
                <span class="kt">float3</span> <span class="n">diffuse</span> <span class="o">:</span> <span class="nb">TEXCOORD2</span><span class="p">;</span>
                <span class="n">SHADOW_COORDS</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
            <span class="p">};</span>

            <span class="n">v2f</span> <span class="n">vert</span> <span class="p">(</span><span class="n">appdata_full</span> <span class="n">v</span><span class="p">,</span> <span class="n">uint</span> <span class="n">instanceID</span> <span class="o">:</span> <span class="n">SV_InstanceID</span><span class="p">)</span>
            <span class="p">{</span>
            <span class="cp">#if SHADER_TARGET &gt;= 45
</span>                <span class="kt">float4</span> <span class="n">data</span> <span class="o">=</span> <span class="n">positionBuffer</span><span class="p">[</span><span class="n">instanceID</span><span class="p">];</span>
            <span class="cp">#else
</span>                <span class="kt">float4</span> <span class="n">data</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="cp">#endif
</span>
                <span class="kt">float3</span> <span class="n">localPosition</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span> <span class="o">*</span> <span class="n">data</span><span class="p">.</span><span class="n">w</span><span class="p">;</span>    <span class="c1">// 스케일 적용</span>
                <span class="kt">float3</span> <span class="n">worldPosition</span> <span class="o">=</span> <span class="n">data</span><span class="p">.</span><span class="n">xyz</span> <span class="o">+</span> <span class="n">localPosition</span><span class="p">;</span> <span class="c1">// 위치 적용</span>
                <span class="kt">float3</span> <span class="n">worldNormal</span>   <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">normal</span><span class="p">;</span>

                <span class="kt">float3</span> <span class="n">NdL</span> <span class="o">=</span> <span class="nb">saturate</span><span class="p">(</span><span class="nb">dot</span><span class="p">(</span><span class="n">worldNormal</span><span class="p">,</span> <span class="n">_WorldSpaceLightPos0</span><span class="p">.</span><span class="n">xyz</span><span class="p">));</span>
                <span class="kt">float3</span> <span class="n">diffuse</span> <span class="o">=</span> <span class="p">(</span><span class="n">NdL</span> <span class="o">*</span> <span class="n">_LightColor0</span><span class="p">.</span><span class="n">rgb</span><span class="p">);</span>

                <span class="n">v2f</span> <span class="n">o</span><span class="p">;</span>
                <span class="n">o</span><span class="p">.</span><span class="n">pos</span>     <span class="o">=</span> <span class="nb">mul</span><span class="p">(</span><span class="n">UNITY_MATRIX_VP</span><span class="p">,</span> <span class="kt">float4</span><span class="p">(</span><span class="n">worldPosition</span><span class="p">,</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="n">f</span><span class="p">));</span>
                <span class="n">o</span><span class="p">.</span><span class="n">uv</span>      <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">texcoord</span><span class="p">;</span>
                <span class="n">o</span><span class="p">.</span><span class="n">diffuse</span> <span class="o">=</span> <span class="n">diffuse</span><span class="p">;</span>

                <span class="n">TRANSFER_SHADOW</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">o</span><span class="p">;</span>
            <span class="p">}</span>

            <span class="n">fixed4</span> <span class="n">frag</span> <span class="p">(</span><span class="n">v2f</span> <span class="n">i</span><span class="p">)</span> <span class="o">:</span> <span class="n">SV_Target</span>
            <span class="p">{</span>
                <span class="n">fixed</span>  <span class="n">shadow</span>   <span class="o">=</span> <span class="n">SHADOW_ATTENUATION</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
                <span class="n">fixed4</span> <span class="n">albedo</span>   <span class="o">=</span> <span class="nb">tex2D</span><span class="p">(</span><span class="n">_MainTex</span><span class="p">,</span> <span class="n">i</span><span class="p">.</span><span class="n">uv</span><span class="p">);</span>
                <span class="kt">float3</span> <span class="n">lighting</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">diffuse</span> <span class="o">*</span> <span class="n">shadow</span><span class="p">;</span>
                <span class="n">fixed4</span> <span class="n">output</span>   <span class="o">=</span> <span class="n">fixed4</span><span class="p">(</span><span class="n">albedo</span><span class="p">.</span><span class="n">rgb</span> <span class="o">*</span> <span class="n">lighting</span><span class="p">,</span> <span class="n">albedo</span><span class="p">.</span><span class="n">a</span><span class="p">);</span>

                <span class="n">UNITY_APPLY_FOG</span><span class="p">(</span><span class="n">i</span><span class="p">.</span><span class="n">fogCoord</span><span class="p">,</span> <span class="n">output</span><span class="p">);</span>
                <span class="k">return</span> <span class="n">output</span><span class="p">;</span>
            <span class="p">}</span>

            <span class="n">ENDCG</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

</pre></td></tr></tbody></table></code></div>  </div>

</details>

<p><br /></p>

<h2 id="3-실행-결과"><strong>[3] 실행 결과</strong></h2>

<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/42164422/136166210-0551faf8-6515-4f91-ba1e-258c57f96e16.png" alt="image" /></p>

<p><br /></p>

<h1 id="예제-2--유니티-공식-문서">예제 2 : 유니티 공식 문서</h1>
<hr />

<ul>
  <li><a href="https://docs.unity3d.com/kr/current/ScriptReference/Graphics.DrawMeshInstancedIndirect.html">https://docs.unity3d.com/kr/current/ScriptReference/Graphics.DrawMeshInstancedIndirect.html</a></li>
</ul>

<h2 id="1-스크립트-1"><strong>[1] 스크립트</strong></h2>

<details>
  <summary> 
…
</summary>

  <!--
https://www.aleksandrhovhannisyan.com/blog/how-to-add-a-copy-to-clipboard-button-to-your-jekyll-blog/
-->

  <div class="code-button-header">
    <p><button class="copy-code-button" aria-label="Copy code to clipboard"></button></p>
  </div>

  <div class="language-cs highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
</pre></td><td class="rouge-code"><pre><span class="c1">//using Random = UnityEngine.Random;</span>

<span class="k">public</span> <span class="kt">int</span> <span class="n">instanceCount</span> <span class="p">=</span> <span class="m">100000</span><span class="p">;</span>
<span class="k">public</span> <span class="n">Mesh</span> <span class="n">instanceMesh</span><span class="p">;</span>
<span class="k">public</span> <span class="n">Material</span> <span class="n">instanceMaterial</span><span class="p">;</span>
<span class="k">public</span> <span class="kt">int</span> <span class="n">subMeshIndex</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>

<span class="k">private</span> <span class="kt">int</span> <span class="n">cachedInstanceCount</span> <span class="p">=</span> <span class="p">-</span><span class="m">1</span><span class="p">;</span>
<span class="k">private</span> <span class="kt">int</span> <span class="n">cachedSubMeshIndex</span> <span class="p">=</span> <span class="p">-</span><span class="m">1</span><span class="p">;</span>
<span class="k">private</span> <span class="n">ComputeBuffer</span> <span class="n">positionBuffer</span><span class="p">;</span>
<span class="k">private</span> <span class="n">ComputeBuffer</span> <span class="n">argsBuffer</span><span class="p">;</span>
<span class="k">private</span> <span class="kt">uint</span><span class="p">[]</span> <span class="n">args</span> <span class="p">=</span> <span class="k">new</span> <span class="kt">uint</span><span class="p">[</span><span class="m">5</span><span class="p">]</span> <span class="p">{</span> <span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">0</span> <span class="p">};</span>

<span class="k">void</span> <span class="nf">Start</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">argsBuffer</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ComputeBuffer</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="n">args</span><span class="p">.</span><span class="n">Length</span> <span class="p">*</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">uint</span><span class="p">),</span> <span class="n">ComputeBufferType</span><span class="p">.</span><span class="n">IndirectArguments</span><span class="p">);</span>
    <span class="nf">UpdateBuffers</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">void</span> <span class="nf">Update</span><span class="p">()</span>
<span class="p">{</span>
    <span class="c1">// 인스턴스 개수 또는 서브메시 인덱스가 변경될 경우 버퍼 재생성</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">cachedInstanceCount</span> <span class="p">!=</span> <span class="n">instanceCount</span> <span class="p">||</span> <span class="n">cachedSubMeshIndex</span> <span class="p">!=</span> <span class="n">subMeshIndex</span><span class="p">)</span>
        <span class="nf">UpdateBuffers</span><span class="p">();</span>

    <span class="c1">// Pad input</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">Input</span><span class="p">.</span><span class="nf">GetAxisRaw</span><span class="p">(</span><span class="s">"Horizontal"</span><span class="p">)</span> <span class="p">!=</span> <span class="m">0.0f</span><span class="p">)</span>
        <span class="n">instanceCount</span> <span class="p">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">Mathf</span><span class="p">.</span><span class="nf">Clamp</span><span class="p">(</span><span class="n">instanceCount</span> <span class="p">+</span> <span class="n">Input</span><span class="p">.</span><span class="nf">GetAxis</span><span class="p">(</span><span class="s">"Horizontal"</span><span class="p">)</span> <span class="p">*</span> <span class="m">40000</span><span class="p">,</span> <span class="m">1.0f</span><span class="p">,</span> <span class="m">5000000.0f</span><span class="p">);</span>

    <span class="c1">// 렌더링 영역 설정 : 카메라의 프러스텀이 Bounds와 겹치지 않으면 컬링된다.</span>
    <span class="n">Bounds</span> <span class="n">renderBounds</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Bounds</span><span class="p">(</span><span class="n">Vector3</span><span class="p">.</span><span class="n">zero</span><span class="p">,</span> <span class="k">new</span> <span class="nf">Vector3</span><span class="p">(</span><span class="m">100.0f</span><span class="p">,</span> <span class="m">100.0f</span><span class="p">,</span> <span class="m">100.0f</span><span class="p">));</span>

    <span class="c1">// Render</span>
    <span class="n">Graphics</span><span class="p">.</span><span class="nf">DrawMeshInstancedIndirect</span><span class="p">(</span>
        <span class="n">instanceMesh</span><span class="p">,</span>     <span class="c1">// 그려낼 메시</span>
        <span class="n">subMeshIndex</span><span class="p">,</span>     <span class="c1">// 서브메시 인덱스</span>
        <span class="n">instanceMaterial</span><span class="p">,</span> <span class="c1">// 그려낼 마테리얼</span>
        <span class="n">renderBounds</span><span class="p">,</span>     <span class="c1">// 렌더링 영역</span>
        <span class="n">argsBuffer</span>        <span class="c1">// 메시 데이터 버퍼</span>
    <span class="p">);</span>
<span class="p">}</span>

<span class="k">void</span> <span class="nf">OnGUI</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">GUI</span><span class="p">.</span><span class="nf">Label</span><span class="p">(</span><span class="k">new</span> <span class="nf">Rect</span><span class="p">(</span><span class="m">265</span><span class="p">,</span> <span class="m">25</span><span class="p">,</span> <span class="m">200</span><span class="p">,</span> <span class="m">30</span><span class="p">),</span> <span class="s">"Instance Count: "</span> <span class="p">+</span> <span class="n">instanceCount</span><span class="p">.</span><span class="nf">ToString</span><span class="p">());</span>
    <span class="n">instanceCount</span> <span class="p">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">GUI</span><span class="p">.</span><span class="nf">HorizontalSlider</span><span class="p">(</span><span class="k">new</span> <span class="nf">Rect</span><span class="p">(</span><span class="m">25</span><span class="p">,</span> <span class="m">20</span><span class="p">,</span> <span class="m">200</span><span class="p">,</span> <span class="m">30</span><span class="p">),</span> <span class="p">(</span><span class="kt">float</span><span class="p">)</span><span class="n">instanceCount</span><span class="p">,</span> <span class="m">1.0f</span><span class="p">,</span> <span class="m">5000000.0f</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">/// &lt;summary&gt; 인스턴스 개수 또는 서브메시 인덱스가 변경될 경우 버퍼 재생성 &lt;/summary&gt;</span>
<span class="k">void</span> <span class="nf">UpdateBuffers</span><span class="p">()</span>
<span class="p">{</span>
    <span class="c1">// 서브메시 인덱스 범위 제한</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">instanceMesh</span> <span class="p">!=</span> <span class="k">null</span><span class="p">)</span>
        <span class="n">subMeshIndex</span> <span class="p">=</span> <span class="n">Mathf</span><span class="p">.</span><span class="nf">Clamp</span><span class="p">(</span><span class="n">subMeshIndex</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="n">instanceMesh</span><span class="p">.</span><span class="n">subMeshCount</span> <span class="p">-</span> <span class="m">1</span><span class="p">);</span>

    <span class="c1">// 위치 버퍼</span>
    <span class="c1">// xyz : 3D 위치</span>
    <span class="c1">// w   : 크기</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">positionBuffer</span> <span class="p">!=</span> <span class="k">null</span><span class="p">)</span>
        <span class="n">positionBuffer</span><span class="p">.</span><span class="nf">Release</span><span class="p">();</span>
    <span class="n">positionBuffer</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ComputeBuffer</span><span class="p">(</span><span class="n">instanceCount</span><span class="p">,</span> <span class="m">16</span><span class="p">);</span>
    <span class="n">Vector4</span><span class="p">[]</span> <span class="n">positions</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Vector4</span><span class="p">[</span><span class="n">instanceCount</span><span class="p">];</span>

    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">instanceCount</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span>
    <span class="p">{</span>
        <span class="kt">float</span> <span class="n">angle</span> <span class="p">=</span> <span class="n">Random</span><span class="p">.</span><span class="nf">Range</span><span class="p">(</span><span class="m">0.0f</span><span class="p">,</span> <span class="n">Mathf</span><span class="p">.</span><span class="n">PI</span> <span class="p">*</span> <span class="m">2.0f</span><span class="p">);</span>
        <span class="kt">float</span> <span class="n">distance</span> <span class="p">=</span> <span class="n">Random</span><span class="p">.</span><span class="nf">Range</span><span class="p">(</span><span class="m">20.0f</span><span class="p">,</span> <span class="m">100.0f</span><span class="p">);</span>
        <span class="kt">float</span> <span class="n">height</span> <span class="p">=</span> <span class="n">Random</span><span class="p">.</span><span class="nf">Range</span><span class="p">(-</span><span class="m">2.0f</span><span class="p">,</span> <span class="m">2.0f</span><span class="p">);</span>
        <span class="kt">float</span> <span class="n">size</span> <span class="p">=</span> <span class="n">Random</span><span class="p">.</span><span class="nf">Range</span><span class="p">(</span><span class="m">0.05f</span><span class="p">,</span> <span class="m">0.25f</span><span class="p">);</span>
        <span class="n">positions</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Vector4</span><span class="p">(</span>
            <span class="n">Mathf</span><span class="p">.</span><span class="nf">Sin</span><span class="p">(</span><span class="n">angle</span><span class="p">)</span> <span class="p">*</span> <span class="n">distance</span><span class="p">,</span> <span class="c1">// Pos X</span>
            <span class="n">height</span><span class="p">,</span>                      <span class="c1">// Pos Y</span>
            <span class="n">Mathf</span><span class="p">.</span><span class="nf">Cos</span><span class="p">(</span><span class="n">angle</span><span class="p">)</span> <span class="p">*</span> <span class="n">distance</span><span class="p">,</span> <span class="c1">// Pos Z</span>
            <span class="n">size</span>                         <span class="c1">// Scale</span>
        <span class="p">);</span>
    <span class="p">}</span>
    <span class="n">positionBuffer</span><span class="p">.</span><span class="nf">SetData</span><span class="p">(</span><span class="n">positions</span><span class="p">);</span>
    <span class="n">instanceMaterial</span><span class="p">.</span><span class="nf">SetBuffer</span><span class="p">(</span><span class="s">"positionBuffer"</span><span class="p">,</span> <span class="n">positionBuffer</span><span class="p">);</span>

    <span class="c1">// Indirect Args Buffer : 메시 데이터 초기화</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">instanceMesh</span> <span class="p">!=</span> <span class="k">null</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">args</span><span class="p">[</span><span class="m">0</span><span class="p">]</span> <span class="p">=</span> <span class="p">(</span><span class="kt">uint</span><span class="p">)</span><span class="n">instanceMesh</span><span class="p">.</span><span class="nf">GetIndexCount</span><span class="p">(</span><span class="n">subMeshIndex</span><span class="p">);</span>
        <span class="n">args</span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="p">=</span> <span class="p">(</span><span class="kt">uint</span><span class="p">)</span><span class="n">instanceCount</span><span class="p">;</span>
        <span class="n">args</span><span class="p">[</span><span class="m">2</span><span class="p">]</span> <span class="p">=</span> <span class="p">(</span><span class="kt">uint</span><span class="p">)</span><span class="n">instanceMesh</span><span class="p">.</span><span class="nf">GetIndexStart</span><span class="p">(</span><span class="n">subMeshIndex</span><span class="p">);</span>
        <span class="n">args</span><span class="p">[</span><span class="m">3</span><span class="p">]</span> <span class="p">=</span> <span class="p">(</span><span class="kt">uint</span><span class="p">)</span><span class="n">instanceMesh</span><span class="p">.</span><span class="nf">GetBaseVertex</span><span class="p">(</span><span class="n">subMeshIndex</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">else</span>
    <span class="p">{</span>
        <span class="n">args</span><span class="p">[</span><span class="m">0</span><span class="p">]</span> <span class="p">=</span> <span class="n">args</span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="p">=</span> <span class="n">args</span><span class="p">[</span><span class="m">2</span><span class="p">]</span> <span class="p">=</span> <span class="n">args</span><span class="p">[</span><span class="m">3</span><span class="p">]</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">argsBuffer</span><span class="p">.</span><span class="nf">SetData</span><span class="p">(</span><span class="n">args</span><span class="p">);</span>

    <span class="c1">// 변화 감지를 위해 필드에 데이터 저장</span>
    <span class="n">cachedInstanceCount</span> <span class="p">=</span> <span class="n">instanceCount</span><span class="p">;</span>
    <span class="n">cachedSubMeshIndex</span> <span class="p">=</span> <span class="n">subMeshIndex</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">void</span> <span class="nf">OnDisable</span><span class="p">()</span>
<span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">positionBuffer</span> <span class="p">!=</span> <span class="k">null</span><span class="p">)</span>
        <span class="n">positionBuffer</span><span class="p">.</span><span class="nf">Release</span><span class="p">();</span>
    <span class="n">positionBuffer</span> <span class="p">=</span> <span class="k">null</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">argsBuffer</span> <span class="p">!=</span> <span class="k">null</span><span class="p">)</span>
        <span class="n">argsBuffer</span><span class="p">.</span><span class="nf">Release</span><span class="p">();</span>
    <span class="n">argsBuffer</span> <span class="p">=</span> <span class="k">null</span><span class="p">;</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div>  </div>

</details>

<p><br /></p>

<h2 id="2-1-surface-쉐이더"><strong>[2-1] Surface 쉐이더</strong></h2>

<details>
  <summary> 
…
</summary>

  <!--
https://www.aleksandrhovhannisyan.com/blog/how-to-add-a-copy-to-clipboard-button-to-your-jekyll-blog/
-->

  <div class="code-button-header">
    <p><button class="copy-code-button" aria-label="Copy code to clipboard"></button></p>
  </div>

  <div class="language-hlsl highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
</pre></td><td class="rouge-code"><pre><span class="n">Shader</span> <span class="s">"Instanced/InstancedSurf"</span> 
<span class="p">{</span>
    <span class="n">Properties</span> 
    <span class="p">{</span>
        <span class="n">_MainTex</span> <span class="p">(</span><span class="s">"Albedo (RGB)"</span><span class="p">,</span> <span class="mi">2</span><span class="n">D</span><span class="p">)</span> <span class="o">=</span> <span class="s">"white"</span> <span class="p">{}</span>
        <span class="n">_Glossiness</span> <span class="p">(</span><span class="s">"Smoothness"</span><span class="p">,</span> <span class="n">Range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span> <span class="o">=</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span>
        <span class="n">_Metallic</span> <span class="p">(</span><span class="s">"Metallic"</span><span class="p">,</span> <span class="n">Range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span> <span class="o">=</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0</span>
    <span class="p">}</span>
    <span class="n">SubShader</span> 
    <span class="p">{</span>
        <span class="n">Tags</span> <span class="p">{</span> <span class="s">"RenderType"</span><span class="o">=</span><span class="s">"Opaque"</span> <span class="p">}</span>
        <span class="n">LOD</span> <span class="mi">200</span>

        <span class="n">CGPROGRAM</span>
        <span class="c1">// Physically based Standard lighting model</span>
        <span class="cp">#pragma surface surf Standard addshadow fullforwardshadows
</span>        <span class="cp">#pragma multi_compile_instancing
</span>        <span class="cp">#pragma instancing_options procedural:setup
</span>
        <span class="n">sampler2D</span> <span class="n">_MainTex</span><span class="p">;</span>

        <span class="k">struct</span> <span class="n">Input</span> <span class="p">{</span>
            <span class="kt">float2</span> <span class="n">uv_MainTex</span><span class="p">;</span>
        <span class="p">};</span>

    <span class="cp">#ifdef UNITY_PROCEDURAL_INSTANCING_ENABLED
</span>        <span class="kt">StructuredBuffer</span><span class="o">&lt;</span><span class="kt">float4</span><span class="o">&gt;</span> <span class="n">positionBuffer</span><span class="p">;</span>
    <span class="cp">#endif
</span>
        <span class="kt">void</span> <span class="n">rotate2D</span><span class="p">(</span><span class="k">inout</span> <span class="kt">float2</span> <span class="n">v</span><span class="p">,</span> <span class="n">float</span> <span class="n">r</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">float</span> <span class="n">s</span><span class="p">,</span> <span class="n">c</span><span class="p">;</span>
            <span class="nb">sincos</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">c</span><span class="p">);</span>
            <span class="n">v</span> <span class="o">=</span> <span class="kt">float2</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">x</span> <span class="o">*</span> <span class="n">c</span> <span class="o">-</span> <span class="n">v</span><span class="p">.</span><span class="n">y</span> <span class="o">*</span> <span class="n">s</span><span class="p">,</span> <span class="n">v</span><span class="p">.</span><span class="n">x</span> <span class="o">*</span> <span class="n">s</span> <span class="o">+</span> <span class="n">v</span><span class="p">.</span><span class="n">y</span> <span class="o">*</span> <span class="n">c</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="kt">void</span> <span class="n">setup</span><span class="p">()</span>
        <span class="p">{</span>
        <span class="cp">#ifdef UNITY_PROCEDURAL_INSTANCING_ENABLED
</span>            <span class="kt">float4</span> <span class="n">data</span> <span class="o">=</span> <span class="n">positionBuffer</span><span class="p">[</span><span class="n">unity_InstanceID</span><span class="p">];</span>

            <span class="n">float</span> <span class="n">rotation</span> <span class="o">=</span> <span class="n">data</span><span class="p">.</span><span class="n">w</span> <span class="o">*</span> <span class="n">data</span><span class="p">.</span><span class="n">w</span> <span class="o">*</span> <span class="n">_Time</span><span class="p">.</span><span class="n">y</span> <span class="o">*</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span><span class="n">f</span><span class="p">;</span>
            <span class="n">rotate2D</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">xz</span><span class="p">,</span> <span class="n">rotation</span><span class="p">);</span>

            <span class="n">unity_ObjectToWorld</span><span class="p">.</span><span class="n">_11_21_31_41</span> <span class="o">=</span> <span class="kt">float4</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">w</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
            <span class="n">unity_ObjectToWorld</span><span class="p">.</span><span class="n">_12_22_32_42</span> <span class="o">=</span> <span class="kt">float4</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">data</span><span class="p">.</span><span class="n">w</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
            <span class="n">unity_ObjectToWorld</span><span class="p">.</span><span class="n">_13_23_33_43</span> <span class="o">=</span> <span class="kt">float4</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">data</span><span class="p">.</span><span class="n">w</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
            <span class="n">unity_ObjectToWorld</span><span class="p">.</span><span class="n">_14_24_34_44</span> <span class="o">=</span> <span class="kt">float4</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">xyz</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
            <span class="n">unity_WorldToObject</span> <span class="o">=</span> <span class="n">unity_ObjectToWorld</span><span class="p">;</span>
            <span class="n">unity_WorldToObject</span><span class="p">.</span><span class="n">_14_24_34</span> <span class="o">*=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
            <span class="n">unity_WorldToObject</span><span class="p">.</span><span class="n">_11_22_33</span> <span class="o">=</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="n">f</span> <span class="o">/</span> <span class="n">unity_WorldToObject</span><span class="p">.</span><span class="n">_11_22_33</span><span class="p">;</span>
        <span class="cp">#endif
</span>        <span class="p">}</span>

        <span class="n">half</span> <span class="n">_Glossiness</span><span class="p">;</span>
        <span class="n">half</span> <span class="n">_Metallic</span><span class="p">;</span>

        <span class="kt">void</span> <span class="n">surf</span> <span class="p">(</span><span class="n">Input</span> <span class="n">IN</span><span class="p">,</span> <span class="k">inout</span> <span class="n">SurfaceOutputStandard</span> <span class="n">o</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">fixed4</span> <span class="n">c</span> <span class="o">=</span> <span class="nb">tex2D</span> <span class="p">(</span><span class="n">_MainTex</span><span class="p">,</span> <span class="n">IN</span><span class="p">.</span><span class="n">uv_MainTex</span><span class="p">);</span>
            <span class="n">o</span><span class="p">.</span><span class="n">Albedo</span> <span class="o">=</span> <span class="n">c</span><span class="p">.</span><span class="n">rgb</span><span class="p">;</span>
            <span class="n">o</span><span class="p">.</span><span class="n">Metallic</span> <span class="o">=</span> <span class="n">_Metallic</span><span class="p">;</span>
            <span class="n">o</span><span class="p">.</span><span class="n">Smoothness</span> <span class="o">=</span> <span class="n">_Glossiness</span><span class="p">;</span>
            <span class="n">o</span><span class="p">.</span><span class="n">Alpha</span> <span class="o">=</span> <span class="n">c</span><span class="p">.</span><span class="n">a</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="n">ENDCG</span>
    <span class="p">}</span>
    <span class="n">FallBack</span> <span class="s">"Diffuse"</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div>  </div>

</details>

<p><br /></p>

<h2 id="2-2-vertfrag-쉐이더"><strong>[2-2] Vert/Frag 쉐이더</strong></h2>

<details>
  <summary> 
…
</summary>

  <!--
https://www.aleksandrhovhannisyan.com/blog/how-to-add-a-copy-to-clipboard-button-to-your-jekyll-blog/
-->

  <div class="code-button-header">
    <p><button class="copy-code-button" aria-label="Copy code to clipboard"></button></p>
  </div>

  <div class="language-hlsl highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
</pre></td><td class="rouge-code"><pre><span class="n">Shader</span> <span class="s">"Instanced/InstancedVertFrag"</span>
<span class="p">{</span>
    <span class="n">Properties</span> 
    <span class="p">{</span>
        <span class="n">_MainTex</span> <span class="p">(</span><span class="s">"Albedo (RGB)"</span><span class="p">,</span> <span class="mi">2</span><span class="n">D</span><span class="p">)</span> <span class="o">=</span> <span class="s">"white"</span> <span class="p">{}</span>
    <span class="p">}</span>
    <span class="n">SubShader</span> 
    <span class="p">{</span>
        <span class="n">Pass</span> 
        <span class="p">{</span>
            <span class="n">Tags</span> <span class="p">{</span><span class="s">"LightMode"</span><span class="o">=</span><span class="s">"ForwardBase"</span><span class="p">}</span>

            <span class="n">CGPROGRAM</span>

            <span class="cp">#pragma vertex vert
</span>            <span class="cp">#pragma fragment frag
</span>            <span class="cp">#pragma multi_compile_fwdbase nolightmap nodirlightmap nodynlightmap novertexlight
</span>            <span class="cp">#pragma target 4.5
</span>
            <span class="cp">#include "UnityCG.cginc"
</span>            <span class="cp">#include "UnityLightingCommon.cginc"
</span>            <span class="cp">#include "AutoLight.cginc"
</span>
            <span class="n">sampler2D</span> <span class="n">_MainTex</span><span class="p">;</span>

        <span class="cp">#if SHADER_TARGET &gt;= 45
</span>            <span class="kt">StructuredBuffer</span><span class="o">&lt;</span><span class="kt">float4</span><span class="o">&gt;</span> <span class="n">positionBuffer</span><span class="p">;</span>
        <span class="cp">#endif
</span>
            <span class="k">struct</span> <span class="n">v2f</span>
            <span class="p">{</span>
                <span class="kt">float4</span> <span class="n">pos</span> <span class="o">:</span> <span class="nb">SV_POSITION</span><span class="p">;</span>
                <span class="kt">float2</span> <span class="n">uv_MainTex</span> <span class="o">:</span> <span class="nb">TEXCOORD0</span><span class="p">;</span>
                <span class="kt">float3</span> <span class="n">ambient</span> <span class="o">:</span> <span class="nb">TEXCOORD1</span><span class="p">;</span>
                <span class="kt">float3</span> <span class="n">diffuse</span> <span class="o">:</span> <span class="nb">TEXCOORD2</span><span class="p">;</span>
                <span class="kt">float3</span> <span class="n">color</span> <span class="o">:</span> <span class="nb">TEXCOORD3</span><span class="p">;</span>
                <span class="n">SHADOW_COORDS</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
            <span class="p">};</span>

            <span class="kt">void</span> <span class="n">rotate2D</span><span class="p">(</span><span class="k">inout</span> <span class="kt">float2</span> <span class="n">v</span><span class="p">,</span> <span class="n">float</span> <span class="n">r</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">float</span> <span class="n">s</span><span class="p">,</span> <span class="n">c</span><span class="p">;</span>
                <span class="nb">sincos</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">c</span><span class="p">);</span>
                <span class="n">v</span> <span class="o">=</span> <span class="kt">float2</span><span class="p">(</span><span class="n">v</span><span class="p">.</span><span class="n">x</span> <span class="o">*</span> <span class="n">c</span> <span class="o">-</span> <span class="n">v</span><span class="p">.</span><span class="n">y</span> <span class="o">*</span> <span class="n">s</span><span class="p">,</span> <span class="n">v</span><span class="p">.</span><span class="n">x</span> <span class="o">*</span> <span class="n">s</span> <span class="o">+</span> <span class="n">v</span><span class="p">.</span><span class="n">y</span> <span class="o">*</span> <span class="n">c</span><span class="p">);</span>
            <span class="p">}</span>

            <span class="n">v2f</span> <span class="n">vert</span> <span class="p">(</span><span class="n">appdata_full</span> <span class="n">v</span><span class="p">,</span> <span class="n">uint</span> <span class="n">instanceID</span> <span class="o">:</span> <span class="n">SV_InstanceID</span><span class="p">)</span>
            <span class="p">{</span>
            <span class="cp">#if SHADER_TARGET &gt;= 45
</span>                <span class="kt">float4</span> <span class="n">data</span> <span class="o">=</span> <span class="n">positionBuffer</span><span class="p">[</span><span class="n">instanceID</span><span class="p">];</span>
            <span class="cp">#else
</span>                <span class="kt">float4</span> <span class="n">data</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="cp">#endif
</span>
                <span class="n">float</span> <span class="n">rotation</span> <span class="o">=</span> <span class="n">data</span><span class="p">.</span><span class="n">w</span> <span class="o">*</span> <span class="n">data</span><span class="p">.</span><span class="n">w</span> <span class="o">*</span> <span class="n">_Time</span><span class="p">.</span><span class="n">x</span> <span class="o">*</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span><span class="n">f</span><span class="p">;</span>
                <span class="n">rotate2D</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">xz</span><span class="p">,</span> <span class="n">rotation</span><span class="p">);</span>

                <span class="kt">float3</span> <span class="n">localPosition</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">vertex</span><span class="p">.</span><span class="n">xyz</span> <span class="o">*</span> <span class="n">data</span><span class="p">.</span><span class="n">w</span><span class="p">;</span>
                <span class="kt">float3</span> <span class="n">worldPosition</span> <span class="o">=</span> <span class="n">data</span><span class="p">.</span><span class="n">xyz</span> <span class="o">+</span> <span class="n">localPosition</span><span class="p">;</span>
                <span class="kt">float3</span> <span class="n">worldNormal</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">normal</span><span class="p">;</span>

                <span class="kt">float3</span> <span class="n">ndotl</span> <span class="o">=</span> <span class="nb">saturate</span><span class="p">(</span><span class="nb">dot</span><span class="p">(</span><span class="n">worldNormal</span><span class="p">,</span> <span class="n">_WorldSpaceLightPos0</span><span class="p">.</span><span class="n">xyz</span><span class="p">));</span>
                <span class="kt">float3</span> <span class="n">ambient</span> <span class="o">=</span> <span class="n">ShadeSH9</span><span class="p">(</span><span class="kt">float4</span><span class="p">(</span><span class="n">worldNormal</span><span class="p">,</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="n">f</span><span class="p">));</span>
                <span class="kt">float3</span> <span class="n">diffuse</span> <span class="o">=</span> <span class="p">(</span><span class="n">ndotl</span> <span class="o">*</span> <span class="n">_LightColor0</span><span class="p">.</span><span class="n">rgb</span><span class="p">);</span>
                <span class="kt">float3</span> <span class="n">color</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">color</span><span class="p">;</span>

                <span class="n">v2f</span> <span class="n">o</span><span class="p">;</span>
                <span class="n">o</span><span class="p">.</span><span class="n">pos</span> <span class="o">=</span> <span class="nb">mul</span><span class="p">(</span><span class="n">UNITY_MATRIX_VP</span><span class="p">,</span> <span class="kt">float4</span><span class="p">(</span><span class="n">worldPosition</span><span class="p">,</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="n">f</span><span class="p">));</span>
                <span class="n">o</span><span class="p">.</span><span class="n">uv_MainTex</span> <span class="o">=</span> <span class="n">v</span><span class="p">.</span><span class="n">texcoord</span><span class="p">;</span>
                <span class="n">o</span><span class="p">.</span><span class="n">ambient</span> <span class="o">=</span> <span class="n">ambient</span><span class="p">;</span>
                <span class="n">o</span><span class="p">.</span><span class="n">diffuse</span> <span class="o">=</span> <span class="n">diffuse</span><span class="p">;</span>
                <span class="n">o</span><span class="p">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">color</span><span class="p">;</span>
                <span class="n">TRANSFER_SHADOW</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">o</span><span class="p">;</span>
            <span class="p">}</span>

            <span class="n">fixed4</span> <span class="n">frag</span> <span class="p">(</span><span class="n">v2f</span> <span class="n">i</span><span class="p">)</span> <span class="o">:</span> <span class="n">SV_Target</span>
            <span class="p">{</span>
                <span class="n">fixed</span> <span class="n">shadow</span> <span class="o">=</span> <span class="n">SHADOW_ATTENUATION</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
                <span class="n">fixed4</span> <span class="n">albedo</span> <span class="o">=</span> <span class="nb">tex2D</span><span class="p">(</span><span class="n">_MainTex</span><span class="p">,</span> <span class="n">i</span><span class="p">.</span><span class="n">uv_MainTex</span><span class="p">);</span>
                <span class="kt">float3</span> <span class="n">lighting</span> <span class="o">=</span> <span class="n">i</span><span class="p">.</span><span class="n">diffuse</span> <span class="o">*</span> <span class="n">shadow</span> <span class="o">+</span> <span class="n">i</span><span class="p">.</span><span class="n">ambient</span><span class="p">;</span>
                <span class="n">fixed4</span> <span class="n">output</span> <span class="o">=</span> <span class="n">fixed4</span><span class="p">(</span><span class="n">albedo</span><span class="p">.</span><span class="n">rgb</span> <span class="o">*</span> <span class="n">i</span><span class="p">.</span><span class="n">color</span> <span class="o">*</span> <span class="n">lighting</span><span class="p">,</span> <span class="n">albedo</span><span class="p">.</span><span class="n">w</span><span class="p">);</span>
                <span class="n">UNITY_APPLY_FOG</span><span class="p">(</span><span class="n">i</span><span class="p">.</span><span class="n">fogCoord</span><span class="p">,</span> <span class="n">output</span><span class="p">);</span>
                <span class="k">return</span> <span class="n">output</span><span class="p">;</span>
            <span class="p">}</span>

            <span class="n">ENDCG</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

</pre></td></tr></tbody></table></code></div>  </div>

</details>

<p><br /></p>

<h2 id="3-실행-결과-1"><strong>[3] 실행 결과</strong></h2>

<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/42164422/136167287-a8a487a1-49c3-4a4a-af1a-598c3693399e.png" alt="image" /></p>

<p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://user-images.githubusercontent.com/42164422/136167366-5d33c62d-04de-4964-a140-e455cef22fa4.png" alt="image" /></p>

<p>Surface 쉐이더는 Receive, Cast Shadow 모두 적용되고</p>

<p>Vert/Frag 쉐이더는 적용되지 않는다.</p>

<p><br /></p>


      </div>

      <div class="post-tail-wrapper text-muted">

        <!-- categories -->
        
        <div class="post-meta mb-3">
          <i class="far fa-folder-open fa-fw mr-1"></i>
          
            <a href='/categories/unity-shader/'>Unity Shader</a>,
            <a href='/categories/shader-study/'>Shader Study</a>
        </div>
        

        <!-- tags -->
        
        <div class="post-tags">
          <i class="fa fa-tags fa-fw mr-1"></i>
          
          <a href="/tags/unity/"
            class="post-tag no-text-decoration" >unity</a>
          
          <a href="/tags/shader/"
            class="post-tag no-text-decoration" >shader</a>
          
          <a href="/tags/compute-shader/"
            class="post-tag no-text-decoration" >compute shader</a>
          
          </div>
        

        <div class="post-tail-bottom
          d-flex justify-content-between align-items-center mt-3 pt-5 pb-2">
          
          <div class="license-wrapper">
            This post is licensed under
            <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a>
            by the author.
          </div>
          

          <!--
 Post sharing snippet

 v2.1
 https://github.com/cotes2020/jekyll-theme-chirpy
 © 2019 Cotes Chung
 Published under the MIT License
-->

<div class="share-wrapper">
  <span class="share-label text-muted mr-1">Share</span>
  <span class="share-icons">
    
    

    
      
        <a href="https://twitter.com/intent/tweet?text=유니티 - 컴퓨트 버퍼를 통한 GPU 인스턴싱 - Rito15&url=https://rito15.github.io/posts/unity-compute-buffer-gpu-instancing/" data-toggle="tooltip" data-placement="top"
          title="Twitter" target="_blank" rel="noopener" aria-label="Twitter">
          <i class="fa-fw fab fa-twitter"></i>
        </a>
    
      
        <a href="https://www.facebook.com/sharer/sharer.php?title=유니티 - 컴퓨트 버퍼를 통한 GPU 인스턴싱 - Rito15&u=https://rito15.github.io/posts/unity-compute-buffer-gpu-instancing/" data-toggle="tooltip" data-placement="top"
          title="Facebook" target="_blank" rel="noopener" aria-label="Facebook">
          <i class="fa-fw fab fa-facebook-square"></i>
        </a>
    
      
        <a href="https://telegram.me/share?text=유니티 - 컴퓨트 버퍼를 통한 GPU 인스턴싱 - Rito15&url=https://rito15.github.io/posts/unity-compute-buffer-gpu-instancing/" data-toggle="tooltip" data-placement="top"
          title="Telegram" target="_blank" rel="noopener" aria-label="Telegram">
          <i class="fa-fw fab fa-telegram"></i>
        </a>
    

    <i class="fa-fw fas fa-link small" onclick="copyLink()"
        data-toggle="tooltip" data-placement="top" title="Copy link"></i>

  </span>
</div>


        </div><!-- .post-tail-bottom -->

      </div><!-- div.post-tail -->

    </div> <!-- .post -->


  </div> <!-- #post-wrapper -->

  

  

  <!--
  The Pannel on right side (Desktop views)
  v2.0
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2017-2019 Cotes Chung
  MIT License
-->

<div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down">

  <div class="access">

  














  

    <div id="access-lastmod" class="post">
      <span>Recent Update</span>
      <ul class="post-content pl-0 pb-1 ml-1 mt-2">

      
        
        
        
        <li><a href="/posts/unity-deltatime-and-fixeddeltatime/">유니티 - Time.deltaTime과 Time.fixedDeltaTime</a></li>
      
        
        
        
        <li><a href="/posts/unity-update-vs-coroutine-every-frame/">유니티 - 매 프레임 처리 성능 테스트 - Update() vs 코루틴</a></li>
      
        
        
        
        <li><a href="/posts/memo-git-command-1-basic/">Git - 명령어 - 1. 기본</a></li>
      
        
        
        
        <li><a href="/posts/install-docker-on-windows-10/">Docker - 2. Windows 10 환경에서 도커 설치하기</a></li>
      
        
        
        
        <li><a href="/posts/unity-memo-show-property-on-inspector/">유니티 - 인스펙터에 프로퍼티 표시하기</a></li>
      

      </ul>
    </div> <!-- #access-lastmod -->

  

  















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        



  
    <div id="access-tags">
      <span>Trending Tags</span>
      <div class="d-flex flex-wrap mt-3 mb-1 mr-3">

      
        
        <a class="post-tag" href="/tags/csharp/">csharp</a>
      
        
        <a class="post-tag" href="/tags/unity/">unity</a>
      
        
        <a class="post-tag" href="/tags/editor/">editor</a>
      
        
        <a class="post-tag" href="/tags/shader/">shader</a>
      
        
        <a class="post-tag" href="/tags/memo/">memo</a>
      
        
        <a class="post-tag" href="/tags/graphics/">graphics</a>
      
        
        <a class="post-tag" href="/tags/opengl/">opengl</a>
      
        
        <a class="post-tag" href="/tags/amplify/">amplify</a>
      
        
        <a class="post-tag" href="/tags/thread/">thread</a>
      
        
        <a class="post-tag" href="/tags/particle/">particle</a>
      

      </div>
    </div>
  
  </div> <!-- .access -->

  
    <div id="toc-wrapper" class="pl-0 pr-4 mb-5">
      <span class="pl-3 pt-2 mb-2">Contents</span>
      <nav id="toc" data-toggle="toc"></nav>
    </div>
  

</div> <!-- #panel-wrapper -->


</div> <!-- .row -->

<div class="row">
  <div class="col-12 col-lg-11 col-xl-8">
    <div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4">

    <!--
 Recommend the other 3 posts according to the tags and categories of the current post,
 if the number is not enough, use the other latest posts to supplement.

 v2.0
 https://github.com/cotes2020/jekyll-theme-chirpy
 © 2019 Cotes Chung
 Published under the MIT License
-->

<!-- The total size of related posts  -->


<!-- An random integer that bigger than 0  -->


<!-- Equals to TAG_SCORE / {max_categories_hierarchy}  -->








  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  
    
  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  


  

  

  

  

  

  








<!-- Fill with the other newlest posts  -->






  <div id="related-posts" class="mt-5 mb-2 mb-sm-4">
    <h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3>
    <div class="card-deck mb-4">
    
      
      
      <div class="card">
        <a href="/posts/unity-shader-receive-and-cast-shadow/">
          <div class="card-body">
            <!--
  Date format snippet

  v2.4.1
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2020 Cotes Chung
  MIT License
-->
<span class="timeago small"
  >

  
  

  
    Oct  7, 2021
  

  <i class="unloaded">2021-10-07T00:01:00+09:00</i>

</span>
            <h3 class="pt-0 mt-1 mb-3" data-toc-skip>유니티 - Vert/Frag 쉐이더에서 Receive Shadow, Cast Shadow 구현하기</h3>
            <div class="text-muted small">
              <p>
                





                Surface Shader


  쉐이더를 빠르게 작성할 수 있도록 다양한 편의를 제공한다.
  Surface 쉐이더 함수는 #pragma surface Surface쉐이더함수명으로 등록한다.
  미리 만들어진 라이팅을 간편히 적용할 수 있다.
  커스텀 라이트를 작성하는 것도 어렵지 않다.
  Receive Shadow, Cast Shadow는 자동...
              </p>
            </div>
          </div>
        </a>
      </div>
    
      
      
      <div class="card">
        <a href="/posts/lighting-models/">
          <div class="card-body">
            <!--
  Date format snippet

  v2.4.1
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2020 Cotes Chung
  MIT License
-->
<span class="timeago small"
  >

  
  

  
    Nov 16, 2020
  

  <i class="unloaded">2020-11-16T17:14:00+09:00</i>

</span>
            <h3 class="pt-0 mt-1 mb-3" data-toc-skip>Lighting Models</h3>
            <div class="text-muted small">
              <p>
                





                Vectors




  L (Light) : 정점에서 광원을 향하는 방향의 벡터
  N (Normal) : 정점의 노멀 벡터
  V (View) : 정점에서 카메라를 향하는 방향의 벡터
  R (Reflect) : 노멀벡터를 법선으로 하여 계산한 L의 반사 벡터 ( 2N(NdL)-L )
  
    H (Half) : 블린퐁에서 사용, L와 V의 중...
              </p>
            </div>
          </div>
        </a>
      </div>
    
      
      
      <div class="card">
        <a href="/posts/unity-transparent-stencil/">
          <div class="card-body">
            <!--
  Date format snippet

  v2.4.1
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2020 Cotes Chung
  MIT License
-->
<span class="timeago small"
  >

  
  

  
    Feb  6, 2021
  

  <i class="unloaded">2021-02-06T01:29:00+09:00</i>

</span>
            <h3 class="pt-0 mt-1 mb-3" data-toc-skip>유니티 반투명, 스텐실 개념 익히기</h3>
            <div class="text-muted small">
              <p>
                





                목차



  1. 불투명과 반투명
  2. 알파 블렌딩, 알파 소팅
  3. 알파 테스트
  4. 커스텀 알파 블렌딩
  5. 파티클 쉐이더 만들어보기
  6. 깨끗한 알파 블렌딩 쉐이더 만들기
  7. ZTest와 ZWrite
  8. 알파 블렌딩 쉐이더에서 발생하는 문제점들
  9. 스텐실
  10. References




불투명과 반투명

...
              </p>
            </div>
          </div>
        </a>
      </div>
    
    </div> <!-- .card-deck -->
  </div> <!-- #related-posts -->



    <!--
  Navigation buttons at the bottom of the post.

  v2.1
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2020 Cotes Chung
  MIT License
-->

<div class="post-navigation d-flex justify-content-between">
  
  <a href="/posts/raycast-to-plane/" class="btn btn-outline-primary">
    <p>Raycast to Plane</p>
  </a>
  

  
  <a href="/posts/cs-fill-same-values-in-array/" class="btn btn-outline-primary">
    <p>C# - 배열 내부를 같은 값으로 채우기</p>
  </a>
  

</div>

    

    </div> <!-- #post-extend-wrapper -->

  </div> <!-- .col-* -->

</div> <!-- .row -->



<script>
/* 코드 블록 우측 상단 Copy 버튼 */
const codes = document.querySelectorAll('.code-button-header + .highlighter-rouge .rouge-code');
const copyCodeButtons = document.querySelectorAll('.copy-code-button');

copyCodeButtons.forEach((copyCodeButton, index) => {
  copyCodeButton.addEventListener('click', () => {
    window.navigator.clipboard.writeText(codes[index].innerText.slice(0, -1));
    copyCodeButton.classList.add('copied');

    setTimeout(() => {
      copyCodeButton.classList.remove('copied');
    }, 2000);
  });
});
</script>


  <!-- image lazy load: https://github.com/ApoorvSaxena/lozad.js -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script>

<script type="text/javascript">
  const imgs = document.querySelectorAll('.post-content img');
  const observer = lozad(imgs);
  observer.observe();
</script>




        <!--
  The Footer
  v2.0
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2017-2019 Cotes Chung
  MIT License
-->

<footer class="d-flex w-100 justify-content-center">
  <div class="d-flex justify-content-between align-items-center">
    <div class="footer-left">
      <p class="mb-0">
        © 2023
        <a href="https://github.com/rito15">Rito15</a>.
        
        <span data-toggle="tooltip" data-placement="top"
          title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span>
        
      </p>
    </div>

    <div class="footer-right">
      <p class="mb-0">
        Powered by
        <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>
        with
        <a href="https://github.com/cotes2020/jekyll-theme-chirpy/" target="_blank" rel="noopener">Chirpy</a>
        theme.
      </p>
    </div>

  </div> <!-- div.d-flex -->
</footer>


      </div>

      <!--
  The Search results
  v2.0
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2017-2019 Cotes Chung
  MIT License
-->
<div id="search-result-wrapper" class="d-flex justify-content-center unloaded">
  <div class="col-12 col-xl-11 post-content">
    <div id="search-hints">
      <h4 class="text-muted mb-4">Trending Tags</h4>

      















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        



      
        
        <a class="post-tag" href="/tags/csharp/">csharp</a>
      
        
        <a class="post-tag" href="/tags/unity/">unity</a>
      
        
        <a class="post-tag" href="/tags/editor/">editor</a>
      
        
        <a class="post-tag" href="/tags/shader/">shader</a>
      
        
        <a class="post-tag" href="/tags/memo/">memo</a>
      
        
        <a class="post-tag" href="/tags/graphics/">graphics</a>
      
        
        <a class="post-tag" href="/tags/opengl/">opengl</a>
      
        
        <a class="post-tag" href="/tags/amplify/">amplify</a>
      
        
        <a class="post-tag" href="/tags/thread/">thread</a>
      
        
        <a class="post-tag" href="/tags/particle/">particle</a>
      

    </div>
    <div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div>
  </div>
</div>


    </div> <!-- #main-wrapper -->

    
      <!--
  mermaid-js loader
-->
<script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
<script>
  $(function() {
    let initTheme = "default";

    if ($("html[mode=dark]").length > 0
      || ($("html[mode]").length == 0
        && window.matchMedia("(prefers-color-scheme: dark)").matches ) ) {
      initTheme = "dark";
    }

    let mermaidConf = {
      theme: initTheme  /* <default|dark|forest|neutral> */
    };

    /* Markdown converts to HTML */
    $("pre").has("code.language-mermaid").each(function() {
      let svgCode = $(this).children().html();
      $(this).addClass("unloaded");
      $(this).after(`<div class=\"mermaid\">${svgCode}</div>`);
    });

    mermaid.initialize(mermaidConf);
  });
</script>

    

    <div id="mask"></div>

    <a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button">
      <i class="fas fa-angle-up"></i>
    </a>

    <!--
  Jekyll Simple Search loader
  v2.0
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2017-2019 Cotes Chung
  MIT License
-->





<script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script>

<script>
SimpleJekyllSearch({
  searchInput: document.getElementById('search-input'),
  resultsContainer: document.getElementById('search-results'),
  json: '/assets/js/data/search.json',
  searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0">  <a href="https://rito15.github.io{url}">{title}</a>  <div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1">    <div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>{categories}</div>    <div><i class="fa fa-tag fa-fw"></i>{tags}</div>  </div>  <p>{snippet}</p></div>',
  noResultsText: '<p class="mt-5">Oops! No result founds.</p>'
});
</script>


    <!-- 2021-06-29 추가 : 애널리틱스 적용 -->
    <!--
  The GA snippet
  v2.0
  https://github.com/cotes2020/jekyll-theme-chirpy
  © 2017-2019 Cotes Chung
  MIT License
-->
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-200391565-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-200391565-1');
</script>


  </body>

</html>

